{"version":3,"sources":["./src/app/vsan/file-services/file-service-util.ts","./src/app/vsan/file-services/create-share/create-share-wizard.component.ts","./src/app/vsan/file-services/create-share/create-share-general-page.html","./src/app/vsan/file-services/create-share/create-share-file-analytics-page.html","./src/app/vsan/file-services/create-share/create-share-wizard.component.ts.CreateShareWizardComponent.html","./src/app/vsan/file-services/create-share/create-share-file-analytics-page.component.ts","./src/app/vsan/file-services/create-share/create-share-review-page.component.ts","./src/app/vsan/file-services/create-share/create-share-net-permissions-page.component.ts","./src/app/vsan/file-services/create-share/create-share-general-page.component.ts","./src/app/vsan/file-services/create-share/create-share-net-permissions-page.html","./src/app/vsan/file-services/create-share/create-share-review-page.html","./src/app/vsan/common/directive/icon-title/icon-title.directive.ts","./src/app/vsan/file-services/create-share/create-share-wizard.module.ts","./src/app/vsan/file-services/create-share/create-share-general-page.service.ts"],"names":[],"mappings":"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","file":"121-es2015.js","sourcesContent":["/* Copyright 2020-2022 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {AffinitySiteLocation} from \"@generated/affinity-site-location\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {DomainOrHostData} from \"@generated/domain-or-host-data\";\nimport {IpSettingData} from \"@component/configurations/file-service-configuration.component\";\nimport {VsanFileServiceHostIpSettings} from \"@generated/vsan-file-service-host-ip-settings\";\nimport {VsanVdfsConfig} from \"@generated/vsan-vdfs-config\";\n\n/**\n * Holds the common properties and methods used for file service UI\n */\nexport class FileServiceUtil {\n   // properties used for API fileServiceConfigService.getFileShareAttributes\n   static readonly SHARE_NAME_PROPERTY: string = \"sharenames\";\n   static readonly SHARE_UUID_PROPERTY: string = \"shareuuids\";\n   static readonly SHARE_FILE_INDEXING_ENABLED_PROPERTY: string = \"fileIndexingEnabled\";\n\n   static getAffinitySiteLabel(site: AffinitySiteLocation, availableDomains: DomainOrHostData[]): string {\n      switch (site) {\n         case AffinitySiteLocation.PREFERRED_DOMAIN:\n            const preferredDomain: DomainOrHostData = availableDomains.find(domain => domain.isPreferred);\n            return preferredDomain ?\n                  VsanUiUtils.getString(\"vsan.fileservices.affinitySite.preferred.label\", preferredDomain.label):\n                  VsanUiUtils.getString(\"vsan.cluster.configure.summary.preferredFd\");\n         case AffinitySiteLocation.NON_PREFERRED_DOMAIN:\n            const secondaryDomain: DomainOrHostData =\n                  availableDomains.find(domain => !domain.isPreferred && !domain.isHost);\n            return secondaryDomain ?\n                  VsanUiUtils.getString(\"vsan.fileservices.affinitySite.nonPreferred.label\", secondaryDomain.label) :\n                  VsanUiUtils.getString(\"vsan.cluster.configure.summary.secondaryFd\");\n         default:\n            return VsanUiUtils.getString(\"vsan.fileservices.affinitySite.none.label\");\n      }\n   }\n\n   /**\n    * Returns the IP addresses from the File Service configuration in the form of a string, separated by commas.\n    */\n   static getIpSettings(vdfsConfig: VsanVdfsConfig, availableDomains: DomainOrHostData[]): IpSettingData[] {\n      if (!vdfsConfig\n            || !vdfsConfig.config\n            || !vdfsConfig.config.domainConfig\n            || !vdfsConfig.config.domainConfig.ipSettings) {\n         return [];\n      }\n\n      return vdfsConfig.config.domainConfig.ipSettings.map((ipSetting: VsanFileServiceHostIpSettings) => {\n         return {\n            ip: this.getIpLabel(ipSetting),\n            fqdn: ipSetting.dnsName,\n            affinitySite: FileServiceUtil.getAffinitySiteLabel(ipSetting.affinityLocation, availableDomains),\n         };\n      });\n   }\n\n   private static getIpLabel(ipSetting: VsanFileServiceHostIpSettings): string {\n      return ipSetting.isDefault\n            ? VsanUiUtils.getString(\"vsan.services.fileservices.primaryIp\", ipSetting.address)\n            : ipSetting.address;\n   }\n}\n","/* Copyright 2017-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, OnInit} from \"@angular/core\";\nimport {PageSet} from \"@component/wizard/flow-wizard.component\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {VsanFileSharesService} from \"@generated/vsan-file-shares-service\";\nimport {FileServicesCreateShareWizardModalContext} from \"./create-share-modal-context.data\";\nimport {CreateShareReviewPageComponent} from \"./create-share-review-page.component\";\nimport {CreateShareGeneralPageComponent} from \"./create-share-general-page.component\";\nimport {VsanFileServiceShareSize} from \"@generated/vsan-file-service-share-size\";\nimport {CreateShareNetPermissionsPageComponent} from \"./create-share-net-permissions-page.component\";\nimport {VsanFileServiceShareConfig} from \"@generated/vsan-file-service-share-config\";\nimport {VsanFileServiceShareAccessType} from \"@generated/vsan-file-service-share-access-type\";\nimport {VsanFileShareProtocol} from \"@generated/vsan-file-share-protocol\";\nimport {VsanFileShareNfsSecurityType} from \"@generated/vsan-file-share-nfs-security-type\";\nimport {AffinitySiteLocation} from \"@generated/affinity-site-location\";\nimport {CreateShareFileAnalyticsPageComponent} from \"./create-share-file-analytics-page.component\";\nimport {SmbShareOptions} from \"@generated/smb-share-options\";\nimport {SmbEncryptionOption} from \"@generated/smb-encryption-option\";\n\n@Component({\n   selector: \"vsan-file-services-create-share-wizard\",\n   template: `\n      <vsan-flow-wizard\n            [title]=\"title\"\n            [pageSets]=\"pages\"\n            [contextProperties]=\"context\"\n            [startingTaskProperty]=\"methodName\"\n            [services]=\"services\">\n      </vsan-flow-wizard>`,\n})\nexport class CreateShareWizardComponent implements OnInit {\n\n   services: any[] = [VsanFileSharesService];\n   pages: PageSet[];\n   context: any;\n   title: string;\n   methodName: string;\n\n   ngOnInit(): void {\n      const modalContext: FileServicesCreateShareWizardModalContext =\n            VsanUiUtils.getModalContext() as FileServicesCreateShareWizardModalContext;\n      // We have to clone the passed in share object, otherwise if user changes a property of this share,\n      // and then close the dialog, the shares list will be updated.\n      const share: VsanFileServiceShareConfig = this.createOrCloneShare(modalContext.share, modalContext.domain.name);\n\n      this.pages = [\n            new PageSet([CreateShareGeneralPageComponent]),\n            new PageSet([CreateShareNetPermissionsPageComponent],\n                  () => share.protocol !== VsanFileShareProtocol.SMB),\n            new PageSet([CreateShareFileAnalyticsPageComponent],\n                  () => modalContext.isFileAnalyticsEnabledOnCluster),\n            new PageSet([CreateShareReviewPageComponent]),\n      ];\n\n      // If a share is passed to the context, this means the user is editing an existing share\n      const isEdit: boolean = !!modalContext.share;\n      if (isEdit) {\n         this.title = VsanUiUtils.getString(\"vsan.fileservices.shares.edit.title\");\n         this.methodName = \"updateShare\";\n         if (!share.quotaSize) {\n            share.quotaSize = VsanFileServiceShareSize.GB;\n         }\n         if (!share.softQuotaSize) {\n            share.softQuotaSize = VsanFileServiceShareSize.GB;\n         }\n      } else {\n         this.title = VsanUiUtils.getString(\"vsan.fileservices.shares.create.title\");\n         this.methodName = \"createShare\";\n      }\n\n      this.context = {\n         isEdit: isEdit,\n         clusterRef: modalContext.clusterRef,\n         share: share,\n         fsDomainConfig: modalContext.domain,\n         isAffinitySiteSupported: modalContext.isAffinitySiteSupported,\n         shareUuid: modalContext.shareUuid,\n         isFileAnalyticsEnabledOnCluster: modalContext.isFileAnalyticsEnabledOnCluster,\n         isSmbProtocolSupported: modalContext.isSmbProtocolSupported,\n         isKerberosSupported: modalContext.isKerberosSupported,\n         isSmbAbeSupported: modalContext.isSmbAbeSupported,\n         policies: modalContext.policies,\n         vcCapabilityData: modalContext.vcCapabilityData,\n      };\n   }\n\n   private createOrCloneShare = (share: VsanFileServiceShareConfig, domainName: string): VsanFileServiceShareConfig => {\n      // Clone the existing file share object\n      if (share) {\n         return JSON.parse(JSON.stringify(share));\n      }\n\n      return VsanFileServiceShareConfig.Factory.create(\n            \"\",\n            domainName,\n            null,\n            VsanFileServiceShareSize.GB,\n            null,\n            VsanFileServiceShareSize.GB,\n            [],\n            \"\",\n            [],\n            VsanFileServiceShareAccessType.NO_ACCESS,\n            VsanFileShareProtocol.NFSV3_AND_NFSV4, // Default value of protocol since the first FS release\n            VsanFileShareNfsSecurityType.AUTH_SYS, // Default value of the security type is auth_sys at backend\n            SmbShareOptions.Factory.create(SmbEncryptionOption.DISABLED, false),\n            AffinitySiteLocation.NONE,\n            false, // File analytics disabled\n      );\n   };\n}\n","<!--Copyright 2018-2021 VMware, Inc. All rights reserved. -- VMware Confidential-->\n<form clrForm clrLayout=\"horizontal\">\n   <vsan-validation id=\"nfs-protocol-change-warning\"\n                    *ngIf=\"nfsVersionChangedWarning\"\n                    alertType=\"warning\"\n                    [allowClose]=\"false\"\n                    [alert]=\"'vsan.fileservices.shares.edit.nfs.protocol.warning' | localized\">\n   </vsan-validation>\n   <clr-input-container id=\"share-name\" class=\"control-full-width\">\n      <label class=\"clr-col-4\">{{\"vsan.fileservices.shares.create.name\" | localized}}</label>\n      <input clrInput\n             id=\"name\"\n             name=\"name\"\n             type=\"text\"\n             class=\"clr-col-7\"\n             vsan-auto-focus\n             [(ngModel)]=\"share.name\"\n             (change)=\"invalidate()\"\n             autocomplete=\"off\"\n             autofocus/>\n   </clr-input-container>\n   <div class=\"clr-row\" *ngIf=\"!isKerberosSupported else protocolSelection\">\n      <label class=\"clr-col-4 clr-control-label\">\n         {{\"vsan.fileservices.shares.create.protocol\" | localized}}\n      </label>\n      <div class=\"clr-col-8\">\n         {{\"vsan.fileservices.shares.create.protocol.nfsv3_and_nfsv41\" | localized}}\n      </div>\n   </div>\n   <ng-template #protocolSelection>\n      <ng-container *ngIf=\"!(isEdit && isSmbProtocolSelected) else smb_only\">\n         <clr-select-container *ngIf=\"!isEdit else nfs_only\" class=\"control-full-width\">\n            <label class=\"clr-col-4\">{{\"vsan.fileservices.shares.create.protocol\" | localized}}</label>\n            <select clrSelect\n                    id=\"protocol-select\"\n                    (ngModelChange)=\"protocolChange($event)\"\n                    [(ngModel)]=\"selectedProtocol\"\n                    class=\"clr-col-7\"\n                    name=\"protocol-select\">\n               <option *ngFor=\"let protocol of protocols\" [value]=\"protocol.value\">{{protocol.label}}</option>\n            </select>\n            <clr-control-helper *ngIf=\"!isEdit && isSmbProtocolSupported && !activeDirectoryEnabled\">\n               {{\"vsan.fileservices.shares.create.protocol.tooltip\" | localized}}\n            </clr-control-helper>\n         </clr-select-container>\n\n         <ng-template #nfs_only>\n            <div class=\"clr-row\">\n               <label class=\"clr-col-4 clr-control-label\">\n                  {{\"vsan.fileservices.shares.create.protocol\" | localized}}\n               </label>\n               <div class=\"clr-col-8\">\n                  {{\"vsan.fileservices.shares.create.protocol.nfs\" | localized}}\n               </div>\n            </div>\n         </ng-template>\n\n         <clr-select-container *ngIf=\"!isSmbProtocolSelected\" class=\"control-full-width\">\n            <label id=\"protocol-version-select-label\"\n                   class=\"clr-col-4\">{{\"vsan.fileservices.shares.create.protocol.versions.label\" | localized}}</label>\n            <select clrSelect\n                    id=\"protocol-version-select\"\n                    [(ngModel)]=\"share.protocol\"\n                    (change)=\"onEditNfsVersion()\"\n                    class=\"clr-col-7\"\n                    name=\"protocol-version-select\">\n               <option *ngFor=\"let protocol of nfsProtocols\" [value]=\"protocol.value\">{{protocol.label}}</option>\n            </select>\n         </clr-select-container>\n      </ng-container>\n   </ng-template>\n   <ng-template #smb_only>\n      <div class=\"clr-row\">\n         <label class=\"clr-col-4 clr-control-label\">{{\"vsan.fileservices.shares.create.protocol\" | localized}}</label>\n         <div class=\"clr-col-8\">\n            {{\"vsan.fileservices.shares.create.protocol.smb\" | localized}}\n         </div>\n      </div>\n   </ng-template>\n   <div class=\"control-full-width clr-form-control clr-row\" *ngIf=\"isKerberosSupported && !isSmbProtocolSelected\">\n      <label class=\"clr-col-4 clr-control-label\"\n             id=\"security-mode-label\">\n         {{\"vsan.services.fileservices.wizard.activeDirectoryPage.security.label\" | localized}}</label>\n      <div class=\"clr-control-container clr-col-md-7\"\n           id=\"security-mode-auth-sys-value\"\n           *ngIf=\"!isKerberosAllowed else security_mode_radio_group\">\n         {{\"vsan.services.fileservices.wizard.activeDirectoryPage.security.authSys\" | localized}}\n         <clr-control-helper *ngIf=\"isKerberosSupported && !activeDirectoryEnabled\">\n            {{\"vsan.fileservices.shares.create.security.tooltip\" | localized}}\n         </clr-control-helper>\n      </div>\n      <ng-template #security_mode_radio_group>\n         <div class=\"clr-control-container clr-col-md-7\"\n              role=\"radiogroup\"\n              aria-labelledby=\"security-mode-label\">\n            <div class=\"clr-radio-wrapper\">\n               <input id=\"auth-sys\"\n                      type=\"radio\"\n                      name=\"security-mode\"\n                      [(ngModel)]=\"securityMode\"\n                      [value]=\"AUTH_SYS\"\n                      (change)=\"invalidate()\">\n               <label for=\"auth-sys\" class=\"clr-control-label clr-col-2\">\n                  {{\"vsan.services.fileservices.wizard.activeDirectoryPage.security.authSys\" | localized}}\n               </label>\n               <clr-signpost class=\"indent clr-col-1\"\n                             id=\"auth-sys-signpost\"\n                             [vsan-signpost-title]=\"'vsan.services.fileservices.wizard.activeDirectoryPage.security.authSys.signpost.label' | localized\">\n                  <clr-signpost-content clrPosition=\"bottom-middle\" *clrIfOpen>\n                     {{\"vsan.services.fileservices.wizard.activeDirectoryPage.security.authSys.info\" | localized}}\n                  </clr-signpost-content>\n               </clr-signpost>\n            </div>\n            <div class=\"clr-radio-wrapper\">\n               <input id=\"kerberos\"\n                      type=\"radio\"\n                      name=\"security-mode\"\n                      [(ngModel)]=\"securityMode\"\n                      [value]=\"KERBEROS\"\n                      (change)=\"invalidate()\">\n               <label for=\"kerberos\" class=\"clr-control-label clr-col-2\">\n                  {{\"vsan.services.fileservices.wizard.activeDirectoryPage.security.kerberos\" | localized}}\n               </label>\n               <clr-signpost class=\"indent clr-col-1\"\n                             id=\"kerberos-signpost\"\n                             [vsan-signpost-title]=\"'vsan.services.fileservices.wizard.activeDirectoryPage.security.kerberos.signpost.label' | localized\">\n                  <clr-signpost-content clrPosition=\"bottom-middle\" *clrIfOpen>\n                     {{\"vsan.services.fileservices.wizard.activeDirectoryPage.security.kerberos.info\" | localized}}\n                  </clr-signpost-content>\n               </clr-signpost>\n            </div>\n         </div>\n      </ng-template>\n   </div>\n   <ng-container *ngIf=\"securityMode === KERBEROS && isKerberosAllowed\">\n      <clr-select-container class=\"control-full-width\">\n         <label class=\"clr-col-4\">\n            {{\"vsan.services.fileservices.wizard.activeDirectoryPage.security.kerberos.requirements.label\" | localized}}\n         </label>\n         <select clrSelect\n                 id=\"kerberos-requirement\"\n                 name=\"kerberos-requirement\"\n                 class=\"clr-col-7\"\n                 [(ngModel)]=\"share.securityType\"\n                 (change)=\"invalidate()\">\n            <option *ngFor=\"let secType of krbOptions\"\n                    [ngValue]=\"secType.value\">\n               {{secType.label}}\n            </option>\n         </select>\n      </clr-select-container>\n   </ng-container>\n\n   <!--Has to use html format to render the toggle because of PR 2636697-->\n   <div *ngIf=\"isSmbProtocolSelected\" class=\"control-full-width clr-form-control clr-row\">\n      <div class=\"clr-col-4 label-signpost-container\">\n         <label id=\"smb-encryption-option-label\"\n                class=\"clr-control-label clr-col-auto\"\n                for=\"smb-encryption-option\">\n            {{\"vsan.fileservices.shares.create.protocol.smb.encryption\" | localized}}\n         </label>\n         <clr-signpost id=\"smb-encryption-signpost\"\n                       [vsan-signpost-title]=\"'vsan.fileservices.shares.create.protocol.smb.encryption.signpost.label' | localized\">\n            <clr-signpost-content clrPosition=\"right-bottom\" *clrIfOpen>\n               {{\"vsan.fileservices.shares.create.protocol.smb.mandatory.desc\" | localized}}\n            </clr-signpost-content>\n         </clr-signpost>\n      </div>\n      <div class=\"clr-control-container clr-col-7\">\n         <div class=\"clr-toggle-wrapper\">\n            <input id=\"smb-encryption-option\"\n                   name=\"smb-encryption-option\"\n                   type=\"checkbox\"\n                   clrToggle\n                   [(ngModel)]=\"smbEncryptionEnabled\"/>\n         </div>\n      </div>\n   </div>\n\n   <div *ngIf=\"isSmbProtocolSelected && isSmbAbeSupported\" class=\"control-full-width clr-form-control clr-row\">\n      <div class=\"clr-col-4 label-signpost-container\">\n         <label id=\"smb-abe-option-label\"\n                class=\"clr-control-label clr-col-auto\"\n                for=\"smb-abe-option\">\n            {{\"vsan.fileservices.shares.create.protocol.smb.abe\" | localized}}\n         </label>\n         <clr-signpost id=\"smb-abe-signpost\"\n                       [vsan-signpost-title]=\"'vsan.fileservices.shares.create.protocol.smb.abe.signpost.label' | localized\">\n            <clr-signpost-content clrPosition=\"right-bottom\" *clrIfOpen>\n               {{\"vsan.fileservices.shares.create.protocol.smb.abe.desc\" | localized}}\n            </clr-signpost-content>\n         </clr-signpost>\n      </div>\n      <div class=\"clr-control-container clr-col-7\">\n         <div class=\"clr-toggle-wrapper\">\n            <input id=\"smb-abe-option\"\n                   name=\"smb-abe-option\"\n                   type=\"checkbox\"\n                   clrToggle\n                   [(ngModel)]=\"share.smbShareOptions.accessBasedEnumeration\"/>\n         </div>\n      </div>\n   </div>\n   <vsan-validation id=\"abe-info\"\n                    *ngIf=\"share?.smbShareOptions?.accessBasedEnumeration\"\n                    [alertType]=\"'info'\"\n                    [isSmall]=\"true\"\n                    [allowClose]=\"false\"\n                    [alert]=\"'vsan.fileservices.shares.create.protocol.smb.abe.info' | localized\">\n   </vsan-validation>\n\n   <clr-select-container class=\"control-full-width\">\n      <label class=\"clr-col-4\">{{\"vsan.fileservices.shares.create.storagePolicy\" | localized}}</label>\n      <select clrSelect\n              id=\"policy\"\n              class=\"clr-col-7\"\n              name=\"policy\"\n              (change)=\"invalidate()\"\n              [(ngModel)]=\"selectedPolicy\">\n         <option *ngFor=\"let policy of policies\"\n                 [ngValue]=\"policy\">\n            {{policy.name}}\n         </option>\n      </select>\n   </clr-select-container>\n\n   <clr-select-container *ngIf=\"displayAffinitySiteSelection\"\n                         class=\"control-full-width\">\n      <label class=\"clr-control-label clr-col-4\">\n         {{\"vsan.fileservices.affinitySite.label\" | localized}}\n         <clr-signpost id=\"share-affinity-signpost\"\n                       [vsan-signpost-title]=\"'vsan.fileservices.affinitySite.signpost.label' | localized\">\n            <clr-signpost-content clrPosition=\"right-top\" *clrIfOpen>\n               {{\"vsan.fileservices.share.create.affinitySite.signpost\" | localized}}\n            </clr-signpost-content>\n         </clr-signpost>\n      </label>\n      <select clrSelect\n              id=\"affinity-location\"\n              name=\"affinity-location\"\n              class=\"clr-col-7\"\n              (change)=\"toggleAffinitySiteWarning()\"\n              [(ngModel)]=\"share.affinityLocation\">\n         <option *ngFor=\"let site of affinitySites\"\n                 [ngValue]=\"site\">\n            {{getAffinitySiteLabel(site)}}\n         </option>\n      </select>\n      <clr-control-helper>\n         {{\"vsan.fileservices.affinitySite.selection.disabled.reason\" | localized}}\n      </clr-control-helper>\n   </clr-select-container>\n   <vsan-validation id=\"affinity-site-change-warning\"\n                    *ngIf=\"displayAffinitySiteSelection && isAffinitySiteChangeWarningShown\"\n                    isSmall=\"true\"\n                    alertType=\"info\"\n                    [alert]=\"'vsan.fileservices.share.affinitySite.change.warning' | localized\">\n   </vsan-validation>\n\n   <clr-input-container>\n      <label class=\"clr-col-4\" id=\"storage-space-quotas-label\">\n         {{\"vsan.fileservices.shares.create.quota\" | localized}}\n      </label>\n   </clr-input-container>\n\n   <div class=\"clr-row\"\n        role=\"group\"\n        aria-labelledby=\"storage-space-quotas-label\">\n      <clr-checkbox-wrapper class=\"clr-col-4 indent\">\n         <input type=\"checkbox\"\n                clrCheckbox\n                id=\"warning-threshold-check\"\n                name=\"warning-threshold-check\"\n                (change)=\"invalidate()\"\n                [(ngModel)]=\"isWarningThresholdSelected\"/>\n         <label class=\"clr-col-12\">\n            {{\"vsan.fileservices.shares.create.shareWarningThreshold\" | localized}}\n         </label>\n      </clr-checkbox-wrapper>\n      <div class=\"clr-col-7 clr-row quota-field\">\n         <input id=\"warning-threshold-value\"\n                name=\"warning-threshold-value-1\"\n                type=\"text\"\n                class=\"clr-col-3 clr-input\"\n                [disabled]=\"!isWarningThresholdSelected\"\n                [(ngModel)]=\"warningThresholdValue\"\n                (change)=\"invalidate()\"\n                (input)=\"VsanUiUtils.numberValidator($event)\"/>\n\n         <div class=\"clr-col\">\n            <div class=\"clr-select-wrapper\">\n               <select id=\"warning-threshold-size\"\n                       name=\"warning-threshold-size\"\n                       [disabled]=\"!isWarningThresholdSelected\"\n                       (change)=\"invalidate()\"\n                       [(ngModel)]=\"warningThresholdSize\">\n                  <option *ngFor=\"let size of sizes\"\n                          [value]=\"size\"\n                          [attr.selected]=\"warningThresholdSize === size\">\n                     {{getSizeLabel(size)}}\n                  </option>\n               </select>\n            </div>\n         </div>\n      </div>\n   </div>\n\n   <div class=\"clr-row\"\n        role=\"group\"\n        aria-labelledby=\"storage-space-quotas-label\">\n      <clr-checkbox-wrapper class=\"clr-col-4 indent\">\n         <input type=\"checkbox\"\n                clrCheckbox\n                id=\"hard-quota-check\"\n                name=\"hard-quota-check\"\n                (change)=\"invalidate()\"\n                [(ngModel)]=\"isHardQuotaSelected\"/>\n         <label class=\"clr-col-12\">{{\"vsan.fileservices.shares.create.shareHardQuota\" | localized}}</label>\n      </clr-checkbox-wrapper>\n\n      <div class=\"clr-col-7 clr-row quota-field\">\n         <input id=\"hard-quota-value\"\n                name=\"hard-quota-value\"\n                type=\"text\"\n                class=\"clr-col-3 clr-input\"\n                [disabled]=\"!isHardQuotaSelected\"\n                [(ngModel)]=\"hardQuotaValue\"\n                (change)=\"invalidate()\"\n                (input)=\"VsanUiUtils.numberValidator($event)\"/>\n\n         <div class=\"clr-col\">\n            <div class=\"clr-select-wrapper\">\n               <select id=\"hard-quota-size\"\n                       name=\"hard-quota-size\"\n                       class=\"clr-select\"\n                       [disabled]=\"!isHardQuotaSelected\"\n                       (change)=\"invalidate()\"\n                       [(ngModel)]=\"hardQuotaSize\">\n                  <option *ngFor=\"let size of sizes\"\n                          [value]=\"size\"\n                          [attr.selected]=\"hardQuotaSize === size\">\n                     {{getSizeLabel(size)}}\n                  </option>\n               </select>\n            </div>\n         </div>\n      </div>\n   </div>\n\n   <div class=\"clr-row\">\n      <label id=\"share-labels-label\"\n             class=\"clr-control-label clr-col-4\"\n             for=\"label-key\">\n         {{\"vsan.fileservices.shares.create.label\" | localized}}\n         <clr-signpost id=\"share-labels-signpost\"\n                       [vsan-signpost-title]=\"'vsan.fileservices.shares.create.label.signpost.label' | localized\">\n            <clr-signpost-content clrPosition=\"right-top\" *clrIfOpen>\n               {{\"vsan.fileservices.shares.create.label.signpost\" | localized}}\n            </clr-signpost-content>\n         </clr-signpost>\n      </label>\n\n      <div class=\"clr-col-7 labels\"\n           role=\"group\"\n           aria-labelledby=\"share-labels-label\">\n         <input id=\"label-key\"\n                name=\"label-key\"\n                class=\"clr-col-4 clr-input\"\n                placeholder=\"{{'vsan.fileservices.shares.create.label.key.placeholder' | localized}}\"\n                [(ngModel)]=\"labelKey\"\n                [disabled]=\"isLabelInputDisabled\"\n                [title]=\"labelInputTitle\"\n                (change)=\"invalidate()\"/>\n\n         <input id=\"label-value\"\n                name=\"label-value\"\n                class=\"clr-col-4 clr-input label-value\"\n                placeholder=\"{{'vsan.fileservices.shares.create.label.value.placeholder' | localized}}\"\n                [disabled]=\"isLabelInputDisabled\"\n                [title]=\"labelInputTitle\"\n                [(ngModel)]=\"labelValue\"\n                (change)=\"invalidate()\"/>\n\n         <button id=\"add-label\"\n                 [disabled]=\"!isAddEnabled\"\n                 (click)=\"addLabel()\"\n                 class=\"btn btn-link btn-sm btn-add clr-col-3\">\n            {{\"vsan.fileservices.shares.create.add\"|localized}}\n         </button>\n      </div>\n   </div>\n   <div class=\"clr-row\">\n      <div class=\"clr-col-8 clr-offset-4\">\n         <button *ngFor=\"let label of share.labels\"\n                 class=\"label label-light-blue btn-link\"\n                 [attr.aria-label]=\"'vsan.fileservices.shares.create.removeLabel' | localized\">\n            {{label.key}}\n            <span class=\"badge badge-light-blue\">{{label.value}}</span>\n            <clr-icon shape=\"times\"\n                      class=\"btn-close\"\n                      (click)=\"removeLabel(label.key)\">\n            </clr-icon>\n         </button>\n      </div>\n   </div>\n</form>\n","<!-- Copyright 2020-2021 VMware, Inc. All rights reserved. -- VMware Confidential -->\n<vsan-edit-share-file-analytics [share]=\"share\"></vsan-edit-share-file-analytics>","\n      <vsan-flow-wizard\n            [title]=\"title\"\n            [pageSets]=\"pages\"\n            [contextProperties]=\"context\"\n            [startingTaskProperty]=\"methodName\"\n            [services]=\"services\">\n      </vsan-flow-wizard>","/* Copyright 2020 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, OnInit} from \"@angular/core\";\nimport {InputProperty, OutputProperty, WizardPage} from \"@component/wizard/flow-metadata\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {VsanFileServiceShareConfig} from \"@generated/vsan-file-service-share-config\";\n\n@WizardPage(\n      VsanUiUtils.getString(\"vsan.fileservices.shares.create.fileAnalytics.title\"),\n)\n@Component({\n   templateUrl: \"create-share-file-analytics-page.html\",\n   styleUrls: [\"create-share-file-analytics-page.scss\"],\n})\nexport class CreateShareFileAnalyticsPageComponent implements OnInit {\n   @InputProperty()\n   @OutputProperty()\n   share: VsanFileServiceShareConfig;\n\n   @InputProperty()\n   isEdit: boolean;\n\n   ngOnInit() {\n      if (!this.isEdit) {\n         // When creating file share - file analytics should be enabled by default.\n         this.share.isFileAnalyticsEnabled = true;\n      }\n   }\n}\n","/* Copyright 2017-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component} from \"@angular/core\";\nimport {InputProperty, OutputProperty, WizardPage} from \"@component/wizard/flow-metadata\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {StoragePolicyData} from \"@generated/storage-policy-data\";\nimport {VsanFileServiceShareConfig} from \"@generated/vsan-file-service-share-config\";\nimport {VsanFileShareProtocol} from \"@generated/vsan-file-share-protocol\";\nimport {VsanFileShareNfsSecurityType} from \"@generated/vsan-file-share-nfs-security-type\";\nimport {VsanFileShareUtils} from \"../shares/file-share-util\";\nimport {VsanFileServiceShareSize} from \"@generated/vsan-file-service-share-size\";\nimport {AffinitySiteLocation} from \"@generated/affinity-site-location\";\nimport {FileServiceUtil} from \"../file-service-util\";\nimport {DomainOrHostData} from \"@generated/domain-or-host-data\";\nimport {ServiceUtils} from \"../../services/service.utils\";\n\n@WizardPage(\n      VsanUiUtils.getString(\"vsan.fileservices.shares.create.page.review.title\"),\n)\n@Component({\n   templateUrl: \"create-share-review-page.html\",\n   styleUrls: [\"create-share-net-permissions-page.scss\"],\n})\nexport class CreateShareReviewPageComponent {\n   @InputProperty()\n   selectedPolicy: StoragePolicyData;\n\n   @InputProperty()\n   share: VsanFileServiceShareConfig;\n\n   @InputProperty()\n   isVsanStretchedCluster: boolean;\n\n   @InputProperty()\n   isAffinitySiteSupported: boolean;\n\n   @InputProperty()\n   availableDomains: DomainOrHostData[];\n\n   @InputProperty()\n   isFileAnalyticsEnabledOnCluster: boolean;\n\n   @InputProperty()\n   @OutputProperty()\n   isSmbAbeSupported: boolean;\n\n   VsanFileShareProtocol: typeof VsanFileShareProtocol = VsanFileShareProtocol;\n\n   ServiceUtils: typeof ServiceUtils = ServiceUtils;\n\n   getProtocolText(): string {\n      return VsanFileShareUtils.getShareProtocolLabel(this.share.protocol);\n   }\n\n   getEncryptionText(): string {\n      return VsanFileShareUtils.getSmbEncryptionText(this.share.smbShareOptions.encryption);\n   }\n\n   getSecurityModeText(): string {\n      return VsanFileShareUtils.getSecurityModeText(this.share.securityType);\n   }\n\n   isKerberos(): boolean {\n      return this.share.protocol !== VsanFileShareProtocol.SMB\n            && this.share.securityType !== VsanFileShareNfsSecurityType.AUTH_SYS;\n   }\n\n   getKerberosText(): string {\n      return VsanFileShareUtils.getKerberosText(this.share.securityType);\n   }\n\n   getSizeLabel(size: VsanFileServiceShareSize): string {\n      return VsanFileShareUtils.getSizeLabel(size);\n   }\n\n   getLocalizedNumber(number: number): string {\n      return VsanUiUtils.localizeNumber(number);\n   }\n\n   getAffinitySiteLabel(site: AffinitySiteLocation): string {\n      return FileServiceUtil.getAffinitySiteLabel(site, this.availableDomains);\n   }\n\n   getSmbAbeOptionText(): string {\n      return VsanFileShareUtils.getSmbAbeOptionText(this.share.smbShareOptions.accessBasedEnumeration);\n   }\n}\n","/* Copyright 2018-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, OnInit} from \"@angular/core\";\nimport {InputProperty, WizardPage} from \"@component/wizard/flow-metadata\";\nimport {PageControls} from \"@component/wizard/flow-wizard.component\";\nimport {VsanFileServiceDomain} from \"@generated/vsan-file-service-domain\";\nimport {VsanFileServiceIpType} from \"@generated/vsan-file-service-ip-type\";\nimport {VsanFileServiceShareAccessType} from \"@generated/vsan-file-service-share-access-type\";\nimport {VsanFileServiceShareConfig} from \"@generated/vsan-file-service-share-config\";\nimport {VsanFileServiceShareNetPermission} from \"@generated/vsan-file-service-share-net-permission\";\nimport {IpParserService} from \"@service/ip-parser.service\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\n\n@WizardPage(\n      VsanUiUtils.getString(\"vsan.fileservices.shares.create.page.netAccessControl.title\"),\n)\n@Component({\n   templateUrl: \"create-share-net-permissions-page.html\",\n   styleUrls: [\"create-share-net-permissions-page.scss\"],\n})\nexport class CreateShareNetPermissionsPageComponent implements OnInit {\n\n   private static readonly SINGLE_IP_ADDRESS: RegExp = /^[\\a-z\\d:.]+$/;\n   private static readonly IP_ADDRESS_RANGE: RegExp = /^[\\a-z\\d:.]+-[\\a-z\\d:.]+$/;\n   private static readonly IP_ADDRESS_SUBNET: RegExp = /^[\\a-z\\d:.\\/]+$/;\n\n   @InputProperty()\n   share: VsanFileServiceShareConfig;\n\n   @InputProperty()\n   fsDomainConfig: VsanFileServiceDomain;\n\n   @InputProperty()\n   pageControls: PageControls;\n\n   netPermissions: NetPermissionWrapper[];\n\n   PermissionType: typeof PermissionType = PermissionType;\n\n   AccessType: typeof VsanFileServiceShareAccessType = VsanFileServiceShareAccessType;\n\n   constructor(private ipParser: IpParserService) {\n   }\n\n   get accessWarningMessage(): string {\n      if (this.share.accessType === VsanFileServiceShareAccessType.ALL_ACCESS) {\n         return VsanUiUtils.getString(\"vsan.fileservices.shares.create.allowAllAccess.warning\");\n      } else if (this.share.accessType === VsanFileServiceShareAccessType.NO_ACCESS) {\n         return VsanUiUtils.getString(\"vsan.fileservices.shares.create.allowNoAccess.warning\");\n      }\n   }\n\n   get isCustomAccess(): boolean {\n      return VsanFileServiceShareAccessType.CUSTOM_ACCESS === this.share.accessType;\n   }\n\n   ngOnInit(): void {\n      // Initially add one empty permission\n      if (!this.share.netPermissions || this.share.netPermissions.length === 0) {\n         this.netPermissions = [new NetPermissionWrapper()];\n      } else {\n         this.netPermissions = this.share.netPermissions.map(permission => {\n            const p: NetPermissionWrapper = new NetPermissionWrapper();\n            p.permissionType = this.getPermissionType(permission);\n            p.isRootSquashed = permission.isRootSquashed;\n            p.ipAddress = permission.ipAddress;\n            return p;\n         });\n      }\n   }\n\n   private getPermissionType(permission: VsanFileServiceShareNetPermission): PermissionType {\n      if (permission.isReadonly) {\n         return PermissionType.READONLY;\n      }\n      if (permission.isWriteAllowed) {\n         return PermissionType.READWRITE;\n      }\n      return PermissionType.NOACCESS;\n   }\n\n   add(): void {\n      this.netPermissions.push(new NetPermissionWrapper());\n   }\n\n   remove(id: number): void {\n      this.netPermissions.splice(id, 1);\n   }\n\n   invalidate(): void {\n      this.pageControls.rebuildToc();\n   }\n\n   validate(): string[] {\n      const validationErrors: string[] = [];\n      if (this.isCustomAccess) {\n         this.populatePermissions();\n         if (this.share.netPermissions.find(permission => VsanUiUtils.isEmpty(permission.ipAddress))) {\n            validationErrors.push(VsanUiUtils.getString(\"vsan.fileservices.shares.validation.noIpAddress\"));\n            return validationErrors;\n         }\n         const permit: VsanFileServiceShareNetPermission =\n               this.share.netPermissions.find(perm => !this.isValidIpData(perm.ipAddress));\n         if (permit) {\n            validationErrors.push(\n                  VsanUiUtils.getString(\"vsan.fileservices.shares.validation.invalidIpAddresses\", permit.ipAddress));\n            return validationErrors;\n         }\n      }\n      return null;\n   }\n\n   private populatePermissions = () => {\n      this.share.netPermissions = this.netPermissions.map(p => {\n         return VsanFileServiceShareNetPermission.Factory.create(\n               p.ipAddress,\n               +p.permissionType === PermissionType.READONLY,\n               +p.permissionType === PermissionType.READWRITE,\n               p.isRootSquashed,\n               +p.permissionType === PermissionType.NOACCESS);\n      });\n   };\n\n   private isValidIpData(ipString: string): boolean {\n      const ipStringTrimmed: string = ipString.trim();\n      if (\"*\" === ipStringTrimmed) { // We allow customer to use * to match all the IPs\n         return true;\n      }\n      const type: IpRangeType = this.getIpDataType(ipStringTrimmed);\n\n      switch (type) {\n         case IpRangeType.SINGLE:\n            if (!this.isValidIpAddress(ipStringTrimmed)) {\n               return false;\n            }\n            break;\n         case IpRangeType.RANGE:\n            const chunks: string[] = ipStringTrimmed.split(\"-\");\n            if (chunks.length !== 2\n                  || !this.isValidIpAddress(chunks[0])\n                  || !this.isValidIpAddress(chunks[1])) {\n               // TODO [kaleksandrov] Probably we need to verify if the IPs are in the same network but for that we need a mask. Waiting for input from Yang.\n               return false;\n            }\n            break;\n         case IpRangeType.SUBNET:\n            const ipSections: string[] = ipStringTrimmed.split(\"/\");\n            if (!this.isValidIpAddress(ipSections[0]) || !this.ipParser.isSubnetForIpValid(ipStringTrimmed)) {\n               return false;\n            }\n            break;\n         default:\n            return false;\n      }\n      return true;\n   }\n\n   private isValidIpAddress(ip: string): boolean {\n      return this.isIpv6()\n            ? this.ipParser.isIpv6AddressValid(ip)\n            : this.ipParser.isIpv4AddressValid(ip);\n   }\n\n   private isIpv6(): boolean {\n      return this.fsDomainConfig.ipType === VsanFileServiceIpType.V6;\n   }\n\n   private getIpDataType(data: string): IpRangeType {\n      if (CreateShareNetPermissionsPageComponent.SINGLE_IP_ADDRESS.test(data)) {\n         return IpRangeType.SINGLE;\n      }\n\n      if (CreateShareNetPermissionsPageComponent.IP_ADDRESS_RANGE.test(data)) {\n         return IpRangeType.RANGE;\n      }\n\n      if (CreateShareNetPermissionsPageComponent.IP_ADDRESS_SUBNET.test(data)) {\n         return IpRangeType.SUBNET;\n      }\n\n      return null;\n   }\n}\n\n/**\n * Wrapper class for VsanFileServiceShareNetPermission\n * We need this because the readonly and writeAllowed can't be true at the same time\n */\nclass NetPermissionWrapper {\n   permissionType: PermissionType = PermissionType.READONLY;\n   isRootSquashed: boolean;\n   ipAddress: string;\n}\n\nenum IpRangeType {\n   SINGLE,\n   RANGE,\n   SUBNET,\n}\n\nenum PermissionType {\n   NOACCESS,\n   READONLY,\n   READWRITE,\n}\n","/* Copyright 2018-2022 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, OnInit} from \"@angular/core\";\nimport {InputProperty, OutputProperty, WizardPage} from \"@component/wizard/flow-metadata\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {ManagedObject} from \"@service/managed-object\";\nimport {PbmDataProvider} from \"@generated/pbm-data-provider\";\nimport {StoragePolicyData} from \"@generated/storage-policy-data\";\nimport {PageControls} from \"@component/wizard/flow-wizard.component\";\nimport {VsanFileServiceShareSize} from \"@generated/vsan-file-service-share-size\";\nimport {VsanFileServiceShareConfig} from \"@generated/vsan-file-service-share-config\";\nimport {CreateShareGeneralPageService} from \"./create-share-general-page.service\";\nimport {LabelData} from \"@generated/label-data\";\nimport {VsanFileShareProtocol} from \"@generated/vsan-file-share-protocol\";\nimport {VsanFileShareNfsSecurityType} from \"@generated/vsan-file-share-nfs-security-type\";\nimport {SmbEncryptionOption} from \"@generated/smb-encryption-option\";\nimport {VsanFileShareUtils} from \"../shares/file-share-util\";\nimport {SelectOption} from \"../select-option\";\nimport {VsanStretchedClusterService} from \"@generated/vsan-stretched-cluster-service\";\nimport {DomainOrHostData} from \"@generated/domain-or-host-data\";\nimport {VsanCapabilityData} from \"@generated/vsan-capability-data\";\nimport {AffinitySiteLocation} from \"@generated/affinity-site-location\";\nimport {FileServiceUtil} from \"../file-service-util\";\nimport {VsanFileServiceDomain} from \"@generated/vsan-file-service-domain\";\n\n@WizardPage(\n      VsanUiUtils.getString(\"vsan.fileservices.shares.create.page.general.title\"),\n      null,\n      [VsanStretchedClusterService],\n)\n@Component({\n   templateUrl: \"create-share-general-page.html\",\n   styleUrls: [\"create-share-general-page.scss\"],\n})\nexport class CreateShareGeneralPageComponent implements OnInit {\n   VsanUiUtils: typeof VsanUiUtils = VsanUiUtils;\n\n   private static readonly AUTH_SYS: string = \"auth_sys\";\n   private static readonly KERBEROS: string = \"kerberos\";\n   private static readonly LABELS_MAX_COUNT: number = 5;\n\n   AUTH_SYS: string = CreateShareGeneralPageComponent.AUTH_SYS;\n   KERBEROS: string = CreateShareGeneralPageComponent.KERBEROS;\n\n   @InputProperty()\n   isEdit: boolean;\n\n   @InputProperty()\n   clusterRef: ManagedObject;\n\n   @InputProperty()\n   share: VsanFileServiceShareConfig;\n\n   @InputProperty()\n   fsDomainConfig: VsanFileServiceDomain;\n\n   @InputProperty()\n   isAffinitySiteSupported: boolean;\n\n   @InputProperty()\n   isKerberosSupported: boolean;\n\n   @InputProperty()\n   isSmbProtocolSupported: boolean;\n\n   @InputProperty()\n   policies: StoragePolicyData[];\n\n   @InputProperty()\n   pageControls: PageControls;\n\n   @InputProperty()\n   vcCapabilityData: VsanCapabilityData;\n\n   @InputProperty()\n   @OutputProperty()\n   isVsanStretchedCluster: boolean;\n\n   @InputProperty()\n   @OutputProperty()\n   availableDomains: DomainOrHostData[];\n\n   @OutputProperty()\n   selectedPolicy: StoragePolicyData;\n\n   @OutputProperty()\n   removedLabelKeys: string[] = [];\n\n   @InputProperty()\n   @OutputProperty()\n   isSmbAbeSupported: boolean;\n\n   protocols: SelectOption<VsanFileShareProtocol>[] = [];\n\n   sizes: VsanFileServiceShareSize[] = [\n      VsanFileServiceShareSize.MB,\n      VsanFileServiceShareSize.GB,\n      VsanFileServiceShareSize.TB,\n   ];\n\n   private readonly kerberosTypes: VsanFileShareNfsSecurityType[] = [\n      VsanFileShareNfsSecurityType.KRB5P,\n      VsanFileShareNfsSecurityType.KRB5I,\n      VsanFileShareNfsSecurityType.KRB5,\n   ];\n\n   private _securityMode: string = CreateShareGeneralPageComponent.AUTH_SYS;\n\n   set securityMode(val: string) {\n      this._securityMode = val;\n      if (val === CreateShareGeneralPageComponent.AUTH_SYS) {\n         this.share.securityType = VsanFileShareNfsSecurityType.AUTH_SYS;\n      } else {\n         // Only change the value when the previous value is not kerberos related\n         if (!this.isKerberos()) {\n            this.share.securityType = VsanFileShareNfsSecurityType.KRB5;\n         }\n      }\n   }\n\n   get securityMode(): string {\n      return this._securityMode;\n   }\n\n   private _smbEncryptionEnabled: boolean;\n\n   set smbEncryptionEnabled(enabled: boolean) {\n      this._smbEncryptionEnabled = enabled;\n      this.share.smbShareOptions.encryption = enabled ? SmbEncryptionOption.MANDATORY : SmbEncryptionOption.DISABLED;\n      this.invalidate();\n   }\n\n   get smbEncryptionEnabled(): boolean {\n      return this._smbEncryptionEnabled;\n   }\n\n   private _selectedProtocol: VsanFileShareProtocol = VsanFileShareProtocol.NFSV3_AND_NFSV4;\n\n   set selectedProtocol(val: VsanFileShareProtocol) {\n      this._selectedProtocol = val;\n      if (val === VsanFileShareProtocol.SMB) {\n         this.share.protocol = val;\n      } else {\n         this.share.protocol = VsanFileShareProtocol.NFSV3_AND_NFSV4;\n      }\n   }\n\n   get selectedProtocol(): VsanFileShareProtocol {\n      return this._selectedProtocol;\n   }\n\n   // Supported Kerberos security requirements\n   krbOptions: SelectOption<VsanFileShareNfsSecurityType>[] = [\n      {\n         value: VsanFileShareNfsSecurityType.KRB5,\n         label: VsanUiUtils.getString(\"vsan.services.fileservices.wizard.activeDirectoryPage.security.kerberos.krb5\"),\n      },\n      {\n         value: VsanFileShareNfsSecurityType.KRB5I,\n         label: VsanUiUtils.getString(\"vsan.services.fileservices.wizard.activeDirectoryPage.security.kerberos.krb5i\"),\n      },\n      {\n         value: VsanFileShareNfsSecurityType.KRB5P,\n         label: VsanUiUtils.getString(\"vsan.services.fileservices.wizard.activeDirectoryPage.security.kerberos.krb5p\"),\n      },\n   ];\n\n   // Supported NFS protocols\n   nfsProtocols: SelectOption<VsanFileShareProtocol>[] = [\n      {\n         label: VsanFileShareUtils.getShareProtocolLabel(VsanFileShareProtocol.NFSv3),\n         value: VsanFileShareProtocol.NFSv3,\n      } as SelectOption<VsanFileShareProtocol>,\n      {\n         label: VsanFileShareUtils.getShareProtocolLabel(VsanFileShareProtocol.NFSv4),\n         value: VsanFileShareProtocol.NFSv4,\n      } as SelectOption<VsanFileShareProtocol>,\n      {\n         label: VsanFileShareUtils.getShareProtocolLabel(VsanFileShareProtocol.NFSV3_AND_NFSV4),\n         value: VsanFileShareProtocol.NFSV3_AND_NFSV4,\n      } as SelectOption<VsanFileShareProtocol>,\n   ];\n\n   originalShareName: string;\n\n   isWarningThresholdSelected: boolean;\n   warningThresholdValue: string;\n   warningThresholdSize: VsanFileServiceShareSize = VsanFileServiceShareSize.MB;\n\n   isHardQuotaSelected: boolean;\n   hardQuotaValue: string;\n   hardQuotaSize: VsanFileServiceShareSize = VsanFileServiceShareSize.MB;\n\n   labelKey: string;\n   labelValue: string;\n\n   activeDirectoryEnabled: boolean;\n\n   nfsVersionChangedWarning: boolean = false;\n\n   isAffinitySiteChangeWarningShown: boolean = false;\n\n   private originalProtocol: VsanFileShareProtocol;\n   private originalAffinitySiteLocation: AffinitySiteLocation;\n\n   constructor(private spbmService: PbmDataProvider,\n         private generalPageService: CreateShareGeneralPageService) {\n   }\n\n   async ngOnInit(): Promise<void> {\n      this.initPageValues();\n\n      if (VsanUiUtils.isEmpty(this.policies)) {\n         const error: string = VsanUiUtils.getString(\"vsan.fileservices.shares.validation.noPolicies\");\n         this.pageControls.addValidationErrors([error]);\n      } else {\n         this.isEdit ? this.setPolicyForEdittingShare() : this.setPolicyForNewShare();\n      }\n   }\n\n   private initPageValues(): void {\n      this.activeDirectoryEnabled = !!this.fsDomainConfig.adConfig?.domain;\n      this.isHardQuotaSelected = !!this.share.quota;\n      this.hardQuotaValue = VsanUiUtils.localizeNumber(this.share.quota);\n      this.hardQuotaSize = this.share.quotaSize;\n      this.isWarningThresholdSelected = !!this.share.softQuota;\n      this.warningThresholdValue = VsanUiUtils.localizeNumber(this.share.softQuota);\n      this.warningThresholdSize = this.share.softQuotaSize;\n      this.protocols = this.getAvailableProtocols();\n\n      if (this.isEdit) {\n         this.originalShareName = this.share.name;\n         this.originalProtocol = this.share.protocol;\n         this.originalAffinitySiteLocation = this.share.affinityLocation;\n         this.securityMode = this.isKerberos() ?\n               CreateShareGeneralPageComponent.KERBEROS : CreateShareGeneralPageComponent.AUTH_SYS;\n         if (this.share.protocol === VsanFileShareProtocol.SMB) {\n            this.smbEncryptionEnabled =\n                  this.share.smbShareOptions.encryption === SmbEncryptionOption.MANDATORY;\n         }\n      }\n\n      // kerberosSupported === false means it's FS 7.0, but protocol is not acceptable in 7.0 release.\n      // so UI has to set it null\n      if (!this.isKerberosSupported) {\n         this.share.protocol = null;\n      }\n   }\n\n   private setPolicyForEdittingShare(): void {\n      const currentPolicy: StoragePolicyData = this.policies.find(p => p.id === this.share.policyId);\n      if (currentPolicy) {\n         this.selectedPolicy = currentPolicy;\n      } else {\n         // The share's policy cannot be found in the list of existing policies. This could mean either the\n         // share was created without a policy (e.g. by directly using the API or the policy the share is\n         // assigned with was deleted. In that case we are adding a new fake policy to the policies list\n         // which is going to act like \"leave it as it is\"\n         const fakePolicy: StoragePolicyData = StoragePolicyData.Factory.create(this.share.policyId,\n               VsanUiUtils.getString(\"vsan.fileservices.shares.create.emptyPolicy\"), // name\n               false, // isDefault\n               true, // hasVsanNamespace\n               false, // isVmCrypt\n               0, // ftt\n               null, // locality\n               true); // isCompatible\n         this.policies.unshift(fakePolicy);\n         this.selectedPolicy = fakePolicy;\n      }\n   }\n\n   private setPolicyForNewShare(): void {\n      const defaultPolicy: StoragePolicyData = this.policies.find(p => p.isDefault);\n      this.selectedPolicy = defaultPolicy ? defaultPolicy : this.policies[0];\n      this.share.policyId = this.selectedPolicy.id;\n   }\n\n   /**\n    * Logic of determine if the share is using kerberos security mode\n    */\n   private isKerberos(): boolean {\n      return this.kerberosTypes.indexOf(this.share.securityType) !== -1;\n   }\n\n   /**\n    * Kerberos is only allowd when the protocol is nfsv4\n    */\n   get isKerberosAllowed(): boolean {\n      return this.isKerberosSupported\n            && this.activeDirectoryEnabled\n            && (this.share.protocol === VsanFileShareProtocol.NFSv4);\n   }\n\n   get isSmbProtocolSelected(): boolean {\n      return this.share.protocol === VsanFileShareProtocol.SMB;\n   }\n\n   private getAvailableProtocols(): SelectOption<VsanFileShareProtocol>[] {\n      const protocols: SelectOption<VsanFileShareProtocol>[] = [];\n      if (this.activeDirectoryEnabled && this.isSmbProtocolSupported && !this.isEdit) {\n         protocols.push({\n            label: VsanFileShareUtils.getShareProtocolLabel(VsanFileShareProtocol.SMB),\n            value: VsanFileShareProtocol.SMB,\n         } as SelectOption<VsanFileShareProtocol>);\n      }\n      protocols.push({\n         label: VsanUiUtils.getString(\"vsan.fileservices.shares.create.protocol.nfs\"),\n         value: VsanFileShareProtocol.NFSV3_AND_NFSV4,\n      } as SelectOption<VsanFileShareProtocol>);\n\n      return protocols;\n   }\n\n   addLabel(): void {\n      this.share.labels = this.share.labels || [];\n      const trimmedKey: string = this.labelKey.trim();\n      const trimmedVal: string = this.labelValue.trim();\n      const existingLabel: LabelData = this.share.labels.find(label => label.key === trimmedKey);\n      if (existingLabel) {\n         existingLabel.value = trimmedVal;\n      } else {\n         this.share.labels.push(\n               LabelData.Factory.create(trimmedKey, trimmedVal));\n      }\n      if (this.isEdit) {\n         // due to the vmodl API change, we have to pass an array of the keys of the removed labels,\n         // otherwise the labels wont be removed.\n         // If user first removes a label, and then adds a new label with the same key,\n         // we have to remove the key from removedLabelKeys\n         this.removedLabelKeys = this.removedLabelKeys.filter(key => key !== trimmedKey);\n      }\n      this.labelKey = \"\";\n      this.labelValue = \"\";\n   }\n\n   removeLabel(labelKey: string): void {\n      const trimmedKey: string = labelKey.trim();\n      this.share.labels = this.share.labels.filter(label => label.key !== trimmedKey);\n      if (this.isEdit) {\n         // due to the vmodl API change, we have to pass an array of the keys of the removed labels,\n         // otherwise the labels wont be removed. We build the array here, but we should not add duplicated records\n         if (!this.removedLabelKeys.some(key => key === trimmedKey)) {\n            this.removedLabelKeys.push(trimmedKey);\n         }\n      }\n   }\n\n   get isLabelInputDisabled(): boolean {\n      return !VsanUiUtils.isEmpty(this.share.labels) &&\n            this.share.labels.length >= CreateShareGeneralPageComponent.LABELS_MAX_COUNT;\n   }\n\n   get labelInputTitle(): string {\n      return this.isLabelInputDisabled ? VsanUiUtils.getString(\"vsan.fileservices.shares.create.label.maximum\") : \"\";\n   }\n\n   get isAddEnabled(): boolean {\n      return this.generalPageService.isLabelValid(this.labelKey, this.labelValue);\n   }\n\n   invalidate(): void {\n      this.pageControls.rebuildToc();\n   }\n\n   validate(): string[] | Promise<string[]> | Promise<void> {\n      const validationErrors: string[] = [];\n\n      // Validate name\n      const nameValidationError: string = this.generalPageService.validateName(this.share);\n      if (nameValidationError) {\n         validationErrors.push(nameValidationError);\n      }\n\n      // Validate the policy\n      const policyError: string = this.generalPageService.validatePolicy(this.selectedPolicy);\n      if (policyError) {\n         validationErrors.push(policyError);\n      } else {\n         this.share.policyId = this.selectedPolicy.id;\n      }\n\n      // Validate thresholds\n      const thresholdsErrors: string[] = this.generalPageService.validateThresholds(this.isWarningThresholdSelected,\n            this.warningThresholdValue,\n            this.warningThresholdSize,\n            this.isHardQuotaSelected,\n            this.hardQuotaValue,\n            this.hardQuotaSize);\n      if (thresholdsErrors) {\n         validationErrors.push(...thresholdsErrors);\n      } else {\n         if (this.isWarningThresholdSelected) {\n            this.share.softQuota = VsanUiUtils.convertLocalizedStringToNumber(this.warningThresholdValue);\n            this.share.softQuotaSize = this.warningThresholdSize;\n         } else {\n            this.share.softQuota = null;\n            this.share.softQuotaSize = null;\n         }\n\n         if (this.isHardQuotaSelected) {\n            this.share.quota = VsanUiUtils.convertLocalizedStringToNumber(this.hardQuotaValue);\n            this.share.quotaSize = this.hardQuotaSize;\n         } else {\n            this.share.quota = null;\n            this.share.quotaSize = null;\n         }\n      }\n\n      if (validationErrors.length) {\n         return validationErrors;\n      }\n      if (!this.isEdit || this.nameChanged) {\n         this.pageControls.setBusyState();\n         return this.generalPageService.validateDuplicatedName(this.share.name).then((result) => {\n               this.pageControls.clearBusyState();\n               this.updateLabels();\n               return result;\n            }).catch(err => {\n               this.pageControls.clearBusyState();\n               return [err];\n            });\n      } else {\n         this.updateLabels();\n      }\n      return null;\n   }\n\n   /**\n    * If all the validation is successful we check if there is some data left in the \"label\" fields.\n    * If so we assume that the user has entered the data but forgot to click \"Add\" so we have to do it for them.\n    * For more infor see https://bz3-prod-wwwd.eng.vmware.com/show_bug.cgi?id=2218701\n    */\n   private updateLabels = () => {\n      if (this.isAddEnabled) {\n         this.addLabel();\n      }\n   };\n\n   private get nameChanged(): boolean {\n      return this.share.name !== this.originalShareName;\n   }\n\n   protocolChange(value: VsanFileShareProtocol): void {\n      this.invalidate();\n   }\n\n   getSizeLabel(size: VsanFileServiceShareSize): string {\n      return VsanFileShareUtils.getSizeLabel(size);\n   }\n\n   onEditNfsVersion(): void {\n      // No need to show the warning if it's creating a file share\n      if (!this.isEdit) {\n         return;\n      }\n      this.nfsVersionChangedWarning = this.share.protocol !== this.originalProtocol;\n   }\n\n   getAffinitySiteLabel(site: AffinitySiteLocation): string {\n      return FileServiceUtil.getAffinitySiteLabel(site, this.availableDomains);\n   }\n\n   get affinitySites(): AffinitySiteLocation[] {\n      const sites: Set<AffinitySiteLocation> =\n            new Set(this.fsDomainConfig.ipSettings.map(ipSetting => ipSetting.affinityLocation));\n\n      // it's possible that 'Either' is not included in the configuration, but it can't be missed here\n      if (!sites.has(AffinitySiteLocation.NONE)) {\n         sites.add(AffinitySiteLocation.NONE);\n      }\n      return Array.from(sites);\n   }\n\n   get displayAffinitySiteSelection(): boolean {\n      return this.isAffinitySiteSupported && this.isVsanStretchedCluster;\n   }\n\n   toggleAffinitySiteWarning(): void {\n      this.isAffinitySiteChangeWarningShown = this.isEdit\n            && this.share.affinityLocation !== this.originalAffinitySiteLocation;\n   }\n}\n","<!--Copyright 2018-2021 VMware, Inc. All rights reserved. -- VMware Confidential-->\n<vsan-validation id=\"all-access-warning\"\n                 *ngIf=\"!isCustomAccess\"\n                 alertType=\"warning\"\n                 [allowClose]=\"false\"\n                 [alert]=\"accessWarningMessage\"\n                 [isSmall]=\"true\">\n</vsan-validation>\n<div class=\"radio-container\">\n   <clr-radio-wrapper>\n      <input id=\"no-access-allowed\"\n             type=\"radio\"\n             clrRadio\n             name=\"network-access-allowed\"\n             [(ngModel)]=\"share.accessType\"\n             [value]=\"AccessType.NO_ACCESS\"\n             (change)=\"invalidate()\">\n      <label for=\"no-access-allowed\">\n         {{'vsan.fileservices.shares.create.noaccess'|localized}}\n      </label>\n   </clr-radio-wrapper>\n   <clr-radio-wrapper>\n      <input id=\"all-access-allowed\"\n             type=\"radio\"\n             clrRadio\n             name=\"network-access-allowed\"\n             [(ngModel)]=\"share.accessType\"\n             [value]=\"AccessType.ALL_ACCESS\"\n             (change)=\"invalidate()\">\n      <label for=\"all-access-allowed\">\n         {{'vsan.fileservices.shares.create.allowAllAccess'|localized}}\n      </label>\n      <clr-signpost [vsan-signpost-title]=\"'vsan.fileservices.shares.create.allowAllAccess.signpost.label' | localized\">\n         <clr-signpost-content [clrPosition]=\"'right-bottom'\" *clrIfOpen>\n            <span>{{'vsan.fileservices.shares.create.allowAllAccess.tooltip' | localized}}</span>\n         </clr-signpost-content>\n      </clr-signpost>\n   </clr-radio-wrapper>\n   <clr-radio-wrapper>\n      <input id=\"customize-network-access\"\n             type=\"radio\"\n             clrRadio\n             name=\"network-access-allowed\"\n             [(ngModel)]=\"share.accessType\"\n             [value]=\"AccessType.CUSTOM_ACCESS\"\n             (change)=\"invalidate()\">\n      <label id=\"customize-network-access-label\"\n             for=\"customize-network-access\">\n         {{'vsan.fileservices.shares.create.customizeAccess'|localized}}\n      </label>\n   </clr-radio-wrapper>\n</div>\n\n<vsan-validation id=\"custom-access-warning\"\n                 *ngIf=\"isCustomAccess\"\n                 alertType=\"info\"\n                 [allowClose]=\"false\"\n                 [alertsExpanded]=\"true\"\n                 [alert]=\"'vsan.fileservices.shares.create.customizeAccess.info' | localized\"\n                 [isSmall]=\"true\">\n</vsan-validation>\n<div class=\"indent header-row clr-row\"\n     [class.disable-action]=\"!isCustomAccess\">\n   <div class=\"clr-col-5\">\n      {{'vsan.fileservices.shares.create.ipSet'|localized}}\n   </div>\n   <div class=\"clr-col-3\">\n      {{'vsan.fileservices.shares.create.permission'|localized}}\n   </div>\n   <div class=\"clr-col-4\">\n      {{\"vsan.fileservices.shares.create.squashOption\" | localized}}\n   </div>\n</div>\n<div id=\"permission-list-item-{{i}}\"\n     class=\"indent clr-row\"\n     role=\"group\"\n     aria-labelledby=\"customize-network-access-label\"\n     *ngFor=\"let permission of netPermissions; let i=index\">\n   <div class=\"clr-col-5 control-full-width\">\n      <input id=\"ip-set-{{i}}\"\n             name=\"ip-set-{{i}}\"\n             type=\"text\"\n             class=\"clr-input control-full-width\"\n             placeholder=\"{{'vsan.fileservices.shares.create.ipSet.placeholder' | localized}}\"\n             [disabled]=\"!isCustomAccess\"\n             [(ngModel)]=\"permission.ipAddress\"\n             (change)=\"invalidate()\">\n   </div>\n   <clr-select-container class=\"clr-col-3 control-full-width\">\n      <select clrSelect\n              id=\"permission-select-{{i}}\"\n              [(ngModel)]=\"permission.permissionType\"\n              (ngModelChange)=\"invalidate()\"\n              [disabled]=\"!isCustomAccess\"\n              name=\"permission-select-{{i}}\">\n         <option [value]=\"PermissionType.NOACCESS\">\n            {{\"vsan.fileservices.shares.create.noaccess\" | localized}}\n         </option>\n         <option [value]=\"PermissionType.READONLY\">{{\"vsan.fileservices.shares.create.read\" | localized}}</option>\n         <option [value]=\"PermissionType.READWRITE\">{{'vsan.fileservices.shares.create.write'|localized}}</option>\n      </select>\n   </clr-select-container>\n   <div class=\"clr-col-4\">\n      <clr-checkbox-container>\n         <clr-checkbox-wrapper>\n            <input type=\"checkbox\"\n                   clrCheckbox\n                   id=\"is-root-squash-{{i}}\"\n                   name=\"is-root-squash-{{i}}\"\n                   [disabled]=\"!isCustomAccess\"\n                   (change)=\"invalidate()\"\n                   [(ngModel)]=\"permission.isRootSquashed\"/>\n            <label>{{'vsan.fileservices.shares.create.rootSquash'|localized}}</label>\n         </clr-checkbox-wrapper>\n      </clr-checkbox-container>\n   </div>\n   <button id=\"remove-{{i}}\"\n           *ngIf=\"i !== 0\"\n           type=\"button\"\n           [disabled]=\"!isCustomAccess\"\n           class=\"btn btn-icon btn-link\"\n           (click)=\"remove(i)\"\n           [attr.aria-label]=\"'vsan.fileservices.shares.add'|localized\">\n      <clr-icon shape=\"times-circle\"\n                class=\"remove-icon\">\n      </clr-icon>\n   </button>\n</div>\n<div class=\"indent\">\n   <button id=\"add-ip-btn\"\n           type=\"button\"\n           [disabled]=\"!isCustomAccess\"\n           class=\"btn btn-icon btn-link\"\n           (click)=\"add()\"\n           [attr.aria-label]=\"'vsan.fileservices.shares.remove'|localized\">\n      <clr-icon shape=\"plus-circle\"></clr-icon>\n   </button>\n</div>\n","<!--Copyright 2018-2021 VMware, Inc. All rights reserved. -- VMware Confidential-->\n<div>\n   <h5>{{\"vsan.fileservices.shares.create.page.general.title\" | localized}}</h5>\n   <div class=\"indent\">\n      <div class=\"clr-row\">\n         <label class=\"clr-col-4 clr-control-label\">\n            {{\"vsan.fileservices.shares.create.name\" | localized}}\n         </label>\n         <span id=\"name\">{{share.name}}</span>\n      </div>\n      <div class=\"clr-row\">\n         <label class=\"clr-col-4 clr-control-label\">\n            {{\"vsan.fileservices.shares.create.protocol\" | localized}}\n         </label>\n         <span>{{getProtocolText()}}</span>\n      </div>\n      <ng-container *ngIf=\"share.protocol === VsanFileShareProtocol.SMB else non_smb_security_mode\">\n         <div class=\"clr-row\">\n            <label class=\"clr-col-4 clr-control-label\">\n               {{\"vsan.fileservices.shares.create.protocol.smb.encryption\" | localized}}\n            </label>\n            <span>{{getEncryptionText()}}</span>\n         </div>\n      </ng-container>\n      <ng-template #non_smb_security_mode>\n         <div class=\"clr-row\">\n            <label class=\"clr-col-4 clr-control-label\">\n               {{\"vsan.services.fileservices.wizard.activeDirectoryPage.security.label\" | localized}}\n            </label>\n            <span>{{getSecurityModeText()}}</span>\n         </div>\n\n         <div class=\"clr-row\" *ngIf=\"isKerberos()\">\n            <label class=\"clr-col-4 clr-control-label\">\n               {{\"vsan.services.fileservices.wizard.activeDirectoryPage.security.kerberos.requirements.label\" | localized}}\n            </label>\n            <span>{{getKerberosText()}}</span>\n         </div>\n      </ng-template>\n      <div class=\"clr-row\" *ngIf=\"share.protocol === VsanFileShareProtocol.SMB && isSmbAbeSupported\">\n         <label class=\"clr-col-4 clr-control-label\">\n            {{\"vsan.fileservices.shares.create.protocol.smb.abe\" | localized}}\n         </label>\n         <span>{{getSmbAbeOptionText()}}</span>\n      </div>\n      <div class=\"clr-row\">\n         <label class=\"clr-col-4 clr-control-label\">\n            {{\"vsan.fileservices.shares.create.storagePolicy\" | localized}}\n         </label>\n         <span id=\"policy\">{{selectedPolicy.name}}</span>\n      </div>\n      <div class=\"clr-row\">\n         <label class=\"clr-col-4 clr-control-label\">\n            {{\"vsan.fileservices.shares.create.shareWarningThreshold\" | localized}}\n         </label>\n         <span id=\"shareWarningThreshold\" *ngIf=\"share.softQuota && share.softQuotaSize\">\n            {{getLocalizedNumber(share.softQuota)}} {{getSizeLabel(share.softQuotaSize)}}\n         </span>\n         <span id=\"noShareWarningThreshold\" *ngIf=\"!share.softQuota || !share.softQuotaSize\">\n            {{'vsan.na.label'|localized}}\n         </span>\n      </div>\n      <div class=\"clr-row\">\n         <label class=\"clr-col-4 clr-control-label\">\n            {{\"vsan.fileservices.shares.create.shareHardQuota\" | localized}}\n         </label>\n         <span id=\"shareHardQuota\" *ngIf=\"share.quota && share.quotaSize\">\n            {{getLocalizedNumber(share.quota)}} {{getSizeLabel(share.quotaSize)}}\n         </span>\n         <span id=\"noShareHardQuota\" *ngIf=\"!share.quota || !share.quotaSize\">\n            {{'vsan.na.label'|localized}}\n         </span>\n      </div>\n      <div class=\"clr-row\">\n         <label class=\"clr-col-4 clr-control-label\">\n            {{\"vsan.fileservices.shares.create.label\" | localized}}\n         </label>\n         <span id=\"labels\" *ngIf=\"share.labels?.length\">\n            <span *ngFor=\"let label of share.labels\" class=\"label label-light-blue\">\n               {{label.key}}\n               <span class=\"badge badge-light-blue\">{{label.value}}</span>\n            </span>\n         </span>\n         <span id=\"noLabels\"\n               *ngIf=\"!share.labels?.length\">\n            {{\"vsan.na.label\"|localized}}\n         </span>\n      </div>\n      <div class=\"clr-row\" *ngIf=\"isAffinitySiteSupported && isVsanStretchedCluster\">\n         <label class=\"clr-col-4 clr-control-label\">\n            {{\"vsan.fileservices.affinitySite.label\" | localized}}\n         </label>\n         <span id=\"affinity-site\">\n            {{getAffinitySiteLabel(share.affinityLocation)}}\n         </span>\n      </div>\n   </div>\n</div>\n\n<div *ngIf=\"share.protocol !== VsanFileShareProtocol.SMB\"\n     id=\"netAccessControl\">\n   <h5>{{\"vsan.fileservices.shares.create.page.netAccessControl.title\" | localized}}</h5>\n   <div class=\"indent\">\n      <vsan-file-share-net-permission [shareConfig]=\"share\"></vsan-file-share-net-permission>\n   </div>\n</div>\n<div *ngIf=\"isFileAnalyticsEnabledOnCluster\" id=\"fileAnalytics\">\n   <h5>{{\"vsan.fileservices.shares.create.fileAnalytics.title\" | localized}}</h5>\n   <div class=\"indent clr-row\">\n      <label class=\"clr-col-4 clr-control-label\">\n         {{\"vsan.fileservices.shares.create.fileAnalytics.title\" | localized}}\n      </label>\n      <span>{{ServiceUtils.enabledStateLabel(share.isFileAnalyticsEnabled)}}</span>\n   </div>\n</div>\n\n","/* Copyright 2020 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Directive, ElementRef, AfterViewInit, Input} from '@angular/core';\nimport {Icon} from \"@util/icon\";\n\n/**\n * Attribute directive for setting the title of clr-icon according to its shape.\n */\n@Directive({\n   selector: \"clr-icon\"\n})\nexport class IconTitleDirective implements AfterViewInit {\n\n   private readonly SHAPE_ATTRIBUTE: string = \"shape\";\n   private readonly TITLE_ATTRIBUTE: string = \"title\";\n\n   @Input(\"vsan-icon-title\")\n   iconTitle: string;\n\n   constructor(private el: ElementRef) { }\n\n   ngAfterViewInit() {\n      // Return if clr-icon already has title attribute.\n      if (this.el.nativeElement.getAttribute(this.TITLE_ATTRIBUTE)) {\n         return;\n      }\n\n      let title: string = this.iconTitle;\n      if (!title) {\n         const shape: string = this.el.nativeElement.getAttribute(this.SHAPE_ATTRIBUTE);\n         title = Icon.getDefaultVsanIconTitle(shape);\n      }\n      if (title) {\n         this.el.nativeElement.setAttribute(this.TITLE_ATTRIBUTE, title);\n      }\n   }\n}","/* Copyright 2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {RouterModule, Routes} from \"@angular/router\";\nimport {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {ClarityModule} from \"@clr/angular\";\nimport {CreateShareWizardComponent} from \"./create-share-wizard.component\";\nimport {CreateShareNetPermissionsPageComponent} from \"./create-share-net-permissions-page.component\";\nimport {CreateShareFileAnalyticsPageComponent} from \"./create-share-file-analytics-page.component\";\nimport {CreateShareReviewPageComponent} from \"./create-share-review-page.component\";\nimport {CreateShareGeneralPageComponent} from \"./create-share-general-page.component\";\nimport {CreateShareGeneralPageService} from \"./create-share-general-page.service\";\nimport {FlowWizardModule} from \"@component/wizard/flow-wizard.module\";\nimport {ValidationModule} from \"@component/validation/validation.module\";\nimport {FormsModule} from \"@angular/forms\";\nimport {CommonPipeModule} from \"@pipe/common-pipe.module\";\nimport {FileServicesCommonModule} from \"../shared/file-services-common.module\";\nimport {IpParserService} from \"@service/ip-parser.service\";\nimport {CommonDirectiveModule} from \"@directive/common-directive.module\";\n\nconst fileSharesRoutes: Routes = [\n   {\n      path: \"\",\n      component: CreateShareWizardComponent,\n   },\n];\n\n@NgModule({\n   imports: [\n      CommonModule,\n      FormsModule,\n      ClarityModule,\n      FlowWizardModule,\n      ValidationModule,\n      CommonPipeModule,\n      FileServicesCommonModule,\n      RouterModule.forChild(fileSharesRoutes),\n      CommonDirectiveModule,\n   ],\n   declarations: [\n      CreateShareWizardComponent,\n      CreateShareGeneralPageComponent,\n      CreateShareReviewPageComponent,\n      CreateShareNetPermissionsPageComponent,\n      CreateShareFileAnalyticsPageComponent,\n   ],\n   entryComponents: [\n      CreateShareGeneralPageComponent,\n      CreateShareReviewPageComponent,\n      CreateShareNetPermissionsPageComponent,\n      CreateShareFileAnalyticsPageComponent,\n   ],\n   providers: [\n      CreateShareGeneralPageService,\n      IpParserService,\n   ],\n})\nexport class CreateShareWizardModule {\n}\n","/* Copyright 2018-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Injectable} from \"@angular/core\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {VsanFileServiceShareSize} from \"@generated/vsan-file-service-share-size\";\nimport {VsanFileServiceShareConfig} from \"@generated/vsan-file-service-share-config\";\nimport {StoragePolicyData} from \"@generated/storage-policy-data\";\nimport {VsanFileSharesService} from \"@generated/vsan-file-shares-service\";\nimport {ManagedObject} from \"@service/managed-object\";\n\n@Injectable()\nexport class CreateShareGeneralPageService {\n\n   constructor(private shareService: VsanFileSharesService) {\n   }\n\n   // More info about share's name requirements - https://bugzilla.eng.vmware.com/show_bug.cgi?id=2156239#c2\n   private static readonly ALLOWED_CHARS: RegExp = /^[\\da-zA-Z][\\da-zA-Z-]{1,61}[\\da-zA-Z]$/;\n   private static readonly MULTIPLE_DASHES: RegExp = /--/;\n   private static readonly MAXIMUM_QUOTA_SIZE_IN_KB: number =\n         CreateShareGeneralPageService.toKilobytes(16777215, VsanFileServiceShareSize.TB);\n   private static readonly MINIMUM_QUOTA_SIZE_IN_KB: number =\n         CreateShareGeneralPageService.toKilobytes(1, VsanFileServiceShareSize.MB);\n\n   /**\n    * Validates if both the key and value are not empty strings\n    */\n   isLabelValid(key: string, value: string): boolean {\n      return key && key.trim().length !== 0 && value && value.trim().length !== 0;\n   }\n\n   /**\n    * Validates that the name matches the backend requirements\n    */\n   validateName(share: VsanFileServiceShareConfig): string | null {\n      if (!share.name) {\n         return VsanUiUtils.getString(\"vsan.fileservices.shares.validation.emptyName\");\n      } else {\n         if (!CreateShareGeneralPageService.ALLOWED_CHARS.test(share.name)\n               || CreateShareGeneralPageService.MULTIPLE_DASHES.test(share.name)) {\n            return VsanUiUtils.getString(\"vsan.fileservices.shares.validation.invalidName\");\n         }\n      }\n   }\n\n   /**\n    * Validates if the share name is existing or not\n    */\n   validateDuplicatedName(shareName: string): Promise<string[]> {\n      return new Promise<string[]>((accept, reject) => {\n         this.shareService.queryShareByName(ManagedObject.contextObject, shareName)\n               .then(share => {\n                  if (share) {\n                     return accept([VsanUiUtils.getString(\n                           \"vsan.fileservices.shares.validation.duplicateName\", shareName)]);\n                  }\n                  return accept(null);\n               }).catch(err => {\n                  reject(err);\n               });\n      });\n   }\n\n   /**\n    * Validates if the given policy is not null and is compatible with the underlying vSAN datastore\n    * @param policy\n    */\n   validatePolicy(policy: StoragePolicyData): string | null {\n      if (!policy) {\n         return VsanUiUtils.getString(\"vsan.fileservices.shares.validation.noPolicy\");\n      } else if (!policy.isCompatible) {\n         return VsanUiUtils.getString(\"vsan.fileservices.shares.validation.nonCompatiblePolicy\");\n      }\n   }\n\n   /**\n    * Validates share's quotas\n    */\n   validateThresholds(isSoftQuotaSelected: boolean, softQuotaValue: string, softQuotaSize: VsanFileServiceShareSize,\n         isHardQuotaSelected: boolean, hardQuotaValue: string,\n         hardQuotaSize: VsanFileServiceShareSize): string[] | null {\n      const validationErrors: string[] = [];\n      let softQuotaInKB: number;\n      let hardQuotaInKB: number;\n\n      if (isSoftQuotaSelected) {\n         if (VsanUiUtils.isEmpty(softQuotaValue)) {\n            validationErrors.push(VsanUiUtils.getString(\"vsan.fileservices.shares.validation.emptyWarningThreshold\"));\n         } else {\n            softQuotaInKB = CreateShareGeneralPageService.toKilobytes(\n                  VsanUiUtils.convertLocalizedStringToNumber(softQuotaValue), softQuotaSize);\n            if (isNaN(softQuotaInKB)) {\n               validationErrors.push(\n                     VsanUiUtils.getString(\"vsan.fileservices.shares.validation.invalidWarningThreshold\"));\n            } else if (softQuotaInKB < CreateShareGeneralPageService.MINIMUM_QUOTA_SIZE_IN_KB) {\n               validationErrors.push(\n                     VsanUiUtils.getString(\"vsan.fileservices.shares.validation.warningThresholdTooLittle\"));\n            } else if (softQuotaInKB > CreateShareGeneralPageService.MAXIMUM_QUOTA_SIZE_IN_KB) {\n               validationErrors.push(\n                     VsanUiUtils.getString(\"vsan.fileservices.shares.validation.warningThresholdTooBig\"));\n            }\n         }\n      }\n\n      if (isHardQuotaSelected) {\n         if (VsanUiUtils.isEmpty(hardQuotaValue)) {\n            validationErrors.push(VsanUiUtils.getString(\"vsan.fileservices.shares.validation.emptyHardQuota\"));\n         } else {\n            hardQuotaInKB = CreateShareGeneralPageService.toKilobytes(\n                  VsanUiUtils.convertLocalizedStringToNumber(hardQuotaValue), hardQuotaSize);\n            if (isNaN(hardQuotaInKB)) {\n               validationErrors.push(VsanUiUtils.getString(\"vsan.fileservices.shares.validation.invalidHardQuota\"));\n            } else if (hardQuotaInKB < CreateShareGeneralPageService.MINIMUM_QUOTA_SIZE_IN_KB) {\n               validationErrors.push(VsanUiUtils.getString(\"vsan.fileservices.shares.validation.hardQuotaTooLittle\"));\n            } else if (hardQuotaInKB > CreateShareGeneralPageService.MAXIMUM_QUOTA_SIZE_IN_KB) {\n               validationErrors.push(VsanUiUtils.getString(\"vsan.fileservices.shares.validation.hardQuotaTooBig\"));\n            }\n         }\n      }\n\n      if (isSoftQuotaSelected\n            && softQuotaValue\n            && isHardQuotaSelected\n            && hardQuotaValue\n            && softQuotaInKB > hardQuotaInKB) {\n         validationErrors\n               .push(VsanUiUtils.getString(\"vsan.fileservices.shares.validation.softQuotaGreaterThanHardQuota\"));\n      }\n\n      return !!validationErrors.length ? validationErrors : null;\n   }\n\n   /**\n    * Converts threshold's value to KBs so different thresholds can be compared\n    */\n   private static toKilobytes(value: number, size: VsanFileServiceShareSize): number {\n      if (isNaN(value) || !size) {\n         return NaN;\n      }\n\n      let power: number = 1;\n      switch (size) {\n         case VsanFileServiceShareSize.MB:\n            power = 1;\n            break;\n         case VsanFileServiceShareSize.GB:\n            power = 2;\n            break;\n         case VsanFileServiceShareSize.TB:\n            power = 3;\n            break;\n         default:\n            throw new Error(\"Not supported size.\");\n      }\n\n      return value * (1024 ** power);\n   }\n}\n"],"sourceRoot":"webpack:///"}