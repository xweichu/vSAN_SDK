{"version":3,"sources":["webpack:///src/app/vsan/cluster/updates/view/vum-cluster-settings.module.ts","webpack:///src/app/vsan/cluster/updates/view/vum-cluster-settings.html","webpack:///src/app/vsan/cluster/updates/view/recommendation/vum-baseline-recommendation.html","webpack:///src/app/vsan/common/util/modal-builder.ts","webpack:///src/app/vsan/cluster/updates/view/vum-cluster-settings.component.ts","webpack:///src/app/vsan/cluster/updates/view/recommendation/vum-baseline-recommendation.component.ts","webpack:///src/app/vsan/common/service/flow/loader-name.ts"],"names":["routes","path","component","VumClusterSettingsModule","ModalBuilder","appId","size","DEFAULT_SIZE","title","accessibilityTitle","urlParams","dimensions","length","warn","setSize","WIDTH","HEIGHT","width","height","params","eventTarget","context","Promise","accept","pluginContext","targetElement","event","target","modalResultHandler","data","JSON","parse","stringify","focus","setTimeout","actionUrl","APP_URL","separator","param","openModalDialog","contextObjectUid","WIZARD_XL","repa","repaExtension","VumClusterSettingsComponent","permissionService","taskSvc","vumBaselineService","clusterRef","contextObject","fetch","fetchPermissionPromise","hasPermissions","EDIT_CLUSTER","then","res","hasEditPrivilege","all","fetchBaselineRecommendation","getClusterRecommendation","baselineRecommendationType","baselineRecommendation","getBaselineRecommendationLabel","recommendation","latestRelease","getString","latestPatch","noRecommendation","Error","open","taskRef","onBaselineRecommendationChange","getAwaitResult","name","ON_INIT","PERFORM_CHANGE","msg","srMessage","srMessageType","PAGE_TITLE","VumBaselineRecommendationComponent","recommendationService","dataService","defaultRecommendation","selectedRecommendation","alertMessages","VumBaselineRecommendationType","isVcRoot","handleError","loading","confirm","currentContextObj","promise","type","CLUSTER","setClusterVumBaselineRecommendation","toString","task","closeModalDialog","error","vcRef","vcRoot","serverGuid","getProperty","clusterName","getVumBaselineRecommendation","vcRecommendation","clusterRecommendation","LoaderName"],"mappings":"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","file":"132-es5.js","sourcesContent":["/* Copyright 2019-2020 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {NgModule} from \"@angular/core\";\nimport {FormsModule} from \"@angular/forms\";\nimport {ClarityModule} from \"@clr/angular\";\nimport {CommonModule} from \"@angular/common\";\nimport {RouterModule, Routes} from \"@angular/router\";\nimport {CommonPipeModule} from \"@pipe/common-pipe.module\";\nimport {PromptModule} from \"@component/dialog/prompt/prompt.module\";\nimport {ValidationModule} from \"@component/validation/validation.module\";\nimport {VumClusterSettingsComponent} from \"./vum-cluster-settings.component\";\nimport {VumBaselineRecommendationComponent} from \"./recommendation/vum-baseline-recommendation.component\";\nimport {CommonDirectiveModule} from \"@directive/common-directive.module\";\n\nconst routes: Routes = [\n   {\n      path: \"\",\n      component: VumClusterSettingsComponent\n   },\n   {\n      path: \"vumBaselineRecommendation\",\n      component: VumBaselineRecommendationComponent\n   }\n];\n\n@NgModule({\n   imports: [\n      FormsModule,\n      CommonModule,\n      PromptModule,\n      ClarityModule,\n      CommonPipeModule,\n      ValidationModule,\n      CommonDirectiveModule,\n      RouterModule.forChild(routes)\n   ],\n   declarations: [\n      VumClusterSettingsComponent,\n      VumBaselineRecommendationComponent\n   ]\n})\nexport class VumClusterSettingsModule {\n}","<!-- Copyright (c) 2019-2020 VMware, Inc. All rights reserved. VMware Confidential -->\n<!-- busy indicator -->\n<span class=\"busy-backdrop\" *ngIf=\"loading\">\n   <span class=\"spinner central-spinner\"></span>\n</span>\n\n<vsan-validation id=\"validation-message\"\n                 *ngIf=\"alertMessage\"\n                 [alert]=\"alertMessage\"\n                 [allowReload]=\"false\"\n                 (onClosed)=\"alertMessage = null\">\n</vsan-validation>\n\n<clr-stack-view class=\"remediation-settings\">\n   <clr-stack-header>\n      <span vsan-auto-focus>\n         {{\"vsan.cluster.updates.clusterSettings.title\" | localized}}\n      </span>\n      <button\n            aria-describedby=\"cluster-settings-title\"\n            type=\"button\"\n            [disabled]=\"!hasEditPrivilege\"\n            (click)=\"edit()\"\n            class=\"stack-action btn btn-sm\">\n         {{\"vsan.cluster.updates.clusterSettings.actions.edit\" | localized}}\n      </button>\n   </clr-stack-header>\n   <clr-stack-block>\n       <clr-stack-label>\n          {{\"vsan.cluster.updates.clusterSettings.recommendation\" | localized}}\n       </clr-stack-label>\n       <clr-stack-content>\n          <span *ngIf=\"!loadingTaskResult\">\n               {{baselineRecommendation}}\n          </span>\n          <div *ngIf=\"loadingTaskResult\">\n             <span class=\"spinner spinner-inline\"></span>\n             <span>{{\"vsan.loading\" | localized }}</span>\n          </div>\n       </clr-stack-content>\n   </clr-stack-block>\n</clr-stack-view>\n","<vsan-question-prompt\n      [title]=\"dialogTitle\"\n      [subtitle]=\"clusterName\"\n      [blockContent]=\"loading\"\n      [blockButton]=\"loading\"\n      [cancelText]=\"'vsan.common.cancel'\"\n      [confirmText]=\"'vsan.vum.baseline.recommendation.dlg.btn.ok.label'\"\n      [(alertMessages)]=\"alertMessages\"\n      (onConfirm)=\"confirm()\">\n   <div id=\"vum-baseline-recommendation-desc\">{{\"vsan.vum.baseline.recommendation.dlg.description\" | localized}}</div>\n   <div class=\"radio-container\">\n      <div class=\"clr-radio-wrapper\">\n         <input id=\"latest-release-radio\"\n                type=\"radio\"\n                name=\"baseline\"\n                class=\"clr-radio\"\n                [(ngModel)]=\"selectedRecommendation\"\n                [value]=\"VumBaselineRecommendationType.latestRelease\">\n         <label id=\"latest-release-radio-label\"\n                for=\"latest-release-radio\">\n            {{\"vsan.vum.baseline.recommendation.option.latest.release.label\" | localized}}\n         </label>\n      </div>\n      <div class=\"clr-radio-wrapper\">\n         <input id=\"latest-patch-radio\"\n                type=\"radio\"\n                name=\"baseline\"\n                class=\"clr-radio\"\n                [(ngModel)]=\"selectedRecommendation\"\n                [value]=\"VumBaselineRecommendationType.latestPatch\">\n         <label id=\"latest-patch-radio-label\"\n                for=\"latest-patch-radio\">\n            {{\"vsan.vum.baseline.recommendation.option.latest.patch.label\" | localized}}\n         </label>\n      </div>\n      <div class=\"clr-radio-wrapper\">\n         <input id=\"no-recommendation-radio\"\n                type=\"radio\"\n                name=\"baseline\"\n                class=\"clr-radio\"\n                [(ngModel)]=\"selectedRecommendation\"\n                [value]=\"VumBaselineRecommendationType.noRecommendation\">\n         <label id=\"no-recommendation-radio-label\"\n                for=\"no-recommendation-radio\">\n            {{\"vsan.vum.baseline.recommendation.option.no.recommendation.label\" | localized}}\n         </label>\n      </div>\n   </div>\n</vsan-question-prompt>","/* Copyright 2017-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {environment} from \"@env/environment\";\nimport {ManagedObject} from \"@service/managed-object\";\nimport {Logger} from \"./logger\";\nimport {WebPlatform} from \"./platform\";\nimport {VsanUiUtils} from \"./vsan-util\";\n\nexport class ModalBuilder {\n\n   static readonly WIDTH: number = 0;\n   static readonly HEIGHT: number = 1;\n\n   static readonly DEFAULT_SIZE: number[] = [1000, 530];\n   static readonly WIZARD_XL: number[] = [1200, 700];\n\n   static readonly APP_URL: string = (environment.repa && environment.repaExtension)\n         ? \"index.html\"\n         : \"/ui/h5-vsan-ui/\";\n\n   private size: number[] = ModalBuilder.DEFAULT_SIZE;\n\n   // When null, the modal dialog will be headless and the docked\n   // view is expected to provide a title bar.\n   private title: string = null;\n\n   private accessibilityTitle: string = null;\n\n   private urlParams: any = {};\n\n   private eventTarget: EventTarget;\n\n   constructor(private appId: string) {\n   }\n\n   setDimensions(dimensions: number[]): ModalBuilder {\n      if (!dimensions || dimensions.length !== 2) {\n         Logger.warn(\"invalid modal dimensions\", dimensions);\n         dimensions = ModalBuilder.DEFAULT_SIZE;\n      }\n      return this.setSize(dimensions[ModalBuilder.WIDTH], dimensions[ModalBuilder.HEIGHT]);\n   }\n\n   setSize(width: number, height: number): ModalBuilder {\n      this.size = [width, height];\n      return this;\n   }\n\n   setUrlParameters(params: any): ModalBuilder {\n      this.urlParams = params;\n      return this;\n   }\n\n   /**\n    * Set to null if the view provides its own title bar\n    */\n   setTitle(title: string): ModalBuilder {\n      this.title = title;\n      return this;\n   }\n\n   setAccessibilityTitle(accessibilityTitle: string): ModalBuilder {\n      this.accessibilityTitle = accessibilityTitle;\n      return this;\n   }\n\n   /**\n    * Set explicit event target if it is changed before opening the modal.\n    * For example when making a preceding request the event target is the XMLHttpRequestÂ object.\n    */\n   setEventTarget(eventTarget: EventTarget): ModalBuilder {\n      this.eventTarget = eventTarget;\n      return this;\n   }\n\n   /**\n    * Opens a modal dialog and returns a promise to collect the result; On close the target element is focused.\n    * @param context - any JS data object, can be retrieved by WebPlatform.getModalContext()\n    * @returns {Promise<any>} - Invoked if the dialog invokes WebPlatform.closeModalDialog(arg)\n    *       with non-null arg. The promise is never rejected.\n    */\n   open(context?: any): Promise<any> {\n      return new Promise<any>((accept) => {\n         VsanUiUtils.pluginContext.targetElement = this.eventTarget ? this.eventTarget :\n               (event && event.target ? event.target : null);\n         VsanUiUtils.pluginContext.modalResultHandler = (data?: any) => {\n            if (typeof data !== \"undefined\") {\n               // Deep copy of the object was required to resolve an issue with object's prototype overriding when\n               // passing complex objects in IE11/Edge; Keep it for safety.\n               accept(JSON.parse(JSON.stringify(data)));\n            } else if (VsanUiUtils.pluginContext.targetElement && VsanUiUtils.pluginContext.targetElement.focus) {\n               // On cancel just focus the target element. Timeout is required as otherwise the focus may be\n               // consumed by the mouse click.\n               setTimeout(() => VsanUiUtils.pluginContext.targetElement.focus(), 100);\n            }\n         };\n\n         let actionUrl: string = `${ModalBuilder.APP_URL}?viewId=${this.appId}`;\n\n         let separator: string = \"?\";\n         for (const param in this.urlParams) {\n            actionUrl += separator + param + \"=\" + this.urlParams[param];\n            separator = \"&\";\n         }\n\n         WebPlatform.openModalDialog(this.title,\n               actionUrl,\n               ManagedObject.contextObjectUid,\n               this.size[0], this.size[1],\n               this.title != null,\n               VsanUiUtils.pluginContext.modalResultHandler /* onClose */,\n               context /* retrieve with Platform.getModalContext() */,\n               this.accessibilityTitle);\n      });\n   }\n\n}\n","/* Copyright (c) 2019-2021 VMware, Inc. All rights reserved. VMware Confidential */\nimport {Component, OnInit} from \"@angular/core\";\nimport {PermissionService} from \"@generated/permission-service\";\nimport {Privileges} from \"@generated/privileges\";\nimport {VumBaselineRecommendationService} from \"@generated/vum-baseline-recommendation-service\";\nimport {VumBaselineRecommendationType} from \"@generated/vum-baseline-recommendation-type\";\nimport {ErrorMessage} from \"@service/flow/error-message.decorator\";\nimport {LoaderName} from \"@service/flow/loader-name\";\nimport {Loader} from \"@service/flow/loader.decorator\";\nimport {LoadingIndicator} from \"@service/flow/loading-indicator.decorator\";\nimport {RefreshHandler} from \"@service/global-refresh.service\";\nimport {ManagedObject} from \"@service/managed-object\";\nimport {SrMessageType} from \"@service/screen-reader-announcer.service\";\nimport {TaskMonitorService} from \"@service/task-monitor-service\";\nimport {ModalBuilder} from \"@util/modal-builder\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\n\n@Component({\n   templateUrl: \"vum-cluster-settings.html\",\n   styleUrls: [\"vum-cluster-settings.scss\"],\n   selector: \"vum-cluster-settings\",\n})\nexport class VumClusterSettingsComponent implements OnInit {\n\n   baselineRecommendation: string;\n   hasEditPrivilege: boolean;\n   clusterRef: ManagedObject;\n\n   @ErrorMessage({\n      name: [LoaderName.ON_INIT, LoaderName.PERFORM_CHANGE],\n      msg: \"vsan.common.error.dataExtraction\",\n   })\n   alertMessage: string;\n\n   @LoadingIndicator({name: LoaderName.ON_INIT})\n   loading: boolean;\n\n   @LoadingIndicator({name: LoaderName.PERFORM_CHANGE})\n   loadingTaskResult: boolean;\n\n   constructor(private permissionService: PermissionService,\n         private taskSvc: TaskMonitorService,\n         private vumBaselineService: VumBaselineRecommendationService) {\n   }\n\n   @Loader({\n      name: LoaderName.ON_INIT,\n      srMessage: \"vsan.cluster.updates.clusterSettings.title\",\n      srMessageType: SrMessageType.PAGE_TITLE,\n   })\n   ngOnInit(): void {\n      this.clusterRef = ManagedObject.contextObject;\n      this.fetch();\n   }\n\n   @RefreshHandler\n   async fetch(): Promise<void> {\n      const fetchPermissionPromise: Promise<boolean> = this.permissionService.hasPermissions(this.clusterRef,\n            [Privileges.EDIT_CLUSTER()])\n            .then(res => this.hasEditPrivilege = res);\n\n      await Promise.all([fetchPermissionPromise, this.fetchBaselineRecommendation()]);\n   }\n\n   private async fetchBaselineRecommendation(): Promise<void> {\n      const baselineRecommendationType: VumBaselineRecommendationType =\n            await this.vumBaselineService.getClusterRecommendation(this.clusterRef);\n      this.baselineRecommendation = this.getBaselineRecommendationLabel(baselineRecommendationType);\n   }\n\n   private getBaselineRecommendationLabel(recommendation: VumBaselineRecommendationType): string {\n      switch (recommendation) {\n         case VumBaselineRecommendationType.latestRelease:\n            return VsanUiUtils.getString(\"vsan.vum.baseline.recommendation.option.latest.release.label\");\n         case VumBaselineRecommendationType.latestPatch:\n            return VsanUiUtils.getString(\"vsan.vum.baseline.recommendation.option.latest.patch.label\");\n         case VumBaselineRecommendationType.noRecommendation:\n            return VsanUiUtils.getString(\"vsan.vum.baseline.recommendation.option.no.recommendation.label\");\n         default:\n            throw new Error(`Not supported vum baseline recommendation found: ${recommendation}`);\n      }\n   }\n\n   edit(): void {\n      if (!this.hasEditPrivilege) {\n         return;\n      }\n\n      new ModalBuilder(\"vum_clusterSettings/vumBaselineRecommendation\")\n            .setSize(650, 480)\n            .open(this.clusterRef)\n            .then((taskRef: ManagedObject) => this.onBaselineRecommendationChange(taskRef));\n   }\n\n   @Loader({name: LoaderName.PERFORM_CHANGE})\n   private async onBaselineRecommendationChange(taskRef: ManagedObject): Promise<void> {\n      await this.taskSvc.getAwaitResult(taskRef);\n      await this.fetchBaselineRecommendation();\n   }\n}\n","/* Copyright 2018-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, OnInit} from \"@angular/core\";\nimport {BaselineRecommendationData} from \"@generated/baseline-recommendation-data\";\nimport {VumBaselineRecommendationService} from \"@generated/vum-baseline-recommendation-service\";\nimport {VumBaselineRecommendationType} from \"@generated/vum-baseline-recommendation-type\";\nimport {ClusterComputeResource} from \"@service/client/dataservice/data-service-property\";\nimport {DataServiceClient} from \"@service/client/dataservice/data-service.service\";\nimport {ManagedObject, ManagedObjectUtils} from \"@service/managed-object\";\nimport {Logger} from \"@util/logger\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\n\n@Component({\n   templateUrl: \"vum-baseline-recommendation.html\",\n   selector: \"vum-baseline-recommendation\",\n   styleUrls: [\"vum-baseline-recommendation.scss\"],\n})\nexport class VumBaselineRecommendationComponent implements OnInit {\n   defaultRecommendation: VumBaselineRecommendationType = VumBaselineRecommendationType.latestRelease;\n   selectedRecommendation: VumBaselineRecommendationType = VumBaselineRecommendationType.latestRelease;\n\n   loading: boolean;\n   alertMessages: string[] = [];\n   clusterName: string;\n   VumBaselineRecommendationType = VumBaselineRecommendationType;\n\n   constructor(private recommendationService: VumBaselineRecommendationService,\n         private dataService: DataServiceClient) {\n   }\n\n   ngOnInit() {\n      const currentContextObj: ManagedObject = ManagedObject.contextObject;\n      let vcRef: ManagedObject = null;\n      let clusterRef: ManagedObject = null;\n\n      // This dialog should be used at cluster or vc level, the context object should be cluster or vc\n      if (this.isVcRoot()) {\n         vcRef = currentContextObj;\n         clusterRef = null;\n      } else if (currentContextObj.type === ManagedObjectUtils.CLUSTER) {\n         vcRef = ManagedObject.vcRoot(currentContextObj.serverGuid);\n         clusterRef = currentContextObj;\n      }\n\n      if (vcRef === null) {\n         throw new Error(\"Unsupported context object, only cluster or VC is supported.\");\n      }\n\n      this.loading = true;\n      if (clusterRef) {\n         this.dataService\n               .getProperty(ClusterComputeResource.name, clusterRef)\n               .then(name => this.clusterName = name);\n      }\n\n      this.recommendationService.getVumBaselineRecommendation(vcRef, clusterRef)\n            .then((data: BaselineRecommendationData) => {\n               this.loading = false;\n               if (data.vcRecommendation) {\n                  this.defaultRecommendation = data.vcRecommendation;\n               }\n\n               if (data.clusterRecommendation) {\n                  this.selectedRecommendation = data.clusterRecommendation;\n               }\n            })\n            .catch(this.handleError);\n   }\n\n   private isVcRoot = (): boolean => {\n      return ManagedObjectUtils.isVcRoot(ManagedObject.contextObjectUid);\n   };\n\n   private handleError = () => {\n      this.loading = false;\n      this.alertMessages = [VsanUiUtils.getString(\"vsan.vum.baseline.recommendation.error\")];\n   };\n\n   confirm = () => {\n      this.loading = true;\n      const currentContextObj: ManagedObject = ManagedObject.contextObject;\n      let promise: Promise<ManagedObject> = null;\n      if (currentContextObj.type === ManagedObjectUtils.CLUSTER) {\n         promise = this.recommendationService.setClusterVumBaselineRecommendation(currentContextObj,\n               this.selectedRecommendation.toString());\n      }\n\n      if (promise) {\n         promise.then((task: ManagedObject) => {\n            this.loading = false;\n            VsanUiUtils.closeModalDialog(task);\n         }).catch(this.handleError);\n      } else {\n         Logger.error(\"Setting is not saved because of unsupported context object, only cluster or VC is supported.\");\n      }\n   };\n\n   get dialogTitle(): string {\n      if (this.isVcRoot()) {\n         return VsanUiUtils.getString(\"vsan.vum.baseline.recommendation.vc.dlg.title\");\n      }\n      return VsanUiUtils.getString(\"vsan.vum.baseline.recommendation.cluster.dlg.title\");\n   }\n}\n","/* Copyright 2021 VMware, Inc. All rights reserved. -- VMware Confidential */\n\n/*\n   Names to use in the Loader decorator\n */\nexport enum LoaderName {\n   ON_INIT = \"on-init\",\n   ON_CONFIRM = \"on-confirm\",\n   PERFORM_CHANGE = \"perform-change\",\n   REGISTER = \"register\",\n   UPGRADE = \"upgrade\",\n   MONITOR = \"monitor\",\n   DATA_EVACUATION = \"data-evacuation\",\n}\n"]}