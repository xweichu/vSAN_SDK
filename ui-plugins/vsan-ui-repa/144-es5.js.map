{"version":3,"sources":["webpack:///src/app/vsan/file-services/edit-share-file-analytics/edit-share-file-analytics.component.ts","webpack:///src/app/vsan/file-services/edit-share-file-analytics/edit-share-file-analytics.module.ts","webpack:///src/app/vsan/file-services/shared/file-services-common.module.ts","webpack:///src/app/vsan/file-services/edit-share-file-analytics/edit-share-file-analytics.html"],"names":["EditShareFileAnalyticsComponent","fileSharesService","context","getModalContext","share","JSON","parse","stringify","originalIsFileAnalyticsEnabled","isFileAnalyticsEnabled","loading","updateShare","clusterRef","shareUuid","isSmbAbeSupported","task","closeModalDialog","errors","routes","path","component","EditShareFileAnalyticsModule","FileServicesCommonModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UAWaA,+B;AAOV,iDAAoBC,iBAApB,EAA8D;AAAA;;AAA1C,eAAAA,iBAAA,GAAAA,iBAAA;AACnB;;;;iBAED,oBAAQ;AACL,iBAAKC,OAAL,GAAe,4DAAYC,eAAZ,EAAf,CADK,CAEL;;AACA,iBAAKC,KAAL,GAAaC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAKL,OAAL,CAAaE,KAA5B,CAAX,CAAb;AACA,iBAAKI,8BAAL,GAAsC,KAAKJ,KAAL,CAAWK,sBAAjD;AACF;;;iBAEK,mBAAO;;;;;;;;AAEP,2BAAKC,OAAL,GAAe,IAAf;;AAC4B,6BAAM,KAAKT,iBAAL,CAAuBU,WAAvB,CAC5B,KAAKT,OAAL,CAAaU,UADe,EAE5B,KAAKV,OAAL,CAAaW,SAFe,EAG5B,KAAKT,KAHuB,EAI5B,IAJ4B,EAK5B,KAAKF,OAAL,CAAaY,iBALe,CAAN;;;AAAtBC,0B;;AAMN,kFAAYC,gBAAZ,CAA6BD,IAA7B;;;;;;;;AAEA,2BAAKE,MAAL,GAAe,aAAf;;;;AAEA,2BAAKP,OAAL,GAAe,KAAf;;;;;;;;;;AAEL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrCJ;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAGA,UAAMQ,MAAM,GAAW,CACpB;AACGC,YAAI,EAAE,EADT;AAEGC,iBAAS,EAAE;AAFd,OADoB,CAAvB;;UAmBaC,4B;;;;;;;;;;;;;;;;;;;ACKb;AAAA;;;AAAA;AAAA;AAAA;;UAAaC,wB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kNCjCwE,4E,IACrF;AAAA;AAAA,sBAK8B,UAL9B;;AAGM;;;;;AAEA;;;;;AALN;AAAA,oP,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U,EACM,wD,GAIwB,4E,IAC3B,oY,GAAA;AAAA;AAAA,gB,GAAiF,yE,IACjE,4E,IACnB;AAAA;;AAPM;;AACA,6BAAuB,MAAvB,CAAuB,IAAvB;AACA,6BAA0B,OAA1B;AACA,mFAA0F,MAA1F,CAA0F,sBAA1F;;AAJN,wBACM,SADN,EAEM,SAFN,EAGM,SAHN,EAIM,SAJN;;AAMmC,6BAAe,MAAf;;AAAhC,wBAAgC,SAAhC;AAA+C,S,EAAA,I;AAAA","file":"144-es5.js","sourcesContent":["/* Copyright 2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, OnInit} from \"@angular/core\";\nimport {VsanFileServiceShareConfig} from \"@generated/vsan-file-service-share-config\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {VsanFileSharesService} from \"@generated/vsan-file-shares-service\";\nimport {ManagedObject} from \"@service/managed-object\";\nimport {EditShareFileAnalyticsContext} from \"./edit-share-file-analytics-context\";\n\n@Component({\n   templateUrl: \"edit-share-file-analytics.html\",\n})\nexport class EditShareFileAnalyticsComponent implements OnInit {\n   share: VsanFileServiceShareConfig;\n   context: EditShareFileAnalyticsContext;\n   originalIsFileAnalyticsEnabled: boolean;\n   errors: string[];\n   loading: boolean;\n\n   constructor(private fileSharesService: VsanFileSharesService) {\n   }\n\n   ngOnInit(): void {\n      this.context = VsanUiUtils.getModalContext() as EditShareFileAnalyticsContext;\n      // Clone the share data to avoid the shares list getting changed.\n      this.share = JSON.parse(JSON.stringify(this.context.share));\n      this.originalIsFileAnalyticsEnabled = this.share.isFileAnalyticsEnabled;\n   }\n\n   async confirm(): Promise<void> {\n      try {\n         this.loading = true;\n         const task: ManagedObject = await this.fileSharesService.updateShare(\n               this.context.clusterRef,\n               this.context.shareUuid,\n               this.share,\n               null,\n               this.context.isSmbAbeSupported);\n         VsanUiUtils.closeModalDialog(task);\n      } catch (error) {\n         this.errors  = [error];\n      } finally {\n         this.loading = false;\n      }\n   }\n}","/* Copyright 2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {RouterModule, Routes} from \"@angular/router\";\nimport {CommonPipeModule} from \"@pipe/common-pipe.module\";\nimport {PromptModule} from \"@component/dialog/prompt/prompt.module\";\nimport {EditShareFileAnalyticsComponent} from \"./edit-share-file-analytics.component\";\nimport {FileServicesCommonModule} from \"../shared/file-services-common.module\";\n\nconst routes: Routes = [\n   {\n      path: \"\",\n      component: EditShareFileAnalyticsComponent,\n   },\n];\n\n@NgModule({\n   imports: [\n      CommonModule,\n      CommonPipeModule,\n      PromptModule,\n      FileServicesCommonModule,\n      RouterModule.forChild(routes),\n   ],\n   declarations: [\n      EditShareFileAnalyticsComponent,\n   ],\n})\nexport class EditShareFileAnalyticsModule {\n}","/* Copyright 2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {ClarityModule} from \"@clr/angular\";\nimport {FileServicesOvfSettings} from \"./file-services-ovf-settings.component\";\nimport {ShareNetPermissionComponent} from \"./share-net-permission.component\";\nimport {CommonPipeModule} from \"@pipe/common-pipe.module\";\nimport {EditFileAnalyticsComponent} from \"./edit-file-analytics.component\";\nimport {FormsModule} from \"@angular/forms\";\nimport {ValidationModule} from \"@component/validation/validation.module\";\nimport {EditShareFileAnalyticsComponent} from \"./edit-share-file-analytics.component\";\n\n@NgModule({\n   imports: [\n      CommonModule,\n      ClarityModule,\n      CommonPipeModule,\n      FormsModule,\n      ValidationModule,\n   ],\n   declarations: [\n      FileServicesOvfSettings,\n      ShareNetPermissionComponent,\n      EditFileAnalyticsComponent,\n      EditShareFileAnalyticsComponent,\n   ],\n   exports: [\n      FileServicesOvfSettings,\n      ShareNetPermissionComponent,\n      EditFileAnalyticsComponent,\n      EditShareFileAnalyticsComponent\n   ],\n})\nexport class FileServicesCommonModule {\n}","<!-- Copyright 2021-2022 VMware, Inc. All rights reserved. -- VMware Confidential -->\n<vsan-edit-prompt\n      [title]=\"'vsan.fileservices.shares.create.fileAnalytics.title'|localized\"\n      [subtitle]=\"share.name\"\n      [(alertMessages)]=\"errors\"\n      [blockButton]=\"loading || originalIsFileAnalyticsEnabled === share.isFileAnalyticsEnabled\"\n      (onConfirm)=\"confirm()\">\n   <vsan-edit-share-file-analytics [share]=\"share\"></vsan-edit-share-file-analytics>\n</vsan-edit-prompt>\n"]}