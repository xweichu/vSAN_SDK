{"version":3,"sources":["./src/app/vsan/file-services/edit-share-file-analytics/edit-share-file-analytics.component.ts","./src/app/vsan/file-services/edit-share-file-analytics/edit-share-file-analytics.module.ts","./src/app/vsan/file-services/shared/file-services-common.module.ts","./src/app/vsan/file-services/edit-share-file-analytics/edit-share-file-analytics.html"],"names":[],"mappings":";;;;;;;;;;;;;;;AAG4C;AAQrC,MAAM,+BAA+B;IAOzC,YAAoB,iBAAwC;QAAxC,sBAAiB,GAAjB,iBAAiB,CAAuB;IAC5D,CAAC;IAED,QAAQ;QACL,IAAI,CAAC,OAAO,GAAG,2DAAW,CAAC,eAAe,EAAmC,CAAC;QAC9E,iEAAiE;QACjE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;QAC5D,IAAI,CAAC,8BAA8B,GAAG,IAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC;IAC3E,CAAC;IAEK,OAAO;;YACV,IAAI;gBACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,MAAM,IAAI,GAAkB,MAAM,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAC9D,IAAI,CAAC,OAAO,CAAC,UAAU,EACvB,IAAI,CAAC,OAAO,CAAC,SAAS,EACtB,IAAI,CAAC,KAAK,EACV,IAAI,EACJ,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;gBACtC,2DAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;aACrC;YAAC,OAAO,KAAK,EAAE;gBACb,IAAI,CAAC,MAAM,GAAI,CAAC,KAAK,CAAC,CAAC;aACzB;oBAAS;gBACP,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;aACvB;QACJ,CAAC;KAAA;CACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtCD;AAAA;AAAA;AAAsF;AAGtF,MAAM,MAAM,GAAW;IACpB;QACG,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,oGAA+B;KAC5C;CACH,CAAC;AAcK,MAAM,4BAA4B;CACxC;;;;;;;;;;;;;;ACID;AAAA;AAAO,MAAM,wBAAwB;CACpC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8MClCoF,0EACrF;YAAA;YAAA,YAK8B;YAFxB;;gCAA0B;;YAE1B;;gCAAuB;;YAL7B;QAAA,stBAK8B,KAJxB,uDAAyE,IAIjD,0EAC3B,imBAAgD,IAAiC,uEACpF,MAAmB,0EACnB,mDAPM,2MAAyE,IACzE,mBAAuB,aACvB,mBAA0B,SAC1B,2EAA0F,iCAJhG,YAK8B,EAJxB,SAAyE,EACzE,SAAuB,EACvB,SAA0B,EAC1B,SAA0F,GAE7D,mBAAe,QAA/C,YAAgD,EAAhB,SAAe;AAAA","file":"144-es2015.js","sourcesContent":["/* Copyright 2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, OnInit} from \"@angular/core\";\nimport {VsanFileServiceShareConfig} from \"@generated/vsan-file-service-share-config\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {VsanFileSharesService} from \"@generated/vsan-file-shares-service\";\nimport {ManagedObject} from \"@service/managed-object\";\nimport {EditShareFileAnalyticsContext} from \"./edit-share-file-analytics-context\";\n\n@Component({\n   templateUrl: \"edit-share-file-analytics.html\",\n})\nexport class EditShareFileAnalyticsComponent implements OnInit {\n   share: VsanFileServiceShareConfig;\n   context: EditShareFileAnalyticsContext;\n   originalIsFileAnalyticsEnabled: boolean;\n   errors: string[];\n   loading: boolean;\n\n   constructor(private fileSharesService: VsanFileSharesService) {\n   }\n\n   ngOnInit(): void {\n      this.context = VsanUiUtils.getModalContext() as EditShareFileAnalyticsContext;\n      // Clone the share data to avoid the shares list getting changed.\n      this.share = JSON.parse(JSON.stringify(this.context.share));\n      this.originalIsFileAnalyticsEnabled = this.share.isFileAnalyticsEnabled;\n   }\n\n   async confirm(): Promise<void> {\n      try {\n         this.loading = true;\n         const task: ManagedObject = await this.fileSharesService.updateShare(\n               this.context.clusterRef,\n               this.context.shareUuid,\n               this.share,\n               null,\n               this.context.isSmbAbeSupported);\n         VsanUiUtils.closeModalDialog(task);\n      } catch (error) {\n         this.errors  = [error];\n      } finally {\n         this.loading = false;\n      }\n   }\n}","/* Copyright 2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {RouterModule, Routes} from \"@angular/router\";\nimport {CommonPipeModule} from \"@pipe/common-pipe.module\";\nimport {PromptModule} from \"@component/dialog/prompt/prompt.module\";\nimport {EditShareFileAnalyticsComponent} from \"./edit-share-file-analytics.component\";\nimport {FileServicesCommonModule} from \"../shared/file-services-common.module\";\n\nconst routes: Routes = [\n   {\n      path: \"\",\n      component: EditShareFileAnalyticsComponent,\n   },\n];\n\n@NgModule({\n   imports: [\n      CommonModule,\n      CommonPipeModule,\n      PromptModule,\n      FileServicesCommonModule,\n      RouterModule.forChild(routes),\n   ],\n   declarations: [\n      EditShareFileAnalyticsComponent,\n   ],\n})\nexport class EditShareFileAnalyticsModule {\n}","/* Copyright 2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {ClarityModule} from \"@clr/angular\";\nimport {FileServicesOvfSettings} from \"./file-services-ovf-settings.component\";\nimport {ShareNetPermissionComponent} from \"./share-net-permission.component\";\nimport {CommonPipeModule} from \"@pipe/common-pipe.module\";\nimport {EditFileAnalyticsComponent} from \"./edit-file-analytics.component\";\nimport {FormsModule} from \"@angular/forms\";\nimport {ValidationModule} from \"@component/validation/validation.module\";\nimport {EditShareFileAnalyticsComponent} from \"./edit-share-file-analytics.component\";\n\n@NgModule({\n   imports: [\n      CommonModule,\n      ClarityModule,\n      CommonPipeModule,\n      FormsModule,\n      ValidationModule,\n   ],\n   declarations: [\n      FileServicesOvfSettings,\n      ShareNetPermissionComponent,\n      EditFileAnalyticsComponent,\n      EditShareFileAnalyticsComponent,\n   ],\n   exports: [\n      FileServicesOvfSettings,\n      ShareNetPermissionComponent,\n      EditFileAnalyticsComponent,\n      EditShareFileAnalyticsComponent\n   ],\n})\nexport class FileServicesCommonModule {\n}","<!-- Copyright 2021-2022 VMware, Inc. All rights reserved. -- VMware Confidential -->\n<vsan-edit-prompt\n      [title]=\"'vsan.fileservices.shares.create.fileAnalytics.title'|localized\"\n      [subtitle]=\"share.name\"\n      [(alertMessages)]=\"errors\"\n      [blockButton]=\"loading || originalIsFileAnalyticsEnabled === share.isFileAnalyticsEnabled\"\n      (onConfirm)=\"confirm()\">\n   <vsan-edit-share-file-analytics [share]=\"share\"></vsan-edit-share-file-analytics>\n</vsan-edit-prompt>\n"],"sourceRoot":"webpack:///"}