{"version":3,"sources":["./src/app/vsan/common/component/file-share-perf/file-share-perf-data.ts","./src/app/vsan/common/component/cell/label-cell.service.ts","./src/app/vsan/common/component/cell/storage-policy-cell.component.ts","./src/app/vsan/common/component/file-share-perf/file-share-perf-details.html","./src/app/vsan/common/component/cell/storage-policy-cell.html","./src/app/vsan/common/component/file-share-perf/file-share-perf-details.component.ts","./src/app/vsan/common/component/cell/label-cell.component.ts","./src/app/vsan/common/component/file-share-perf/file-share-perf.module.ts","./src/app/vsan/common/component/file-share-perf/volume-perf-data.ts","./src/app/vsan/common/component/cell/label-cell.html"],"names":[],"mappings":"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","file":"78-es2015.js","sourcesContent":["/* Copyright 2020-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\n\nimport {VsanFileServiceShare} from \"@generated/vsan-file-service-share\";\n\n/**\n * Model for passing data from volume details to volume details performance tab.\n */\n\nexport class FileSharePerfData {\n   constructor(\n         public fileShare: VsanFileServiceShare,\n         public isSmbProtocolSupported: boolean,\n         public isSmbProtocolLayerPerformanceSupported: boolean = false) {\n   }\n}\n","/* Copyright (c) 2020 VMware, Inc. All rights reserved. VMware Confidential */\nimport {Injectable} from \"@angular/core\";\nimport {Observable, Subject} from \"rxjs\";\nimport {LabelData} from \"@generated/label-data\";\n\n/**\n * This service is used in conjunction with the LabelCell component.\n * It facilitates label click emit and subscription.\n */\n@Injectable()\nexport class LabelCellService {\n   private _labelClicked: Subject<LabelData> = new Subject<LabelData>();\n   onLabelClicked: Observable<LabelData> = this._labelClicked.asObservable();\n\n   emitClick(labelData: LabelData) {\n      this._labelClicked.next(labelData);\n   }\n}","/* Copyright 2019-2020 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, Input} from \"@angular/core\";\nimport {Icon} from \"@util/icon\";\nimport {NavigationService} from \"@navigation/navigation.service\";\n\n@Component({\n   templateUrl: \"storage-policy-cell.html\",\n   selector: \"storage-policy-cell\",\n   styleUrls: [\"storage-policy-cell.scss\"]\n})\nexport class StoragePolicyCell {\n\n   // Enable Enums for direct use in html template.\n   Icon = Icon;\n\n   @Input()\n   storagePolicyName: string;\n\n   @Input()\n   storagePolicyId: string;\n\n   constructor(private navigationService: NavigationService) {}\n\n   onPolicyClicked = () => {\n      this.navigationService.navigateToVmStoragePoliciesView(this.storagePolicyId);\n   };\n}","<!--Copyright 2020-2021 VMware, Inc. All rights reserved. -- VMware Confidential-->\n<span class=\"spinner central-spinner spinner-lg\" *ngIf=\"!volumePerfData\"></span>\n<vsan-validation id=\"file-share-perf-validation\"\n                 *ngIf=\"errorMsg\"\n                 [alert]=\"errorMsg\"\n                 (onClosed)=\"errorMsg = null\">\n</vsan-validation>\n<vsan-unavailable-view *ngIf=\"!isPerfEnabled && commonPerfData\"\n                       [clusterRef]=\"clusterRef\"\n                       [unavailableViewSpec]=\"perfDisabledSpec\"\n                       [hasEditPrivilege]=\"hasEditPrivilege\"\n                       [refreshAfterCompletion]=\"false\"\n                       (configureComplete)=\"fetch()\">\n</vsan-unavailable-view>\n<ng-container *ngIf=\"isPerfEnabled && volumePerfData\">\n   <vsan-single-entity-data-perf [commonPerfData]=\"commonPerfData\"\n                                 [currentTimeRange]=\"currentTimeRange\"\n                                 [showExportAllButton]=\"false\"\n                                 [currentEntity]=\"currentEntity\"\n                                 [entityTypeId]=\"currentEntity.entityId\">\n   </vsan-single-entity-data-perf>\n   <div>\n      <button id=\"performance-navigation-btn\"\n              class=\"btn btn-sm btn-link no-spacing\"\n              (click)=\"navigateToPerformance()\">\n         {{\"cns.volumes.container.grid.details.tab.performance.navigateToPerformance.label\" | localized}}\n      </button>\n   </div>\n</ng-container>\n","<a *ngIf=\"storagePolicyName && storagePolicyName !== storagePolicyId\"\n   href=\"javascript://\"\n   (click)=\"onPolicyClicked()\">\n   <clr-icon [attr.shape]=\"Icon.VM_STORAGE_PROFILE_IMAGE\" aria-hidden=\"true\"></clr-icon>\n   <span>{{storagePolicyName}}</span>\n</a>\n<div *ngIf=\"storagePolicyName && storagePolicyName === storagePolicyId\">\n   <span>{{storagePolicyId}}</span>\n</div>\n<div *ngIf=\"!storagePolicyName\">\n   <span>{{'vsan.na.label' | localized}}</span>\n</div>\n","/* Copyright 2020-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, EventEmitter, Input, Output} from \"@angular/core\";\nimport {NavigationService, PlatformExtension} from \"@navigation/navigation.service\";\nimport {PerfTimeRangeData} from \"@generated/perf-time-range-data\";\nimport {PerfMonitorViewType} from \"../../../performance/model/perf-monitor-view-type.model\";\nimport {PerfMonitorCommonPropsData} from \"@generated/perf-monitor-common-props-data\";\nimport {BasePerfEntity} from \"../../../performance/model/base-perf-entity\";\nimport {RangePickerState} from \"@component/datetime-picker/time-range-picker/range-picker-state\";\nimport {PerformanceUtils} from \"../../../performance/util/perf-utils\";\nimport {AlertType} from \"@component/validation/alert-type\";\nimport {PerformanceContext} from \"@navigation/context/performance-context\";\nimport {UnavailableViewSpec} from \"@component/unavailable-view/unavailable-view-spec\";\nimport {VsanFileShareUtils} from \"../../../file-services/shares/file-share-util\";\nimport {VsanDateTimeUtils} from \"@util/vsan-dateteime-util\";\nimport {FileShareEntity} from \"../../../performance/model/file-share-entity\";\nimport {VolumePerfData} from \"@component/file-share-perf/volume-perf-data\";\nimport {ManagedObject} from \"@service/managed-object\";\n\n/**\n * This component is used to show performance details of a CNS file volume / file share for the last 1 hour.\n */\n@Component({\n   templateUrl: \"file-share-perf-details.html\",\n   styleUrls: [\"file-share-perf-details.scss\"],\n   selector: \"file-share-perf-details\",\n})\nexport class FileSharePerfDetails {\n\n   private static readonly HOUR_INTERVAL: number = 1;\n   private static readonly TIME_RANGE_PICKER_STATE: RangePickerState = RangePickerState.LAST_X_HOURS;\n\n   private _volumePerfData: VolumePerfData;\n\n   @Input()\n   clusterRef: ManagedObject;\n\n   @Input()\n   set volumePerfData(value: VolumePerfData) {\n      this.resetProps();\n      this._volumePerfData = value;\n      if (!value) {\n         return;\n      }\n      this.validate(value.commonPerfData);\n      if (this.errorMsg) {\n         return;\n      }\n      this.setEntityPerfView();\n   }\n\n   get volumePerfData(): VolumePerfData {\n      return this._volumePerfData;\n   }\n\n   @Output()\n   queryPerformanceData: EventEmitter<any> = new EventEmitter();\n\n   perfDisabledSpec: UnavailableViewSpec;\n   hasEditPrivilege: boolean = false;\n   isPerfEnabled: boolean = false;\n\n   errorMsg: string;\n   alertType: string;\n\n   commonPerfData: PerfMonitorCommonPropsData;\n   currentTimeRange: PerfTimeRangeData;\n   currentView: PerfMonitorViewType;\n   currentEntity: BasePerfEntity;\n   initialEntityId: string;\n\n   constructor(private navigationService: NavigationService) {\n   }\n\n   setEntityPerfView(): void {\n      this.commonPerfData = this._volumePerfData.commonPerfData;\n      this.currentTimeRange = VsanDateTimeUtils.createTimeRange(FileSharePerfDetails.TIME_RANGE_PICKER_STATE,\n            FileSharePerfDetails.HOUR_INTERVAL,\n            VsanDateTimeUtils.createNoSecondsDate(FileSharePerfDetails.HOUR_INTERVAL));\n      if (this.volumePerfData.fileSharePerfData) {\n         this.setFileServicePerfView();\n      } else {\n         this.setVmPerfView();\n      }\n   }\n\n   private setVmPerfView(): void {\n      this.currentView = PerfMonitorViewType.VM_VIRTUAL_DISK;\n      this.currentEntity = this._volumePerfData.containerVolumePerfData.perfEntityData;\n      this.initialEntityId = this.currentEntity.entityUuid;\n   }\n\n   private setFileServicePerfView(): void {\n      this.currentView = PerfMonitorViewType.CLUSTER_FILE_SERVICE;\n      const fileShareEntity: FileShareEntity = VsanFileShareUtils.getFileShareEntity(\n            this.volumePerfData.fileSharePerfData.fileShare,\n            this.volumePerfData.fileSharePerfData.isSmbProtocolSupported,\n            this.volumePerfData.fileSharePerfData.isSmbProtocolLayerPerformanceSupported);\n      this.currentEntity = fileShareEntity.protocolEntity || fileShareEntity;\n      this.initialEntityId = this.currentEntity.entityUuid;\n   }\n\n   private validate(commonPerfData: PerfMonitorCommonPropsData): void {\n      if (!commonPerfData) {\n         return;\n      }\n      this.hasEditPrivilege = commonPerfData.hasEditPrivilege;\n      this.isPerfEnabled = commonPerfData.isPerformanceServiceEnabled;\n      if (this.isPerfEnabled) {\n         this.perfDisabledSpec = null;\n      } else {\n         this.perfDisabledSpec = UnavailableViewSpec.PERF_DISABLED;\n         return;\n      }\n\n      /*\n       * Display a warning message on the UI when the difference between\n       * client browser time and Master Node host time is more than 1 hour\n       */\n      const masterNodeTimeDiffMessage: string = PerformanceUtils.validateMasterNodeTime(\n            commonPerfData.currentTimeOnMasterNode);\n      if (masterNodeTimeDiffMessage) {\n         this.errorMsg = masterNodeTimeDiffMessage;\n         this.alertType = AlertType.WARNING;\n      }\n   }\n\n   fetch(): void {\n      // Emit perf data in volume details as the cache is stored there.\n      this.queryPerformanceData.emit();\n   }\n\n   private resetProps(): void {\n      this.perfDisabledSpec = null;\n      this.hasEditPrivilege = false;\n      this.isPerfEnabled = false;\n\n      this.errorMsg = null;\n      this.alertType = null;\n\n      this._volumePerfData = null;\n   }\n\n   // Currently only viewType and entityUuid properties are used.\n   navigateToPerformance(): void {\n      if (this.volumePerfData.fileSharePerfData) {\n         this.navigateToFileSharesPerfView();\n      } else {\n         this.navigateToVmPerfView();\n      }\n   }\n\n   private navigateToFileSharesPerfView():void {\n      const performanceContext: PerformanceContext = {\n         viewType: PerfMonitorViewType[this.currentView],\n         entityUuid: VsanFileShareUtils.getFileShareEntityUuid(this.volumePerfData.fileSharePerfData.fileShare),\n      };\n\n      this.navigationService.navigateTo(\n            PlatformExtension.CLUSTER_PERFORMANCE, this.commonPerfData.clusterRef, performanceContext);\n   }\n\n   private navigateToVmPerfView(): void {\n      const performanceContext: PerformanceContext = {\n         viewType: PerfMonitorViewType[PerfMonitorViewType.VM_VIRTUAL_DISK],\n         selectedEntityName: this._volumePerfData.containerVolumePerfData.perfEntityData.entityName,\n      };\n      this.navigationService.navigateTo(PlatformExtension.VM_PERFORMANCE,\n            this._volumePerfData.containerVolumePerfData.vmRef, performanceContext);\n   }\n}\n","/* Copyright 2019-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, Input} from \"@angular/core\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {LabelData} from \"@generated/label-data\";\nimport {LabelCellService} from \"@component/cell/label-cell.service\";\nimport {TextStyles, StringUtil} from \"@util/string-util\";\n\n@Component({\n   templateUrl: \"label-cell.html\",\n   styleUrls: [\"label-cell.scss\"],\n   selector: \"label-cell\",\n})\n\n/**\n * The component shows the associated labels of a CNS volume or a file share object. When the label column of the grid\n * is shrunk \"SEE ALL\" button is shown. When the column is expanded labels are shown.\n * The component is used in the grid and grid details.\n */\n\nexport class LabelCell {\n\n   @Input()\n   entityLabels: LabelData[];\n\n   @Input()\n   showSeeAllButton: boolean;\n\n   @Input()\n   isClickable: boolean;\n\n   // Margin between labels and padding between labels' key-value pairs.\n   private static SPACE_BETWEEN_ITEMS: number = 46;\n\n   private static FONT_FAMILY: string = StringUtil.FONT_FAMILY;\n   private static FONT_SIZE: number = 11;\n\n   constructor(private labelCellService: LabelCellService) {}\n\n   labelsToShowInline(): any[] {\n      const columnWidth: number = $(\"#labelColumn\").outerWidth();\n      const seeMoreWidth: number = this.getTextWidth(VsanUiUtils.getString((\"cns.volumes.container.grid.see.all\")));\n      let i: number = 0;\n      let currentWidth: number = 0;\n      const labelsToShow: any[] = [];\n      if (!this.entityLabels || !this.entityLabels.length) {\n         return labelsToShow;\n      }\n      for (const label of this.entityLabels) {\n         const width: number = this.getTextWidth(label.key + label.value);\n         if (currentWidth + width < columnWidth) {\n            // Label is smaller than column, now check how it will act with see more button.\n            if (currentWidth + width < columnWidth - seeMoreWidth) {\n               // smaller than column + see more button, best case, draw the label.\n               labelsToShow.push(label);\n            } else if (i === this.entityLabels.length - 1) {\n               // smaller than column, larger than column + see more, but since this is the last label and there will be\n               // no See more button, we are fine to draw this label.\n               labelsToShow.push(label);\n            } else {\n               break;\n            }\n         } else {\n            break;\n         }\n         currentWidth += width;\n         i++;\n      }\n      return labelsToShow;\n   }\n\n   private getTextWidth(text: string): number {\n      const textStyles: TextStyles = {family: LabelCell.FONT_FAMILY, size: LabelCell.FONT_SIZE};\n      return StringUtil.getTextWidth(text, textStyles) + LabelCell.SPACE_BETWEEN_ITEMS;\n   }\n\n   onLabelClick(label: LabelData): void {\n      this.labelCellService.emitClick(label);\n   }\n}\n","/* Copyright 2020 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {ClarityModule} from \"@clr/angular\";\nimport {CommonPipeModule} from \"@pipe/common-pipe.module\";\nimport {VsanCommonModule} from \"../../vsan-common.module\";\nimport {VsanChartModule} from \"@component/chart/chart.module\";\nimport {FileSharePerfDetails} from \"@component/file-share-perf/file-share-perf-details.component\";\nimport {PerformanceCommonModule} from \"../../../performance/performance-common.module\";\nimport {UnavailableViewModule} from \"@component/unavailable-view/unavailable-view.module\";\n\n@NgModule({\n   imports: [\n      CommonModule,\n      ClarityModule,\n      CommonPipeModule,\n      UnavailableViewModule,\n      VsanCommonModule,\n      PerformanceCommonModule,\n      VsanChartModule,\n   ],\n   declarations: [\n      FileSharePerfDetails\n   ],\n   exports: [\n      FileSharePerfDetails\n   ]\n})\nexport class FileSharePerfModule {\n}\n","/* Copyright 2021 VMware, Inc. All rights reserved. -- VMware Confidential */\n\nimport {PerfMonitorCommonPropsData} from \"@generated/perf-monitor-common-props-data\";\nimport {FileSharePerfData} from \"@component/file-share-perf/file-share-perf-data\";\nimport {ContainerVolumePerfData} from \"@component/file-share-perf/container-volume-perf-data\";\n\n/**\n * Model for passing data from volume details to volume details performance tab.\n */\n\nexport class VolumePerfData {\n   constructor(\n         public commonPerfData: PerfMonitorCommonPropsData,\n         public fileSharePerfData?: FileSharePerfData,\n         public containerVolumePerfData?: ContainerVolumePerfData) {\n   }\n}\n","<!--Copyright 2019-2020 VMware, Inc. All rights reserved. -- VMware Confidential-->\n\n<ng-container *ngIf=\"showSeeAllButton && entityLabels?.length\">\n   <ng-container *ngIf=\"labelsToShowInline(); let labelsToShow\">\n      <ng-container *ngTemplateOutlet=\"labels; context: {labels: labelsToShow}\"></ng-container>\n      <clr-signpost *ngIf=\"entityLabels.length > labelsToShow.length\">\n         <button class=\"btn btn-sm btn-link no-spacing\" clrSignpostTrigger>\n            {{'cns.volumes.container.grid.see.all' | localized}}\n         </button>\n         <clr-signpost-content clrPosition=\"right-bottom\" *clrIfOpen>\n            <ng-container *ngTemplateOutlet=\"labels; context: {labels: entityLabels}\"></ng-container>\n         </clr-signpost-content>\n      </clr-signpost>\n   </ng-container>\n</ng-container>\n<ng-container *ngIf=\"!entityLabels?.length\">\n   {{'vsan.na.label' | localized }}\n</ng-container>\n<ng-container *ngIf=\"!showSeeAllButton && entityLabels?.length\">\n   <ng-container *ngTemplateOutlet=\"labels; context: {labels: entityLabels}\"></ng-container>\n</ng-container>\n\n<ng-template #labels let-labels=\"labels\">\n   <div *ngFor=\"let label of labels\"\n        [ngClass]=\"{'clickable': isClickable}\"\n        class=\"label label-light-blue\"\n        (click)=\"onLabelClick(label)\">\n      {{ label.key }}\n      <span class=\"badge\">{{ label.value }}</span>\n   </div>\n</ng-template>"],"sourceRoot":"webpack:///"}