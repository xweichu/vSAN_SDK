{"version":3,"sources":["webpack:///src/app/vsan/common/component/inventory/dropdown-object-selector/dropdown-object-selector.html","webpack:///src/app/vsan/common/component/inventory/dropdown-object-selector/dropdown-object-selector.component.ts"],"names":["DropdownObjectSelectorComponent","allowMultipleSelection","showSearch","selectedObjectInfosChange","menuOpen","objectInfos","emit","selectedObjectInfos"],"mappings":"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","file":"63-es5.js","sourcesContent":["<!--Copyright 2020 VMware, Inc. All rights reserved. -- VMware Confidential-->\n<label *ngIf=\"label\"\n       for=\"dropdown-object-selector\"\n       class=\"clr-control-label\">\n   {{label}}\n</label>\n\n<clr-dropdown [clrCloseMenuOnItemClick]=\"true\"\n              id=\"dropdown-object-selector\"\n              class=\"wide-item\">\n   <button clrDropdownTrigger\n           id=\"select-object-button\"\n           class=\"dropdown-toggle btn btn-link\">\n      <ng-container *ngIf=\"allowMultipleSelection\">\n         {{\"vsan.common.selectedObjects\" | localized:selectedObjectInfos?.length ? selectedObjectInfos.length : 0}}\n      </ng-container>\n\n      <ng-container *ngIf=\"!allowMultipleSelection && !singleSelectionObjectInfo\">\n         {{\"vsan.common.selectObject\" | localized}}\n      </ng-container>\n\n      <ng-container *ngIf=\"!allowMultipleSelection && singleSelectionObjectInfo\">\n         <clr-icon [attr.shape]=\"singleSelectionObjectInfo.primaryIconId\"></clr-icon>\n         {{singleSelectionObjectInfo.name}}\n      </ng-container>\n\n      <clr-icon shape=\"caret down\"></clr-icon>\n   </button>\n\n   <ng-template [(clrIfOpen)]=\"menuOpen\">\n      <clr-dropdown-menu [attr.aria-label]=\"'vsan.common.srMessage.dropdownMenu.optionsExpanded.label' | localized\">\n         <vsan-tree-view id=\"select-object-tree-view\"\n                         [nodes]=\"nodes\"\n                         [allowMultipleSelection]=\"allowMultipleSelection\"\n                         [showSearch]=\"showSearch\"\n                         [searchInputAriaLabelKey]=\"searchInputAriaLabelKey\"\n                         [selectedObjectInfos]=\"selectedObjectInfos\"\n                         (selectedObjectInfosChange)=\"onSelectedObjectInfosChange($event)\">\n         </vsan-tree-view>\n      </clr-dropdown-menu>\n   </ng-template>\n</clr-dropdown>\n","/* Copyright 2020 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, EventEmitter, Input, Output} from \"@angular/core\";\nimport {TreeNode} from \"@component/inventory/tree-view/tree-node\";\nimport ObjectInfo from \"@component/inventory/tree-view/ObjectInfo\";\n\n/**\n * A dropdown wrapper for vsan-tree-node component. It allows selection of one or more managed objects.\n */\n@Component({\n   selector: \"vsan-dropdown-object-selector\",\n   templateUrl: \"dropdown-object-selector.html\",\n   styleUrls: [\"dropdown-object-selector.scss\"]\n})\nexport class DropdownObjectSelectorComponent {\n   @Input()\n   label: string;\n\n   @Input()\n   nodes: TreeNode[];\n\n   @Input()\n   searchInputAriaLabelKey: string;\n\n   @Input()\n   allowMultipleSelection = false;\n\n   @Input()\n   showSearch: boolean = true;\n\n   /**\n    * The objects can be preselected.\n    */\n   @Input()\n   selectedObjectInfos: ObjectInfo[];\n\n   @Output()\n   selectedObjectInfosChange: EventEmitter<ObjectInfo[]> = new EventEmitter<ObjectInfo[]>();\n\n   menuOpen: boolean = false;\n\n   onSelectedObjectInfosChange(objectInfos: ObjectInfo[]) {\n      this.selectedObjectInfosChange.emit(objectInfos);\n      if (!this.allowMultipleSelection) {\n         this.menuOpen = false;\n      }\n   }\n\n   get singleSelectionObjectInfo(): ObjectInfo {\n      return this.selectedObjectInfos && this.selectedObjectInfos[0]\n            ? this.selectedObjectInfos[0]\n            : null;\n   }\n}\n"]}