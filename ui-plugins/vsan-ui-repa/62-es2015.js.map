{"version":3,"sources":["./src/app/vsan/common/util/storage-size-metric.ts","./src/app/vsan/common/pipe/virtual-objects/health-state-label.pipe.ts","./src/app/vsan/common/util/vsan-iscsi-util.ts","./src/app/vsan/common/pipe/virtual-objects/health-state-icon-shape.pipe.ts","./src/app/vsan/common/pipe/virtual-objects/health-state-icon-class.pipe.ts"],"names":[],"mappings":"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","file":"62-es2015.js","sourcesContent":["/* Copyright 2017-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {VsanUiUtils} from \"@util/vsan-util\";\n\n/**\n * The supported storage size metrics\n */\nexport class StorageSizeMetric {\n   static readonly B: StorageSizeMetric =\n         new StorageSizeMetric(1, \"vsan.common.bytes\");\n   static readonly KB: StorageSizeMetric =\n         new StorageSizeMetric(1024, \"vsan.common.kilobytes\");\n   static readonly MB: StorageSizeMetric =\n         new StorageSizeMetric(1024 * 1024, \"vsan.common.megabytes\");\n   static readonly GB: StorageSizeMetric =\n         new StorageSizeMetric(1024 * 1024 * 1024, \"vsan.common.gigabytes\");\n   static readonly TB: StorageSizeMetric =\n         new StorageSizeMetric(1024 * 1024 * 1024 * 1024, \"vsan.common.terabytes\");\n\n   private constructor(private _value: number, private _labelKey: string) {\n   }\n\n   get value(): number {\n      return this._value;\n   }\n\n   toString(): string {\n      return VsanUiUtils.getString(this._labelKey);\n   }\n}\n","/* Copyright 2017-2020 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Pipe, PipeTransform} from \"@angular/core\";\nimport {BaseHealthState, VsanHealthUtil} from \"@util/vsan-health-util\";\n\n@Pipe({\n   name: \"healthStateLabel\",\n})\nexport class VirtualObjectHealthStateLabelPipe implements PipeTransform {\n   transform(state: BaseHealthState | string): string {\n      return VsanHealthUtil.getVsanObjectHealthStatusText(state);\n   }\n}","/* Copyright 2017-2022 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {AffinitySiteLocation} from \"@generated/affinity-site-location\";\nimport {IscsiLunStatus} from \"@generated/iscsi-lun-status\";\nimport {StoragePolicyData} from \"@generated/storage-policy-data\";\nimport {VsanComplianceStatus} from \"@generated/vsan-compliance-status\";\nimport {VsanIscsiTargetConfig} from \"@generated/vsan-iscsi-target-config\";\nimport {Icon} from \"@util/icon\";\nimport {StorageSizeMetric} from \"@util/storage-size-metric\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport IscsiTargetAuthType = VsanIscsiTargetConfig.IscsiTargetAuthType;\nimport ObjectHealthStatus = VsanIscsiTargetConfig.ObjectHealthStatus;\n\n/**\n * vSAN iSCSI utilities.\n */\nexport class VsanIscsiUtil {\n   private static readonly IQN_EXP: RegExp = /^iqn\\.[0-9]{4}\\-(0[1-9]|1[0-2])\\.[a-z0-9\\-\\.]+(\\:[a-z0-9\\-\\.\\:]*)?$/;\n   static readonly POSITIVE_INTEGER_EXP: RegExp = /^\\+?[1-9][0-9]*$/;\n   static readonly AUTHENTICATION_TYPES: any[] = [\n      {\n         label: VsanUiUtils.getString(\"vsan.iscsi.target.authentication.none\"),\n         id: IscsiTargetAuthType.NoAuth,\n      },\n      {\n         label: VsanUiUtils.getString(\"vsan.iscsi.target.authentication.chap\"),\n         id: IscsiTargetAuthType.CHAP,\n      },\n      {\n         label: VsanUiUtils.getString(\"vsan.iscsi.target.authentication.mutualChap\"),\n         id: IscsiTargetAuthType.CHAP_Mutual,\n      },\n   ];\n\n   // Pass -1 to the backend when the LUN id doesn't change.\n   static readonly UNCHANGED_NEW_LUN_ID_VALUE: number = -1;\n   // Pass -1 to the backend when the LUN size doesn't change.\n   static readonly UNCHANGED_LUN_SIZE_VALUE: number = -1;\n\n   static readonly DEFAULT_PORT: number = 3260;\n   // The maximum length of the target alias and LUN alias\n   private static readonly MAX_ALIAS_BYTE_LENGTH: number = 127;\n   static readonly LUN_ID_MIN: number = 0;\n   static readonly LUN_ID_MAX: number = 255;\n   private static readonly LUN_SIZE_MAX: number = 62 * StorageSizeMetric.TB.value;\n\n   static readonly TCP_PORT_MIN: number = 1025;\n   static readonly TCP_PORT_MAX: number = 65535;\n\n   static getIscsiHomeLabel(status: VsanIscsiTargetConfig.ObjectHealthStatus): string {\n      if (!status) {\n         return VsanUiUtils.getString(\"vsan.na.label\");\n      }\n\n      switch (status) {\n         case VsanIscsiTargetConfig.ObjectHealthStatus.healthy:\n            return VsanUiUtils.getString(\"pbm.operationalState.healthy\");\n         case ObjectHealthStatus.transitionalHealthy:\n            return VsanUiUtils.getString(\"pbm.operationalState.healthyTransitional\");\n         case ObjectHealthStatus.transitionalUnhealthy:\n            return VsanUiUtils.getString(\"pbm.operationalState.unhealthyTransitional\");\n         case ObjectHealthStatus.unhealthy:\n            return VsanUiUtils.getString(\"pbm.operationalState.unhealthyDiskUnavailable\");\n         default:\n            return VsanUiUtils.getString(\"pbm.complianceStatus.unknown\");\n      }\n   }\n\n   static getIscsiHomeIcon(status: ObjectHealthStatus): string {\n      if (!status) {\n         return \"\";\n      }\n\n      switch (status) {\n         case ObjectHealthStatus.healthy:\n         case ObjectHealthStatus.transitionalHealthy:\n            return Icon.CLR_SUCCESS_STANDARD_ICON_SHAPE;\n         case ObjectHealthStatus.transitionalUnhealthy:\n         case ObjectHealthStatus.unhealthy:\n         default:\n            return Icon.CLR_ERROR_STANDARD_ICON_SHAPE;\n      }\n   }\n\n   // Validate target iqn and initiator iqn.\n   static validateIqn(iqn: string): boolean {\n      // Target iqn can be empty, and the backend will generate an iqn for it.\n      if (!iqn) {\n         return true;\n      }\n      if (iqn.length > 224) {\n         return false;\n      }\n      return VsanIscsiUtil.IQN_EXP.test(iqn);\n   }\n\n   static validatePolicy(policy: StoragePolicyData, emptyPolicyError: string): string | null {\n      if (!policy) {\n         return emptyPolicyError;\n      }\n      if (!policy.hasVsanNamespace) {\n         return VsanUiUtils.getString(\"vsan.iscsi.edit.storagePolicy.homeObject.no.vsan.namespace\");\n      }\n      if (!policy.isCompatible) {\n         return VsanUiUtils.getString(\"vsan.iscsi.edit.storagePolicy.homeObject.notCompliant\");\n      }\n   }\n\n   /**\n    * Validate target alias and lun alias and return message.\n    */\n   static getAliasValidationMessage(alias: string): string {\n      if (VsanUiUtils.getUtf8Length(alias) > VsanIscsiUtil.MAX_ALIAS_BYTE_LENGTH) {\n         return VsanUiUtils.getString(\"vsan.configure.iscsiTargets.target.dialog.alias.tooLong\");\n      }\n      if (alias.indexOf(\"\\\"\") > -1) {\n         return VsanUiUtils.getString(\"vsan.configure.iscsiTargets.target.dialog.alias.notValid\");\n      }\n      return null;\n   }\n\n   static getLunIdValidationMessage(lunId: number): string {\n      if (lunId < VsanIscsiUtil.LUN_ID_MIN) {\n         return VsanUiUtils.getString(\"vsan.configure.iscsiTargets.lun.dialog.id.negative\");\n      }\n      if (lunId > VsanIscsiUtil.LUN_ID_MAX) {\n         return VsanUiUtils.getString(\"vsan.configure.iscsiTargets.lun.dialog.id.notValid\");\n      }\n      if (String(lunId).indexOf(\".\") > -1) {\n         return VsanUiUtils.getString(\"vsan.configure.iscsiTargets.lun.dialog.id.not.integer\");\n      }\n      return null;\n   }\n\n   static getLunPolicyValidationMessage(policy: StoragePolicyData): string {\n      if (!policy.hasVsanNamespace) {\n         return VsanUiUtils.getString(\"vsan.iscsi.edit.storagePolicy.homeObject.no.vsan.namespace\");\n      }\n      if (!policy.isCompatible) {\n         return VsanUiUtils.getString(\"vsan.iscsi.edit.storagePolicy.homeObject.notCompliant\");\n      }\n      return null;\n   }\n\n   static getLunSizeValidationMessage(size: number, unit: number): string {\n      if (!size || !VsanIscsiUtil.POSITIVE_INTEGER_EXP.test(size.toString())) {\n         return VsanUiUtils.getString(\"vsan.configure.iscsiTargets.lun.dialog.size.notPositive\");\n      }\n      if ((size * unit) > VsanIscsiUtil.LUN_SIZE_MAX) {\n         return VsanUiUtils.getString(\"vsan.configure.iscsiTargets.lun.dialog.size.maximum\");\n      }\n      return null;\n   }\n\n   static getLunSizeHelperMessage(unit: StorageSizeMetric, minAllowedSize: number = 1): string {\n      const maxAllowedSize: number = (VsanIscsiUtil.LUN_SIZE_MAX) / unit.value;\n      return VsanUiUtils.getString(\"vsan.configure.iscsiTargets.lun.dialog.size.helper\", minAllowedSize, maxAllowedSize,\n            unit);\n   }\n\n   static getLunStateLabel(status: IscsiLunStatus): string {\n      switch (status) {\n         case IscsiLunStatus.Online:\n            return VsanUiUtils.getString(\"vsan.configure.iscsiTargets.lun.online.label\");\n         case IscsiLunStatus.Offline:\n            return VsanUiUtils.getString(\"vsan.configure.iscsiTargets.lun.offline.label\");\n         default:\n            return VsanUiUtils.getString(\"vsan.na.label\");\n      }\n   }\n\n   static getComplianceIconClass(complianceStatus: VsanComplianceStatus): string {\n      return Icon.clrIconShapeClassMap[VsanIscsiUtil.getComplianceShape(complianceStatus)]\n            + \" \" + Icon.CLR_SOLID_ICON_CLASS;\n   }\n\n   static getComplianceShape(complianceStatus: VsanComplianceStatus): string {\n      switch (complianceStatus) {\n         case VsanComplianceStatus.COMPLIANT:\n            return Icon.CLR_SUCCESS_STANDARD_ICON_SHAPE;\n         case VsanComplianceStatus.OUT_OF_DATE:\n            return Icon.CLR_WARN_STANDARD_ICON_SHAPE;\n         case VsanComplianceStatus.NOT_COMPLIANT:\n            return Icon.CLR_ERROR_STANDARD_ICON_SHAPE;\n         case VsanComplianceStatus.NOT_APPLICABLE:\n         case VsanComplianceStatus.UNKNOWN:\n         default:\n            return Icon.CLR_CIRCLE_ICON_SHAPE;\n      }\n   }\n\n   static getComplianceLabel(complianceResult: any): string {\n      if (complianceResult.mismatch) {\n         return VsanUiUtils.getString(\"vsan.pbm.complianceStatus.outOfDate\");\n      }\n      return VsanUiUtils.getString(\"vsan.pbm.complianceStatus.\" + complianceResult.complianceStatus);\n   }\n\n   static getAuthenticationLabel(anthType: string): string {\n      switch (anthType) {\n         case IscsiTargetAuthType.CHAP.toString():\n            return VsanUiUtils.getString(\"vsan.iscsi.target.authentication.chap\");\n         case IscsiTargetAuthType.CHAP_Mutual.toString():\n            return VsanUiUtils.getString(\"vsan.iscsi.target.authentication.mutualChap\");\n         default:\n            return VsanUiUtils.getString(\"vsan.iscsi.target.authentication.none\");\n      }\n   }\n\n   static getTargetLocationLabel(location: AffinitySiteLocation,\n         preferredDomainName: string = null,\n         secondaryDomainName: string = null): string {\n      switch (location) {\n         case AffinitySiteLocation.PREFERRED_DOMAIN:\n            return VsanUiUtils.getString(\"vsan.configure.iscsiTargets.target.dialog.location.option.preferred\",\n                  preferredDomainName ? preferredDomainName : VsanUiUtils.getString(\"vsan.na.label\"));\n         case AffinitySiteLocation.NON_PREFERRED_DOMAIN:\n            return VsanUiUtils.getString(\"vsan.configure.iscsiTargets.target.dialog.location.option.secondary\",\n                  secondaryDomainName ? secondaryDomainName : VsanUiUtils.getString(\"vsan.na.label\"));\n         default:\n            return VsanUiUtils.getString(\"vsan.configure.iscsiTargets.target.dialog.location.option.either\");\n      }\n   }\n\n   static getAllowedInitiatorsType(isGroup: boolean): string {\n      return isGroup ? VsanUiUtils.getString(\"vsan.configure.iscsiTargets.allowed.initiators.type.group\") :\n            VsanUiUtils.getString(\"vsan.configure.iscsiTargets.allowed.initiators.type.initiator\");\n   }\n}\n","/* Copyright 2017-2020 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Pipe, PipeTransform} from \"@angular/core\";\nimport {VsanHealthUtil} from \"@util/vsan-health-util\";\nimport {VsanObjectHealthState} from \"@generated/vsan-object-health-state\";\n\n@Pipe({\n   name: \"healthStateIconShape\",\n})\nexport class VirtualObjectHealthStateIconShapePipe implements PipeTransform {\n   transform(state: VsanObjectHealthState | string): string {\n      return VsanHealthUtil.getVsanObjectHealthStatusIconShape(state);\n   }\n}","/* Copyright 2017-2020 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Pipe, PipeTransform} from \"@angular/core\";\nimport {VsanHealthUtil} from \"@util/vsan-health-util\";\nimport {VsanObjectHealthState} from \"@generated/vsan-object-health-state\";\n\n@Pipe({\n   name: \"healthStateIconClass\",\n})\nexport class VirtualObjectHealthStateIconClassPipe implements PipeTransform {\n   transform(state: VsanObjectHealthState | string): string {\n      return VsanHealthUtil.getVsanObjectHealthStatusIconClass(state);\n   }\n}\n"],"sourceRoot":"webpack:///"}