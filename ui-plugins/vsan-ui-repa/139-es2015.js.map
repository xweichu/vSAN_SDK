{"version":3,"sources":["./src/app/vsan/faultdomains/actions/stretchedcluster/configure-stretched-cluster.component.ts","./src/app/vsan/faultdomains/actions/stretchedcluster/configure-stretched-cluster.module.ts","./src/app/vsan/faultdomains/actions/stretchedcluster/configure-stretched-cluster.component.ts.ConfigureStretchedClusterWizardComponent.html","./src/app/vsan/faultdomains/actions/stretchedcluster/summary-page.html","./src/app/vsan/faultdomains/actions/stretchedcluster/summary-page.component.ts","./src/app/vsan/common/util/witness-host.util.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEsD;AAEU;AACgC;AACpD;AACkC;AACwB;AACF;AACa;AAC3B;AACrB;AACT;AACK;AAatD,MAAM,wCAAwC;IAUlD,YAAoB,iBAAoC;QAApC,sBAAiB,GAAjB,iBAAiB,CAAmB;QARxD,UAAK,GAAW,EAAE,CAAC;QAGnB,yBAAoB,GAAW,EAAE,CAAC;QAClC,aAAQ,GAAU,CAAC,+GAAgC,EAAE,iFAAiB,EAAE,qGAA2B,CAAC,CAAC;QAoD7F,0BAAqB,GAAG,CAAC,sBAA+B,EAAE,wBAAiC,EAAW,EAAE;YAC7G,uFAAuF;YACvF,OAAO,wEAAe,CAAC,uBAAuB,CACxC,6EAAe,CAAC,iBAAiB,EACjC,sBAAsB,EACtB,wBAAwB,EACxB,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAChC,CAAC,CAAC;IAtDF,CAAC;IAEK,QAAQ;;YACX,MAAM,oBAAoB,GAAyB,2DAAW,CAAC,eAAe,EAAE,CAAC;YACjF,MAAM,UAAU,GAAkB,qEAAa,CAAC,aAAa,CAAC;YAC9D,IAAI,CAAC,gBAAgB,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC;YAClF,IAAI,oBAAoB,EAAE;gBACvB,IAAI,CAAC,iBAAiB,CAAC,UAAU,EAAE,oBAAoB,CAAC,CAAC;aAC3D;iBAAM;gBACJ,IAAI,CAAC,yBAAyB,CAAC,UAAU,CAAC,CAAC;aAC7C;QACJ,CAAC;KAAA;IAEO,yBAAyB,CAAC,UAAyB;QACxD,IAAI,CAAC,OAAO,GAAG;YACZ,UAAU,EAAE,UAAU;YACtB,iBAAiB,EAAE,IAAI,CAAC,gBAAgB;SAC1C,CAAC;QAEF,IAAI,CAAC,oBAAoB,GAAG,+BAA+B,CAAC;QAC5D,IAAI,CAAC,KAAK,GAAG,2DAAW,CAAC,SAAS,CAAC,2DAA2D,CAAC,CAAC;QAEhG,IAAI,CAAC,KAAK,GAAG;YACV,IAAI,+EAAO,CAAC,CAAC,qHAAyB,EAAE,mHAAwB,CAAC,CAAC;YAClE,IAAI,+EAAO,CAAC,CAAC,gIAAyB,CAAC,EAAE,IAAI,CAAC,qBAAqB,CAAC;YACpE,IAAI,+EAAO,CAAC,CAAC,4FAAoC,CAAC,CAAC;SACrD,CAAC;IACL,CAAC;IAEO,iBAAiB,CAAC,UAAyB,EAAE,uBAA6C;QAC/F,IAAI,CAAC,OAAO,GAAG;YACZ,UAAU,EAAE,UAAU;YACtB,aAAa,EAAE,uBAAuB,CAAC,eAAe;YACtD,qBAAqB,EAAE,uBAAuB,CAAC,kBAAkB;YACjE,iBAAiB,EAAE,IAAI,CAAC,gBAAgB;SAC1C,CAAC;QAEF,IAAI,CAAC,oBAAoB,GAAG,uBAAuB,CAAC;QACpD,IAAI,CAAC,KAAK,GAAG,2DAAW,CAAC,SAAS,CAAC,mEAAmE,CAAC,CAAC;QAExG,IAAI,CAAC,KAAK,GAAG;YACV,IAAI,+EAAO,CAAC,CAAC,mHAAwB,CAAC,CAAC;YACvC,IAAI,+EAAO,CAAC,CAAC,gIAAyB,CAAC,EAAE,IAAI,CAAC,qBAAqB,CAAC;YACpE,IAAI,+EAAO,CAAC,CAAC,4FAAoC,CAAC,CAAC;SACrD,CAAC;IACL,CAAC;CAUH;;;;;;;;;;;;;;ACnFD;AAAA;AAAA;AAAiG;AAGjG,MAAM,MAAM,GAAW;IACpB;QACG,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,+GAAwC;KACrD;CACH,CAAC;AAsBK,MAAM,+BAA+B;CAC3C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8HCzCD,gFACM,s4BAK4B,oFAC5B,mDAFM,mBAA6C,uBAH7C,mBAAe,QAEf,mBAA6B,UAD7B,mBAAkB,QAGlB,mBAAqB,WAL3B,YAK4B,EADtB,SAA6C,EAH7C,SAAe,EAEf,SAA6B,EAD7B,SAAkB,EAGlB,SAAqB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0HCExB,uHAAyC,6MAEzC;0HAUA,uHAAyC,6MAEzC;0HAtBT,wHAA2B,kFACxB,0mBAA2H,GAAvG,uDAAsG,IAAC,6EACxH,2JAAkC,mGAElC,MAAO,0EACV,MAAqB,6EACrB,4mBAA4H,GAAxG,wDAAuG,IAAC,6EACzH,2JAAiC,wFAC9B,6eAAyC,IAEnC,gFACT,MAAO,0EACV,MAAqB,6EACrB,4mBAA2H,GAAvG,wDAAsG,IAAC,6EACxH,4JAAkC,oGAElC,MAAO,0EACV,MAAqB,6EACrB,4mBAA4H,GAAxG,wDAAuG,IAAC,6EACzH,2JAAiC,wFAC9B,6eAAyC,IAEnC,gFACT,MAAO,0EACV,MAAqB,0EACxB,mDAxBuB,6OAAsG,IAA1H,YAA2H,EAAvG,SAAsG,GAKtG,gPAAuG,IAA3H,aAA4H,EAAxG,SAAuG,GAEhH,mBAAmC,iBAAxC,aAAyC,EAApC,SAAmC,GAK1B,+OAAsG,IAA1H,aAA2H,EAAvG,SAAsG,GAKtG,gPAAuG,IAA3H,aAA4H,EAAxG,SAAuG,GAEhH,mBAAmC,iBAAxC,aAAyC,EAApC,SAAmC,mDAlBT,0DAElC,GAUkC,2DAElC;0HAeN,omBAEqC,GAD/B,uDAAqG,IACtE,0EAClC,wJAA+B,yJAE/B,IAAO,uEACV,2BALM,4OAAqG,IAD3G,YAEqC,EAD/B,SAAqG,mDAEzE,0MAE/B;0HAEH,omBAEqC,GAD/B,uDAAwG,IACzE,0EAClC,2JAAkC,yJAElC,IAAO,uEACV,2BALM,+OAAwG,IAD9G,YAEqC,EAD/B,SAAwG,mDAEzE,6MAElC;wYA3CH,6ZAA2B,IAyBrB,0EACN,0mBAAyH,GAArG,uDAAoG,IAAC,0EACtH,uJAA8B,8FAE9B,MAAO,uEACV,MAAqB,0EACrB,oaAEqC,IAIhB,0EACrB,oaAEqC,IAIhB,4EAErB,mDA9CK,mBAAqB,gBAA1B,YAA2B,EAAtB,SAAqB,GA0BN,oOAAoG,IAAxH,YAAyH,EAArG,SAAoG,GAOlH,mBAA8B,yBAFpC,aAEqC,EAA/B,SAA8B,GAO9B,mBAA8B,yBAFpC,aAEqC,EAA/B,SAA8B,mDAbH,6DAE9B;;;;;;;;;;;;;;;;;;;;;;;;;AC3BmD;AACV;AAC8B;AAGxB;;IASlD,IAAa,oCAAoC,GAAjD,MAAa,oCAAoC;QAAjD;YAEG,mBAAc,GAAuB,EAAE,CAAC;YACxC,mBAAc,GAAuB,EAAE,CAAC;QAyC3C,CAAC;QAlBE,QAAQ;YACL,IAAI,IAAI,CAAC,gBAAgB,EAAE,EAAE,yBAAyB;gBACnD,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAC/B,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAC5E,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAC/B,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAC5E,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;gBACvE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;aACzE,CAAC,gCAAgC;QACrC,CAAC;QAED,YAAY;YACT,OAAO,iEAAY,CAAC,UAAU,CAAC,IAAI,CAAC,sBAAsB,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAC5E,CAAC;QAED,eAAe;YACZ,OAAO,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,GAAG,IAAI,iEAAY,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;QACrH,CAAC;KACH;IAtCE;QADC,qFAAa,EAAE;;+EACM;IAGtB;QADC,qFAAa,CAAC,6EAAa,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;;kFACR;IAGrC;QADC,qFAAa,CAAC,6EAAa,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;;+EACvB;IAGtB;QADC,qFAAa,CAAC,6EAAa,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;;kFACR;IAGrC;QADC,qFAAa,EAAE;gFACH,qEAAa;6EAAC;IAG3B;QADC,qFAAa,EAAE;;iFACQ;IAGxB;QADC,qFAAa,CAAC,6EAAa,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;;wFACL;IAxB9B,oCAAoC;QAJhD,kFAAU,CACL,2DAAW,CAAC,SAAS,CAAC,wEAAwE,CAAC,EAC/F,2DAAW,CAAC,SAAS,CAAC,8EAA8E,CAAC,CAC1G;OACY,oCAAoC,CA4ChD;;;AA5CgD;;;;;;;;;;;;;;AChBjD;AAAA;AAAA;AAAA,kFAAkF;AACrB;AAEtD,MAAM,eAAe;IACzB;;OAEG;IACH,MAAM,CAAC,uBAAuB,CAAC,UAA2B,EACpD,eAAwB,EAC3B,wBAAiC,EACjC,iBAA0B;QAC1B,IAAI,UAAU,KAAK,4EAAe,CAAC,iBAAiB,IAAI,UAAU,KAAK,4EAAe,CAAC,qBAAqB,EAAE;YAC3G,OAAO,KAAK,CAAC;SACf;QAED,mGAAmG;QACnG,OAAO,iBAAiB,IAAI,CAAC,eAAe,IAAI,CAAC,wBAAwB;eAChE,CAAC,iBAAiB,IAAI,CAAC,eAAe,CAAC;IACnD,CAAC;CACH","file":"139-es2015.js","sourcesContent":["/* Copyright 2017-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, OnInit} from \"@angular/core\";\nimport {ManagedObject} from \"@service/managed-object\";\nimport {ChangeWitnessContext} from \"@navigation/context/change-witness-context\";\nimport {PageSet} from \"@component/wizard/flow-wizard.component\";\nimport {ConfigureStretchedClusterService} from \"@generated/configure-stretched-cluster-service\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {StretchedClusterSummaryPageComponent} from \"./summary-page.component\";\nimport {FaultDomainsPageComponent} from \"@component/wizard/shared-pages/fault-domains-page.component\";\nimport {WitnessHostPageComponent} from \"@component/wizard/shared-pages/witness-host-page.component\";\nimport {ClaimDisksWitnessHostPage} from \"@component/wizard/shared-pages/claim-disks-witness-host-page.component\";\nimport {VsanStretchedClusterService} from \"@generated/vsan-stretched-cluster-service\";\nimport {VsanConfigService} from \"@generated/vsan-config-service\";\nimport {WitnessHostUtil} from \"@util/witness-host.util\";\nimport {VsanClusterType} from \"@generated/vsan-cluster-type\";\n\n@Component({\n   selector: \"configure-stretched-cluster-wizard\",\n   template: `\n      <vsan-flow-wizard\n            [title]=\"title\"\n            [pageSets]=\"pages\"\n            [contextProperties]=\"context\"\n            [startingTaskProperty]=\"startingTaskProperty\"\n            [services]=\"services\">\n      </vsan-flow-wizard>`,\n})\nexport class ConfigureStretchedClusterWizardComponent implements OnInit {\n\n   title: string = \"\";\n   pages: PageSet[];\n   context: any;\n   startingTaskProperty: string = \"\";\n   services: any[] = [ConfigureStretchedClusterService, VsanConfigService, VsanStretchedClusterService];\n\n   private isVsanMaxEnabled: boolean;\n\n   constructor(private vsanConfigService: VsanConfigService) {\n   }\n\n   async ngOnInit(): Promise<void> {\n      const changeWitnessContext: ChangeWitnessContext = VsanUiUtils.getModalContext();\n      const clusterRef: ManagedObject = ManagedObject.contextObject;\n      this.isVsanMaxEnabled = await this.vsanConfigService.isVsanMaxEnabled(clusterRef);\n      if (changeWitnessContext) {\n         this.changeWitnessHost(clusterRef, changeWitnessContext);\n      } else {\n         this.configureStretchedCluster(clusterRef);\n      }\n   }\n\n   private configureStretchedCluster(clusterRef: ManagedObject): void {\n      this.context = {\n         clusterRef: clusterRef,\n         isVsanMaxWorkflow: this.isVsanMaxEnabled,\n      };\n\n      this.startingTaskProperty = \"configureStretchedClusterTask\";\n      this.title = VsanUiUtils.getString(\"vsan.faultDomains.stretchedCluster.wizard.configure.title\");\n\n      this.pages = [\n         new PageSet([FaultDomainsPageComponent, WitnessHostPageComponent]),\n         new PageSet([ClaimDisksWitnessHostPage], this.includeClaimDisksPage),\n         new PageSet([StretchedClusterSummaryPageComponent]),\n      ];\n   }\n\n   private changeWitnessHost(clusterRef: ManagedObject, stretchedClusterContext: ChangeWitnessContext): void {\n      this.context = {\n         clusterRef: clusterRef,\n         preferredName: stretchedClusterContext.preferredDomain,\n         currentWitnessHostRef: stretchedClusterContext.currentWitnessHost,\n         isVsanMaxWorkflow: this.isVsanMaxEnabled,\n      };\n\n      this.startingTaskProperty = \"changeWitnessHostTask\";\n      this.title = VsanUiUtils.getString(\"vsan.faultDomains.stretchedCluster.wizard.changeWitnessHost.title\");\n\n      this.pages = [\n         new PageSet([WitnessHostPageComponent]),\n         new PageSet([ClaimDisksWitnessHostPage], this.includeClaimDisksPage),\n         new PageSet([StretchedClusterSummaryPageComponent]),\n      ];\n   }\n\n   private includeClaimDisksPage = (hasDiskGroupsOnWitness: boolean, isWitnessDeployedFromOvf: boolean): boolean => {\n      // Show the claim disks page in vSAN 1 cluster if it doesn't already have a disk group.\n      return WitnessHostUtil.isClaimDisksPageVisible(\n            VsanClusterType.STRETCHED_CLUSTER,\n            hasDiskGroupsOnWitness,\n            isWitnessDeployedFromOvf,\n            this.isVsanMaxEnabled);\n   };\n}\n","/* Copyright 2019-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {FormsModule, ReactiveFormsModule} from \"@angular/forms\";\nimport {RouterModule, Routes} from \"@angular/router\";\nimport {ClarityModule} from \"@clr/angular\";\nimport {DiskmgmtCommonModule} from \"@component/diskmgmt/diskmgmt-common.module\";\nimport {VsanCommonModule} from \"app/vsan/common/vsan-common.module\";\nimport {FlowWizardModule} from \"@component/wizard/flow-wizard.module\";\nimport {WizardSharedPagesModule} from \"@component/wizard/shared-pages/wizard-shared-pages.module\";\nimport {ConfigureStretchedClusterWizardComponent} from \"./configure-stretched-cluster.component\";\nimport {StretchedClusterSummaryPageComponent} from \"./summary-page.component\";\n\nconst routes: Routes = [\n   {\n      path: \"\",\n      component: ConfigureStretchedClusterWizardComponent\n   }\n];\n\n@NgModule({\n   imports: [\n      CommonModule,\n      FormsModule,\n      ReactiveFormsModule,\n      ClarityModule,\n      VsanCommonModule,\n      FlowWizardModule,\n      DiskmgmtCommonModule,\n      WizardSharedPagesModule,\n      RouterModule.forChild(routes)\n   ],\n   declarations: [\n      ConfigureStretchedClusterWizardComponent,\n      StretchedClusterSummaryPageComponent,\n   ],\n   entryComponents: [\n      StretchedClusterSummaryPageComponent,\n   ]\n})\nexport class ConfigureStretchedClusterModule {\n}","\n      <vsan-flow-wizard\n            [title]=\"title\"\n            [pageSets]=\"pages\"\n            [contextProperties]=\"context\"\n            [startingTaskProperty]=\"startingTaskProperty\"\n            [services]=\"services\">\n      </vsan-flow-wizard>","<div *ngIf=\"secondaryName\">\n   <vsan-summary-entry [label]=\"'vsan.faultDomains.stretchedCluster.wizard.configure.page.summary.preferredName' | localized\">\n      <span id=\"preferred-domain-entry\">\n         {{preferredName}}\n      </span>\n   </vsan-summary-entry>\n   <vsan-summary-entry [label]=\"'vsan.faultDomains.stretchedCluster.wizard.configure.page.summary.preferredHosts' | localized\">\n      <span id=\"preferred-hosts-entry\">\n         <div *ngFor=\"let host of preferredHosts\">\n            {{host.label}}\n         </div>\n      </span>\n   </vsan-summary-entry>\n   <vsan-summary-entry [label]=\"'vsan.faultDomains.stretchedCluster.wizard.configure.page.summary.secondaryName' | localized\">\n      <span id=\"secondary-domain-entry\">\n         {{secondaryName}}\n      </span>\n   </vsan-summary-entry>\n   <vsan-summary-entry [label]=\"'vsan.faultDomains.stretchedCluster.wizard.configure.page.summary.secondaryHosts' | localized\">\n      <span id=\"secondary-hosts-entry\">\n         <div *ngFor=\"let host of secondaryHosts\">\n            {{host.label}}\n         </div>\n      </span>\n   </vsan-summary-entry>\n</div>\n<vsan-summary-entry [label]=\"'vsan.faultDomains.stretchedCluster.wizard.configure.page.summary.witnessHost' | localized\">\n   <span id=\"witness-host-entry\">\n      {{witnessHostName}}\n   </span>\n</vsan-summary-entry>\n<vsan-summary-entry\n      [label]=\"'vsan.faultDomains.stretchedCluster.wizard.configure.page.summary.claimedCache' | localized\"\n      *ngIf=\"witnessHostDiskMapping\">\n   <span id=\"claimed-cache-entry\">\n      {{claimedCache() | fileSize}}\n   </span>\n</vsan-summary-entry>\n<vsan-summary-entry\n      [label]=\"'vsan.faultDomains.stretchedCluster.wizard.configure.page.summary.claimedCapacity' | localized\"\n      *ngIf=\"witnessHostDiskMapping\">\n   <span id=\"claimed-capacity-entry\">\n      {{claimedCapacity() | fileSize}}\n   </span>\n</vsan-summary-entry>\n\n","/* Copyright 2017-2019 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, OnInit} from \"@angular/core\";\nimport {ManagedObject} from \"@service/managed-object\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {WizardPage, InputProperty} from \"@component/wizard/flow-metadata\";\nimport {DomainOrHostData} from \"@generated/domain-or-host-data\";\nimport {VsanDiskMapping} from \"@generated/vsan-disk-mapping\";\nimport {DiskMgmtUtil} from \"@util/disk-mgmt.util\";\n\n@Component({\n   templateUrl: \"./summary-page.html\"\n})\n@WizardPage(\n      VsanUiUtils.getString(\"vsan.faultDomains.stretchedCluster.wizard.configure.page.summary.title\"),\n      VsanUiUtils.getString(\"vsan.faultDomains.stretchedCluster.wizard.configure.page.summary.description\")\n)\nexport class StretchedClusterSummaryPageComponent implements OnInit {\n\n   preferredHosts: DomainOrHostData[] = [];\n   secondaryHosts: DomainOrHostData[] = [];\n\n   @InputProperty()\n   preferredName: string;\n\n   @InputProperty(InputProperty.required(false))\n   preferredDomains: DomainOrHostData[];\n\n   @InputProperty(InputProperty.required(false))\n   secondaryName: string;\n\n   @InputProperty(InputProperty.required(false))\n   secondaryDomains: DomainOrHostData[];\n\n   @InputProperty()\n   witnessHost: ManagedObject;\n\n   @InputProperty()\n   witnessHostName: string;\n\n   @InputProperty(InputProperty.required(false))\n   witnessHostDiskMapping: VsanDiskMapping;\n\n   ngOnInit() {\n      if (this.preferredDomains) { // configure cluster mode\n         this.preferredDomains.forEach(item =>\n               this.preferredHosts.push(... (item.isHost ? [item] : item.children)));\n         this.secondaryDomains.forEach(item =>\n               this.secondaryHosts.push(... (item.isHost ? [item] : item.children)));\n         this.preferredHosts.sort((h1, h2) => h1.label.localeCompare(h2.label));\n         this.secondaryHosts.sort((h1, h2) => h1.label.localeCompare(h2.label));\n      } // else change witness host mode\n   }\n\n   claimedCache(): number {\n      return DiskMgmtUtil.lbaToBytes(this.witnessHostDiskMapping.ssd.capacity);\n   }\n\n   claimedCapacity(): number {\n      return this.witnessHostDiskMapping.nonSsd.reduce((sum, disk) => sum += DiskMgmtUtil.lbaToBytes(disk.capacity), 0);\n   }\n}","/* Copyright 2021-2022 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {VsanClusterType} from \"@generated/vsan-cluster-type\";\n\nexport class WitnessHostUtil {\n   /**\n    * Used to check if the claim disks page for a witness host must be shown to the user in various wizards.\n    */\n   static isClaimDisksPageVisible(configType: VsanClusterType,\n         hasClaimedDisks: boolean,\n      isWitnessDeployedFromOvf: boolean,\n      isVsanMaxWorkflow: boolean): boolean {\n      if (configType !== VsanClusterType.STRETCHED_CLUSTER && configType !== VsanClusterType.TWO_HOST_VSAN_CLUSTER) {\n         return false;\n      }\n\n      // Show the claim disks page if it doesn't already have claimed disks or if it is deployed from OVF\n      return isVsanMaxWorkflow && !hasClaimedDisks && !isWitnessDeployedFromOvf\n            || !isVsanMaxWorkflow && !hasClaimedDisks;\n   }\n}"],"sourceRoot":"webpack:///"}