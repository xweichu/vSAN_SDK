{"version":3,"sources":["./src/app/vsan/file-services/shared/file-services-common.module.ts","./src/app/vsan/services/service.utils.ts","./src/app/vsan/file-services/shared/share-net-permission.component.ts","./src/app/vsan/file-services/shared/share-net-permission.html"],"names":[],"mappings":"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","file":"89-es2015.js","sourcesContent":["/* Copyright 2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {ClarityModule} from \"@clr/angular\";\nimport {FileServicesOvfSettings} from \"./file-services-ovf-settings.component\";\nimport {ShareNetPermissionComponent} from \"./share-net-permission.component\";\nimport {CommonPipeModule} from \"@pipe/common-pipe.module\";\nimport {EditFileAnalyticsComponent} from \"./edit-file-analytics.component\";\nimport {FormsModule} from \"@angular/forms\";\nimport {ValidationModule} from \"@component/validation/validation.module\";\nimport {EditShareFileAnalyticsComponent} from \"./edit-share-file-analytics.component\";\n\n@NgModule({\n   imports: [\n      CommonModule,\n      ClarityModule,\n      CommonPipeModule,\n      FormsModule,\n      ValidationModule,\n   ],\n   declarations: [\n      FileServicesOvfSettings,\n      ShareNetPermissionComponent,\n      EditFileAnalyticsComponent,\n      EditShareFileAnalyticsComponent,\n   ],\n   exports: [\n      FileServicesOvfSettings,\n      ShareNetPermissionComponent,\n      EditFileAnalyticsComponent,\n      EditShareFileAnalyticsComponent\n   ],\n})\nexport class FileServicesCommonModule {\n}","/* Copyright 2020 VMware, Inc. All rights reserved. -- VMware Confidential */\n\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {VsanServiceStatus} from \"@generated/vsan-service-status\";\nimport {Status} from \"@component/card/status\";\n\n/**\n * Utility methods for services.\n */\nexport class ServiceUtils {\n\n   static geStatusLabel(option: boolean, supported: boolean): string {\n      if (!supported) {\n         return VsanUiUtils.getString(\"vsan.services.not.supported\");\n      }\n      return ServiceUtils.enabledStateLabel(option);\n   }\n\n   static enabledStateLabel(option: boolean): string {\n      return option ? VsanUiUtils.getString(\"vsan.services.enabled\") :\n            VsanUiUtils.getString(\"vsan.services.disabled\");\n   }\n\n   static getServiceStatus(serviceStatus: VsanServiceStatus): Status {\n      switch (serviceStatus) {\n         case VsanServiceStatus.ENABLED:\n            return Status.Enabled;\n         case VsanServiceStatus.PARTIAL:\n            return Status.Partial;\n         default:\n            return Status.Disabled;\n      }\n   }\n\n   static isEnabled(status: VsanServiceStatus): boolean {\n      return status === VsanServiceStatus.ENABLED;\n   }\n\n   static isDisabled(status: VsanServiceStatus): boolean {\n      return status === VsanServiceStatus.DISABLED;\n   }\n\n   static isSupported(status: VsanServiceStatus): boolean {\n      return status !== VsanServiceStatus.NOT_SUPPORTED;\n   }\n\n   static getActionTitle(status: VsanServiceStatus): string {\n      return VsanUiUtils.getActionTitleByServiceStatus(this.getServiceStatus(status));\n   }\n}\n","/* Copyright 2020 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, Input} from \"@angular/core\";\nimport {VsanFileServiceShareConfig} from \"@generated/vsan-file-service-share-config\";\nimport {VsanFileServiceShareNetPermission} from \"@generated/vsan-file-service-share-net-permission\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {VsanFileServiceShareAccessType} from \"@generated/vsan-file-service-share-access-type\";\n\n@Component({\n   selector: \"vsan-file-share-net-permission\",\n   templateUrl: \"share-net-permission.html\",\n   styleUrls: [\"share-net-permission.scss\"]\n})\nexport class ShareNetPermissionComponent {\n   private readonly PERMISSION_SEPARATOR: string = \"/\";\n\n   @Input()\n   shareConfig: VsanFileServiceShareConfig;\n\n   AccessType = VsanFileServiceShareAccessType;\n\n   convertNetPermissionsToText(permission: VsanFileServiceShareNetPermission): string {\n      if (!permission) {\n         return VsanUiUtils.getString(\"vsan.fileservices.shares.create.noaccess\");\n      }\n\n      const chunks: string[] = [];\n\n      if (permission.isReadonly) {\n         chunks.push(VsanUiUtils.getString(\"vsan.fileservices.shares.create.read\"));\n      }\n\n      if (permission.isWriteAllowed) {\n         chunks.push(VsanUiUtils.getString(\"vsan.fileservices.shares.create.write\"));\n      }\n\n      if (permission.isRootSquashed) {\n         chunks.push(VsanUiUtils.getString(\"vsan.fileservices.shares.create.rootSquash\"));\n      }\n      return chunks.length ? chunks.join(this.PERMISSION_SEPARATOR) :\n            VsanUiUtils.getString(\"vsan.fileservices.shares.create.noaccess\");\n   }\n}\n","<!--Copyright 2020 VMware, Inc. All rights reserved. -- VMware Confidential-->\n<span *ngIf=\"shareConfig.accessType == AccessType.ALL_ACCESS\">\n   {{\"vsan.fileservices.shares.create.allowAllAccess\" | localized}}\n</span>\n\n<span *ngIf=\"shareConfig.accessType == AccessType.NO_ACCESS\">\n   {{\"vsan.fileservices.shares.create.allowNoAccess.warning\" | localized}}\n</span>\n\n<table class=\"table\" *ngIf=\"shareConfig.accessType == AccessType.CUSTOM_ACCESS\">\n   <thead>\n      <tr>\n         <th class=\"left\" scope=\"col\">{{\"vsan.fileservices.shares.create.ipSet\" | localized}}</th>\n         <th class=\"left\" scope=\"col\">{{\"vsan.fileservices.shares.create.permission\" | localized}}</th>\n      </tr>\n   </thead>\n   <tbody>\n      <tr *ngFor=\"let permission of shareConfig.netPermissions;\">\n         <td class=\"left\">\n            {{permission.ipAddress}}\n         </td>\n         <td class=\"left\">\n            {{convertNetPermissionsToText(permission)}}\n         </td>\n      </tr>\n   </tbody>\n</table>\n"],"sourceRoot":"webpack:///"}