{"version":3,"sources":["webpack:///src/app/vsan/file-services/shares/filters/owner-type-filter.ts","webpack:///src/app/vsan/file-services/shares/comparators/name-comparator.ts","webpack:///src/app/generated/vsan-file-share-snapshot-query-spec.ts","webpack:///src/app/vsan/common/util/reactive-form-util.ts","webpack:///src/app/vsan/file-services/shares/filters/file-share-name-filter.html","webpack:///src/app/vsan/common/component/balloon-tooltip/balloon-tooltip.module.ts","webpack:///src/app/vsan/file-services/shares/snapshot/snapshot-list.html","webpack:///src/app/vsan/common/component/balloon-tooltip/balloon-tooltip.html","webpack:///src/app/vsan/file-services/shares/loader/file-share-loader.ts","webpack:///src/app/vsan/file-services/shares/comparators/policy-comparator.ts","webpack:///src/app/vsan/file-services/shares/detail/share-placement-details.component.ts","webpack:///src/app/vsan/file-services/shares/detail/share-analytics-details.component.ts","webpack:///src/app/vsan/file-services/shares/detail/share-details-tab.ts","webpack:///src/app/vsan/file-services/shares/detail/share-detail.html","webpack:///src/app/vsan/common/component/balloon-tooltip/balloon-tooltip.component.ts","webpack:///src/app/vsan/file-services/shares/snapshot/snapshot-list.component.ts","webpack:///src/app/vsan/file-services/file-services.module.ts","webpack:///src/app/vsan/file-services/shares/shares-list.html","webpack:///src/app/generated/file-share-filter.ts","webpack:///src/app/vsan/file-services/shares/snapshot/delete-snapshot.component.ts","webpack:///src/app/vsan/file-services/shares/snapshot/delete-snapshot.html","webpack:///src/app/generated/vsan-file-share-query-properties.ts","webpack:///src/app/vsan/file-services/shares/detail/share-performance-details.html","webpack:///src/app/vsan/file-services/shares/filters/policy-filter.ts","webpack:///src/app/vsan/file-services/shares/detail/share-placement-details.html","webpack:///src/app/vsan/file-services/shares/comparators/owner-type-comparator.ts","webpack:///src/app/vsan/file-services/shares/comparators/snapshot-name-comparator.ts","webpack:///src/app/vsan/file-services/shares/shares.html","webpack:///src/app/vsan/file-services/shares/comparators/quota-comparator.ts","webpack:///src/app/vsan/file-services/shares/detail/share-detail.component.ts","webpack:///src/app/vsan/file-services/delete-share/delete-share.html","webpack:///src/app/vsan/common/component/action-button/button-group.directive.ts","webpack:///src/app/vsan/file-services/shares/detail/share-performance-details.component.ts","webpack:///src/app/vsan/file-services/shares/detail/share-basic-details.html","webpack:///src/app/vsan/file-services/shares/comparators/usage-comparator.ts","webpack:///src/app/vsan/file-services/shares/shares.component.ts","webpack:///src/app/vsan/common/component/cell/common-cells.module.ts","webpack:///src/app/vsan/file-services/delete-share/delete-share.component.ts","webpack:///src/app/vsan/file-services/shares/snapshot/create-snapshot.component.ts","webpack:///src/app/vsan/file-services/shares/comparators/protocol-comparator.ts","webpack:///src/app/vsan/file-services/shares/detail/share-basic-details.component.ts","webpack:///src/app/vsan/file-services/shares/filters/file-share-name-filter.component.ts","webpack:///src/app/vsan/file-services/shares/snapshot/create-snapshot.html","webpack:///src/app/vsan/file-services/shares/loader/file-share-legacy-loader.ts","webpack:///src/app/vsan/file-services/shares/loader/file-share-loader-factory.ts","webpack:///src/app/vsan/file-services/shares/detail/share-analytics-details.html","webpack:///src/app/vsan/file-services/shares/shares-list.component.ts"],"names":["OwnerTypeFilter","OWNER_TYPE_FIELD","data","ownerType","stringify","dataField","getShareOwnerType","VsanFileShareNameComparator","a","b","NAME_FIELD","localeCompare","VsanFileShareSnapshotQuerySpec","Factory","create","shareUuid","pageIndex","ReactiveFormUtil","FORM_CONTROLS_DELIMITER","validateAllFormFields","formGroup","markAsTouched","Object","keys","controls","forEach","field","control","get","onlySelf","childControl","validateControls","updateValueAndValidity","emitEvent","updateFormControlsValueAndValidity","getFormControlPath","parts","join","BalloonTooltipModule","FileShareLoader","domainName","clusterRef","fileShareService","debouncer","loadComplete","loadShares","state","paginationSupported","filterShares","prepareQuerySpec","filters","isEmpty","map","filter","getFileShareFilter","page","size","current","shareType","asObservable","pipe","subscribe","result","emit","error","next","Promise","accept","reject","filterValues","selectedFilterValues","vsanDgField","value","toString","VsanFileSharePolicyComparator","policies","POLICY_FIELD","policy1","find","policy","id","policyName1","name","getString","policy2","policyName2","SharePlacementDetailsComponent","navigationService","physicalPlacementService","onError","placementData","Map","share","queryPlacementData","uuid","getVsanPhysicalPlacement","contextObject","objectUuids","placement","set","toMap","objectUuid","uid","config","iconId","getShareIcon","virtualObjectsContext","presentVirtualObjectUuids","filterTypes","getFilterObjectsTypeFilter","navigateTo","VIRTUAL_OBJECTS","managedBy","CNS","getVirtualObjectTypeFilter","FILE_VOLUME","FILE_SHARE","ShareAnalyticsDetailsComponent","fileShares","UnavailableViewSpec","isFileAnalyticsEnabled","updateShareContext","scanStatus","perfServiceEnabled","loading","shareContext","isSmbAbeSupported","ShareDetailsTab","BalloonTooltipComponent","visibleChange","hideBalloonTooltip","visible","focusTooltip","tooltipDiv","tooltipElement","nativeElement","setTimeout","focus","_tooltipElement","element","SnapshotListComponent","fileServiceConfigService","snapshotService","permissionService","taskMonitor","MAX_SNAPSHOT","CAPACITY_FIELD","CREATION_TIME_FIELD","selectedSnapshots","nameFilter","nameComparator","capacityFilter","capacityComparator","creationTimeFilter","creationTimeComparator","onAdd","context","existingSnapshots","snapshots","snapshot","setDimensions","open","then","onSuccess","onDelete","dialogHeight","length","taskRef","awaitTask","fetch","_share","val","hasPermissions","CONFIG_STORAGE","hasEditPermission","spec","queryShareSnapshots","totalSnapshots","total","Array","isArray","all","task","getAwaitResult","some","addSnapshotAvailable","deleteSnapshotEnabled","fileServicesRoutes","path","component","FileServicesModule","FileShareFilter","key","DeleteSnapshotComponent","fileSizePipe","getModalContext","capacity","reduce","sum","usedCapacity","totalReleasedCapacity","transform","errors","snapshotNames","removeShareSnapshot","closeModalDialog","taskRefs","VsanFileShareQueryProperties","includeBasic","includeAllLabels","includeUsedCapacity","includeVsanObjectUuids","PolicyFilter","getFieldValue","p","VsanFileShareOwnerTypeComparator","ownerTypeText1","ownerTypeText2","ownerType1","ownerType2","VsanFileShareSnapshotNameComparator","VsanFileShareQuotaComparator","quotaField","quotaSizeField","quota1","parseFloat","quotaSize1","quota2","quotaSize2","parseSize","quota","unitType","MB","Math","pow","GB","TB","warn","ShareDetailComponent","tab","resetTabs","openTab","fileServiceConfig","basicTabActive","analyticsTabActive","placementTabActive","perfTabActive","snapshotsTabActive","undefined","BASIC","FILE_ANALYTICS","PERFORMANCE","PHYSICAL_PLACEMENT","SNAPSHOTS","ButtonGroupDirective","elRef","_maximumInlineActions","_buttonTitleDirectives","updateButtonTitles","allButtons","getVisibleButtons","concat","getInMenuButtons","titleDirective","button","getAttribute","host","title","titleChangeEvent","subscribeToggleButtonClick","btns","_btns","updateInMenuButtons","groupWithMenu","btn","index","inMenu","toggleButton","getToggleButton","onclick","from","querySelectorAll","VISIBLE_BUTTON_ELEMENTS_SELECTOR","ownerDocument","IN_MENU_BUTTON_ELEMENTS_SELECTOR","querySelector","TOGGLE_MENU_BUTTON_SELECTOR","SharePerformanceDetailsComponent","perfProvider","queryPerformanceData","volumePerfData","getPerfMonitorCommonPropsData","commonPerfData","fileSharePerfData","smbProtocolSupported","smbProtocolLayerPerformanceSupported","VsanFileShareUsageComparator","value1","value2","isNaN","parseInt","FileServicesSharesComponent","fileServicesConfigService","shareLoaderFactory","spbmService","inventoryService","stretchedClusterService","capabilityProvider","totalCount","VsanFileShareUtils","shareTypeFilter","shareTypeFilterOptions","label","CNS_VOLUME","ALL","hostPropertiesMap","showSnapshots","showAnalytics","getTypeFilterValue","selectShares","selectedShares","item","preselectedShareName","onCopiedSuccess","event","copiedUrl","content","copyUrlTooltipVisible","bind","err","getNavigationData","getFileServiceConfig","getEditPermission","getReadPolicyPermission","getSpbmPolicyPermission","getVcCapabilities","getHostsData","getSupportedRuntimeFeatures","getAvailableDomains","getIsStretchedCluster","domainConfig","sharesLoader","createLoader","getConfig","hasVcPermissions","READ_POLICIES","hasReadPolicyPermission","getStoragePolicies","getVcCapabilityData","vcCapabilityData","filterContext","CONTEXT_REF","getNodeChildren","hostsData","isFeatureSupportedOnRuntime","PAGINATION","SMB","KERBEROS","SNAPSHOT","AFFINITY_SITE","SMB_PERFORMANCE","SMB_ABE","kerberosSupported","snapshotSupported","affinitySiteSupported","smbAbeSupported","getFileShareAttributes","SHARE_NAME_PROPERTY","shareConfigs","availableDomains","getIsVsanStretchedCluster","isStretchedCluster","load","fileSharesPaginatedResult","shares","WIZARD_XL","getShareContext","domain","isFileAnalyticsEnabledOnCluster","isAffinitySiteSupported","isKerberosSupported","isSmbProtocolSupported","setSize","defaultIp","ipSettings","ipSetting","isDefault","address","every","USER","isSingleElement","protocol","getMmcCommand","getExportPathMenuLabel","SHARES_LOADER","FETCH_LOADER","srMessage","srMessageType","PAGE_TITLE","DATA","CommonCellsModule","DeleteShareComponent","fileServiceShareService","shareUuids","deleteShares","CreateSnapshotComponent","formBuilder","MAX_NAME_LENGTH","SNAPSHOT_NAME_CONTROL_NAME","nameValidator","touched","nameValidateError","validateName","nameInvalid","ok","snapshotConfigGroup","processing","configSpec","createShareSnapshot","errorMessage","cancel","group","trim","getUtf8Length","INVALID_CHARS","test","indexOf","VsanFileShareProtocolComparator","PROTOCOL_FIELD","protocolText1","protocolText2","protocol1","getShareProtocolLabel","protocol2","ShareBasicDetailsComponent","VsanFileShareProtocol","VsanFileShareNfsSecurityType","policyItem","policyId","number","localizeNumber","site","getAffinitySiteLabel","enabledStateLabel","HOST_SUMMARY","nodeRef","ShareNameFilterComponent","filterContainer","changes","setFilter","_search","matchedShares","startFilter","allShares","isDropdownOpened","openDropdown","toLowerCase","search","includes","fileShareDropdownElement","contains","target","FileShareLegacyLoader","cachedPaginationResult","clonedResult","JSON","parse","clientSideFilterAndSort","paginationResult","filterFn","accepts","sort","by","compare","reverse","FileShareLoaderFactory","shareService","isPaginationSupported","FileSharesListComponent","refWatcher","Icon","DEFAULT_ITEMS_PER_PAGE","DEFAULT_ITEMS_PER_PAGE_NO_PAGINATION","DETAIL_PANEL_WIDTH_PERCENT","selectedItemsChange","shareDataRefresh","preselectTab","labelsFilter","LABELS_FIELD","quotaFilter","QUOTA_FIELD","softQuotaFilter","SOFT_QUOTA_FIELD","usedCapacityFilter","USED_CAPACITY_FIELD","ownerTypeFilter","policyFilter","quotaComparator","QUOTA_SIZE_FIELD","softQuotaComparator","SOFT_QUOTA_SIZE_FIELD","protocolComparator","policyComparator","usageComparator","USAGE_OVER_QUOTA_FIELD","ownerTypeComparator","VsanUiUtils","ServiceUtils","_policies","_selectedItems","showDetailsForPreselectedItem","_showPreselectedItemDetails","watchSubscriptionRef","selectedItems","openDetailsTab","s","detailItem","showDetailPanel","RIGHT","LEFT","pane","activePane","quotaSize","getSizeLabel","findDomainByShare","isPreferred","isShareInExpectedDomain","CLR_SUCCESS_STANDARD_ICON_SHAPE","CLR_WARN_STANDARD_ICON_SHAPE","clrIconShapeClassMap","getAffinityLocationStateIconShape","getAffinitySite","affinityLocation","pagination","getDatagridPaginatedFooterLabel","totalItems","firstItem","lastItem","defaultPageSize","NONE","PREFERRED_DOMAIN","children","child"],"mappings":"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","file":"102-es5.js","sourcesContent":["/* Copyright 2019-2020 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {VsanFileShareUtils} from \"../file-share-util\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {VsanFileShareOwnerType} from \"@generated/vsan-file-share-owner-type\";\nimport {VsanFileServiceShare} from \"@generated/vsan-file-service-share\";\nimport {ObjectFilter} from \"@component/datagrid/filter/object-filter\";\n\n/**\n * Filter class for File share owner type column\n */\nexport class OwnerTypeFilter extends ObjectFilter<VsanFileServiceShare> {\n   constructor() {\n      super(VsanFileShareUtils.OWNER_TYPE_FIELD);\n   }\n\n   protected stringify(data: VsanFileServiceShare): string  {\n      if (!data) {\n         return \"\";\n      }\n      const ownerType: string = VsanUiUtils.stringify(data, this.dataField);\n      return VsanFileShareUtils.getShareOwnerType(ownerType as VsanFileShareOwnerType);\n   }\n}\n","/* Copyright 2019-2020 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {BaseComparator} from \"@component/datagrid/comparator/base-comparator\";\nimport {VsanFileServiceShare} from \"@generated/vsan-file-service-share\";\nimport {VsanFileShareUtils} from \"../file-share-util\";\n\n/**\n * Comparator for file share name/host\n */\nexport class VsanFileShareNameComparator extends BaseComparator<VsanFileServiceShare> {\n   protected compareValue(a: VsanFileServiceShare, b: VsanFileServiceShare): number {\n      const dataField = VsanFileShareUtils.NAME_FIELD;\n      return this.stringify(a, dataField).localeCompare(this.stringify(b, dataField));\n   }\n}\n","\nexport interface VsanFileShareSnapshotQuerySpec {\n\n   shareUuid: string;\n   pageIndex: number;\n} //class VsanFileShareSnapshotQuerySpec\n\nexport module VsanFileShareSnapshotQuerySpec{\nexport class Factory {\n\n   static create = (shareUuid: string, pageIndex: number): VsanFileShareSnapshotQuerySpec => {\n      return { shareUuid: shareUuid, pageIndex: pageIndex, };\n   }\n\n\n} //class Factory\n\n} //module VsanFileShareSnapshotQuerySpec\n","/* Copyright 2017 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {FormArray, FormControl, FormGroup} from \"@angular/forms\";\n\nexport class ReactiveFormUtil {\n\n   private static readonly FORM_CONTROLS_DELIMITER: string = \".\";\n\n   /*\n    * Trigger validation on all controls in a form group and mark them as touched to display errors\n    */\n   static validateAllFormFields = (formGroup: FormGroup): void => {\n      formGroup.markAsTouched();\n      Object.keys(formGroup.controls).forEach(field => {\n         const control = formGroup.get(field);\n         control.markAsTouched({ onlySelf: true });\n         if (control instanceof FormGroup) {\n            ReactiveFormUtil.validateAllFormFields(control);\n         } else if (control instanceof FormArray) {\n            control.controls.forEach(\n                  (childControl: FormGroup) => ReactiveFormUtil.validateAllFormFields(childControl));\n         } else if (control instanceof FormControl) {\n            ReactiveFormUtil.validateControls([control]);\n         }\n      });\n   };\n\n   static validateControls = (controls: FormControl[]): void => {\n      controls.forEach((control) => {\n         control.markAsTouched({onlySelf: true});\n         control.updateValueAndValidity({\n            onlySelf: false,\n            emitEvent: true\n         });\n      });\n   };\n\n   /**\n    * Trigger updateValueAndValidity() to call ValidatorFn and update validity of all controls in a form group.\n    */\n   static updateFormControlsValueAndValidity = (formGroup: FormGroup) => {\n      Object.keys(formGroup.controls).forEach(control => {\n         if (formGroup.get(control) instanceof FormControl) {\n            formGroup.get(control).updateValueAndValidity();\n         }\n      })\n   };\n\n   static getFormControlPath = (...parts: string[]): string => {\n      return parts.join(ReactiveFormUtil.FORM_CONTROLS_DELIMITER);\n   };\n}\n","<!-- Copyright 2020 VMware, Inc. All rights reserved. -- VMware Confidential -->\n<div class=\"dropdown-container clr-row\">\n   <div #fileShareDropdownElement\n        class=\"dropdown open clr-col-9\">\n      <vsan-search-input id=\"file-share-search-box\"\n                         [(filter)]=\"search\"\n                         [placeholderText]=\"'vsan.common.search' | localized\"\n                         [inputAriaLabelKey]=\"'vsan.fileservices.shares.col.name.searchInputAriaLabel'\">\n      </vsan-search-input>\n      <div class=\"dropdown-menu\"\n           *ngIf=\"isDropdownOpened\">\n         <h4 *ngIf=\"!matchedShares?.length\" class=\"dropdown-header\">\n            {{'vsan.common.crossColumnFilter.search.notFound' | localized}}\n         </h4>\n         <ng-container *ngFor=\"let share of matchedShares; let i = index\">\n            <button type=\"button\"\n                    class=\"dropdown-item\"\n                    (click)=\"selectShare(share)\">\n               <clr-icon shape=\"vsphere-icon-folder\"></clr-icon>\n               {{share.config.name}}\n            </button>\n         </ng-container>\n      </div>\n   </div>\n   <button class=\"btn btn-sm btn-link no-spacing clr-col-3\" (click)=\"startFilter()\">\n      {{\"vsan.icon.title.filter\" | localized}}\n   </button>\n</div>\n","/* Copyright 2020 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {ClarityModule} from \"@clr/angular\";\nimport {CommonPipeModule} from \"@pipe/common-pipe.module\";\nimport {BalloonTooltipComponent} from \"./balloon-tooltip.component\";\n\n@NgModule({\n   imports: [\n      CommonModule,\n      ClarityModule,\n      CommonPipeModule\n   ],\n   declarations: [\n      BalloonTooltipComponent\n   ],\n   exports: [\n      BalloonTooltipComponent\n   ]\n})\nexport class BalloonTooltipModule {\n}\n","<!--Copyright 2020 VMware, Inc. All rights reserved. -- VMware Confidential-->\n<vsan-validation id=\"error\"\n                 *ngIf=\"error && !loading\"\n                 [alert]=\"error\"\n                 (onClosed)=\"error=null\">\n</vsan-validation>\n\n<div class=\"action-btn-container\">\n   <clr-tooltip>\n      <span clrTooltipTrigger [vsan-ignore-focus]=\"!addSnapshotAvailable\">\n         <button id=\"add\"\n                 name=\"add\"\n                 class=\"btn btn-sm btn-link\"\n                 [disabled]=\"!addSnapshotAvailable\"\n                 [class.disabled]=\"!addSnapshotAvailable\"\n                 aria-describedby=\"add-snapshot-btn-description\"\n                 (click)=\"onAdd()\">\n            {{\"vsan.fileservices.shares.grid.details.tab.snapshot.create\" | localized}}\n         </button>\n      </span>\n      <clr-tooltip-content *ngIf=\"!addSnapshotAvailable\"\n                           id=\"add-snapshot-btn-description\"\n                           clrPosition=\"top-right\"\n                           clrSize=\"md\">\n         {{addButtonTitle}}\n      </clr-tooltip-content>\n   </clr-tooltip>\n   <clr-tooltip *ngIf=\"selectedSnapshots?.length\">\n      <span clrTooltipTrigger [vsan-ignore-focus]=\"!deleteSnapshotEnabled\">\n         <button id=\"delete\"\n                 name=\"delete\"\n                 class=\"btn btn-sm btn-link\"\n                 [disabled]=\"!deleteSnapshotEnabled\"\n                 [class.disabled]=\"!deleteSnapshotEnabled\"\n                 aria-describedby=\"delete-snapshot-btn-description\"\n                 (click)=\"onDelete()\">\n            {{\"vsan.fileservices.shares.grid.details.tab.snapshot.delete\" | localized}}\n         </button>\n      </span>\n      <clr-tooltip-content *ngIf=\"!deleteSnapshotEnabled\"\n                           id=\"delete-snapshot-btn-description\"\n                           clrPosition=\"top-right\"\n                           clrSize=\"md\">\n         {{deleteButtonTitle}}\n      </clr-tooltip-content>\n   </clr-tooltip>\n</div>\n\n<clr-datagrid id=\"share-snapshot-datagrid\"\n              [clrDgLoading]=\"loading\"\n              [(clrDgSelected)]=\"selectedSnapshots\">\n   <clr-dg-column [clrDgSortBy]=\"nameComparator\">\n      {{\"vsan.fileservices.shares.grid.details.tab.snapshot.col.name\" | localized}}\n      <clr-dg-string-filter [clrDgStringFilter]=\"nameFilter\"></clr-dg-string-filter>\n   </clr-dg-column>\n   <clr-dg-column [clrDgSortBy]=\"creationTimeComparator\">\n      {{\"vsan.fileservices.shares.grid.details.tab.snapshot.col.time\" | localized}}\n      <clr-dg-string-filter [clrDgStringFilter]=\"creationTimeFilter\"></clr-dg-string-filter>\n   </clr-dg-column>\n   <clr-dg-column [clrDgSortBy]=\"capacityComparator\">\n      {{\"vsan.fileservices.shares.grid.details.tab.snapshot.col.size\" | localized}}\n      <clr-dg-string-filter [clrDgStringFilter]=\"capacityFilter\"></clr-dg-string-filter>\n   </clr-dg-column>\n\n   <clr-dg-row *clrDgItems=\"let row of snapshots\"\n               [clrDgItem]=\"row\">\n      <clr-dg-cell vsan-show-title>\n         {{row.config.name}}\n      </clr-dg-cell>\n      <clr-dg-cell vsan-show-title>\n         {{row.creationTime | l10nDate}}\n      </clr-dg-cell>\n      <clr-dg-cell vsan-show-title>\n         {{row.usedCapacity | fileSize}}\n      </clr-dg-cell>\n   </clr-dg-row>\n</clr-datagrid>\n","<!--Copyright 2020 VMware, Inc. All rights reserved. -- VMware Confidential-->\n<div #vsan_balloon_tooltip\n     tabindex=\"0\"\n     class=\"tooltip-container\"\n     (blur)=\"hideBalloonTooltip()\">\n   <!-- Re-use the signpost HTML/styles to display the balloon tooltip after the content is copied -->\n   <div *ngIf=\"visible\"\n        class=\"signpost signpost-content right-bottom tooltip-content-body\"\n        [class.wide-tooltip]=\"isWide\">\n      <div class=\"signpost-wrap\">\n         <div class=\"popover-pointer\"></div>\n         <div class=\"signpost-content-header\">\n            <button id=\"balloon-tooltip-close\"\n                    class=\"signpost-action close\"\n                    (click)=\"hideBalloonTooltip()\"\n                    title=\"{{'vsan.common.close' | localized}}\">\n               <clr-icon shape=\"close\" title=\"{{'vsan.common.srMessage.close' | localized}}\"></clr-icon>\n            </button>\n         </div>\n         <div class=\"signpost-content-body tooltip-content\"\n              role=\"region\"\n              aria-live=\"assertive\">\n            <ng-content></ng-content>\n         </div>\n      </div>\n   </div>\n</div>\n","/* Copyright 2020-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {EventEmitter} from \"@angular/core\";\nimport {ClrDatagridStateInterface} from \"@clr/angular\";\nimport {Subject} from \"rxjs\";\nimport {debounceTime, switchMap} from \"rxjs/operators\";\nimport {VsanFileSharesService} from \"@generated/vsan-file-shares-service\";\nimport {FileSharesPaginationResult} from \"@generated/file-shares-pagination-result\";\nimport {FileSharesPaginationSpec} from \"@generated/file-shares-pagination-spec\";\nimport {FileShareFilter} from \"@generated/file-share-filter\";\nimport {ManagedObject} from \"@service/managed-object\";\nimport {VsanFileShareQueryProperties} from \"@generated/vsan-file-share-query-properties\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\n\nexport interface IFileShareLoader {\n   load(state: ClrDatagridStateInterface, managedBy?: string): Promise<FileSharesPaginationResult>;\n}\n\n/**\n * File share loader used when pagination is supported\n */\nexport class FileShareLoader implements IFileShareLoader {\n   private debouncer: Subject<any> = new Subject<any>();\n   private loadComplete: EventEmitter<FileSharesPaginationResult> = new EventEmitter<FileSharesPaginationResult>();\n   private shareType: string;\n\n   constructor(protected domainName: string,\n         protected clusterRef: ManagedObject,\n         protected fileShareService: VsanFileSharesService) {\n      this.debouncer.asObservable()\n            .pipe(debounceTime(500)) // delay 0.5s to wait for a completed user input\n            .pipe(switchMap(state => this.loadShares(state)))\n            .subscribe(result => this.loadComplete.emit(result), error => this.loadComplete.error(error));\n   }\n\n   load(state: ClrDatagridStateInterface, shareType: string): Promise<FileSharesPaginationResult> {\n      this.shareType = shareType;\n      this.debouncer.next(state);\n\n      return new Promise<FileSharesPaginationResult>((accept, reject) => {\n         this.loadComplete.asObservable().subscribe(accept, reject);\n      });\n   }\n\n   protected loadShares = async (state: ClrDatagridStateInterface, paginationSupported: boolean = true) => {\n      return await this.fileShareService\n            .filterShares(this.clusterRef, this.prepareQuerySpec(state), paginationSupported);\n   };\n\n   protected prepareQuerySpec = (state: ClrDatagridStateInterface): FileSharesPaginationSpec => {\n      const filters: FileShareFilter[] = VsanUiUtils.isEmpty(state.filters)\n            ? []\n            : state.filters.map(filter => this.getFileShareFilter(filter));\n      return FileSharesPaginationSpec.Factory.create(\n            state.page.size,\n            state.page.current,\n            this.domainName,\n            this.shareType,\n            filters,\n            VsanFileShareQueryProperties.Factory.create(true, true, true, true));\n   };\n\n   private getFileShareFilter(filter: any): FileShareFilter {\n      const filterValues: any[] = filter.selectedFilterValues || [];\n      return FileShareFilter.Factory.create(filter.vsanDgField, filterValues.map(value => value.toString()));\n   }\n}\n","/* Copyright 2019 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {BaseComparator} from \"@component/datagrid/comparator/base-comparator\";\nimport {StoragePolicyData} from \"@generated/storage-policy-data\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {VsanFileServiceShare} from \"@generated/vsan-file-service-share\";\nimport {VsanFileShareUtils} from \"../file-share-util\";\n\n/**\n * Comparator for file share policy\n */\nexport class VsanFileSharePolicyComparator extends BaseComparator<VsanFileServiceShare> {\n   constructor(private policies: StoragePolicyData[]) {\n      super();\n   }\n\n   protected compareValue(a: VsanFileServiceShare, b: VsanFileServiceShare): number {\n      const dataField: string = VsanFileShareUtils.POLICY_FIELD;\n      const policy1: StoragePolicyData = this.policies.find(policy => policy.id === this.stringify(a, dataField));\n      const policyName1: string = policy1 && policy1.name ? policy1.name : VsanUiUtils.getString(\"vsan.na.label\");\n\n      const policy2: StoragePolicyData = this.policies.find(policy => policy.id === this.stringify(b, dataField));\n      const policyName2: string = policy2 && policy2.name ? policy2.name : VsanUiUtils.getString(\"vsan.na.label\");\n      return policyName1.localeCompare(policyName2);\n   }\n}\n","/* Copyright 2020-2022 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, EventEmitter, Input, OnChanges, Output} from \"@angular/core\";\nimport {VirtualObjectsTypeUtil} from \"@component/virtual-objects-table/virtual-objects-type.util\";\nimport {DisplayObjectType} from \"@generated/display-object-type\";\nimport {PhysicalPlacementService} from \"@generated/physical-placement-service\";\nimport {VirtualObjectModel} from \"@generated/virtual-object-model\";\nimport {VirtualObjectPlacementModel} from \"@generated/virtual-object-placement-model\";\nimport {VirtualObjectType} from \"@generated/virtual-object-type\";\nimport {VsanFileServiceShare} from \"@generated/vsan-file-service-share\";\nimport {VsanFileShareOwnerType} from \"@generated/vsan-file-share-owner-type\";\nimport {VirtualObjectsContext} from \"@navigation/context/virtual-objects-context\";\nimport {NavigationService, PlatformExtension} from \"@navigation/navigation.service\";\nimport {ManagedObject} from \"@service/managed-object\";\nimport {MapUtil} from \"@util/map-util\";\nimport {VsanFileShareUtils} from \"../file-share-util\";\n\n@Component({\n   selector: \"file-share-placement-details\",\n   templateUrl: \"share-placement-details.html\",\n   styleUrls: [\"share-placement-details.scss\"],\n})\nexport class SharePlacementDetailsComponent implements OnChanges {\n\n   @Input()\n   share: VsanFileServiceShare;\n\n   @Output()\n   onError: EventEmitter<string> = new EventEmitter<string>();\n\n   // We use `Map<string, VirtualObjectPlacementModel[]>` because a share has several vSAN objects,\n   // as return type of `VirtualObjectsService.getVsanPhysicalPlacement`, The key here is vsanObjectUuid.\n   // We display the share detail view in shares list, user can navigate between shares.\n   // Considering the physical placement data is not changed frequently, we want to cache the query result,\n   // so UI used a Map of Map, the key of this Map is shareUuid.\n   placementData: Map<string, Map<string, VirtualObjectPlacementModel[]>> =\n         new Map<string, Map<string, VirtualObjectPlacementModel[]>>();\n\n   constructor(private navigationService: NavigationService,\n         private physicalPlacementService: PhysicalPlacementService) {\n   }\n\n   ngOnChanges(): Promise<void> {\n      if (!this.share) {\n         return;\n      }\n      this.queryPlacementData();\n   }\n\n   private async queryPlacementData(): Promise<void> {\n      if (this.placementData.get(this.share.uuid)) {\n         return;\n      }\n      try {\n         const placement: any = await this.physicalPlacementService.getVsanPhysicalPlacement(\n               ManagedObject.contextObject,\n               this.share.objectUuids);\n         this.placementData.set(this.share.uuid, MapUtil.toMap<string, VirtualObjectPlacementModel[]>(placement));\n      } catch (err) {\n         this.onError.emit(err);\n      }\n   }\n\n   getVirtualObjects(): VirtualObjectModel[] {\n      if (!this.placementData.get(this.share.uuid)) {\n         return null;\n      }\n\n      return this.share.objectUuids.map(objectUuid => {\n         return {\n            uid: objectUuid,\n            name: this.share.config.name,\n            iconId: VsanFileShareUtils.getShareIcon(this.share),\n         } as VirtualObjectModel;\n      });\n   }\n\n   navigateToVirtualObjects(): void {\n      const virtualObjectsContext: VirtualObjectsContext = {\n         presentVirtualObjectUuids: this.share.objectUuids,\n         filterTypes: [this.getFilterObjectsTypeFilter()],\n      };\n      this.navigationService.navigateTo(PlatformExtension.VIRTUAL_OBJECTS,\n            ManagedObject.contextObject,\n            virtualObjectsContext);\n   }\n\n   private getFilterObjectsTypeFilter(): VirtualObjectType {\n      return this.share.managedBy === VsanFileShareOwnerType.CNS\n            ? VirtualObjectsTypeUtil.getVirtualObjectTypeFilter(DisplayObjectType.FILE_VOLUME)\n            : VirtualObjectsTypeUtil.getVirtualObjectTypeFilter(DisplayObjectType.FILE_SHARE);\n   }\n}\n","/* Copyright 2020-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, Input, OnChanges} from \"@angular/core\";\nimport {VsanFileServiceShare} from \"@generated/vsan-file-service-share\";\nimport {FileAnalyticsScanStatusInfo} from \"@generated/file-analytics-scan-status-info\";\nimport {UnavailableViewSpec} from \"@component/unavailable-view/unavailable-view-spec\";\nimport {EditShareFileAnalyticsContext} from \"../../edit-share-file-analytics/edit-share-file-analytics-context\";\nimport {ManagedObject} from \"@service/managed-object\";\n\n@Component({\n   selector: \"file-share-analytics-details\",\n   templateUrl: \"share-analytics-details.html\",\n   styleUrls: [\"share-analytics-details.scss\"],\n})\nexport class ShareAnalyticsDetailsComponent implements OnChanges {\n   @Input()\n   share: VsanFileServiceShare;\n\n   @Input()\n   perfServiceEnabled: boolean;\n\n   @Input()\n   hasEditPermission: boolean;\n\n   fileShares: VsanFileServiceShare[] = [];\n   isFileAnalyticsEnabled: boolean;\n   shareContext: EditShareFileAnalyticsContext;\n\n   scanStatus: FileAnalyticsScanStatusInfo;\n   loading: boolean;\n   errorMessage: string;\n\n   UnavailableViewSpec: typeof UnavailableViewSpec = UnavailableViewSpec;\n\n   ngOnChanges(): void {\n      if (!this.share) {\n         return;\n      }\n      this.isFileAnalyticsEnabled = this.share.config.isFileAnalyticsEnabled;\n      this.updateShareContext();\n      if (!this.isFileAnalyticsEnabled) {\n         this.scanStatus = null;\n      }\n      if (this.perfServiceEnabled && this.isFileAnalyticsEnabled && !this.scanStatus) {\n         this.loading = true;\n      }\n      this.fileShares = [this.share];\n   }\n\n   update(scanStatus: FileAnalyticsScanStatusInfo): void {\n      this.scanStatus = scanStatus;\n      if (this.scanStatus) {\n         this.fileShares = [this.share];\n      }\n      this.loading = false;\n   }\n\n   private updateShareContext(): void {\n      this.shareContext = {\n         clusterRef: ManagedObject.contextObject,\n         share: this.share.config,\n         shareUuid: this.share.uuid,\n         isSmbAbeSupported: false,\n      };\n   }\n}\n","/* Copyright 2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nexport enum ShareDetailsTab {\n   BASIC,\n   FILE_ANALYTICS,\n   PHYSICAL_PLACEMENT,\n   PERFORMANCE,\n   SNAPSHOTS,\n}","<!--Copyright 2020-2021 VMware, Inc. All rights reserved. -- VMware Confidential-->\n<clr-tabs *ngIf=\"share\">\n   <clr-tab>\n      <button id=\"basic-tab-btn\" clrTabLink>\n         {{\"vsan.fileservices.shares.grid.details.tab.basics\" | localized}}\n      </button>\n      <ng-template [(clrIfActive)]=\"basicTabActive\">\n         <clr-tab-content>\n            <file-share-basic-details\n                  [share]=\"share\"\n                  [policies]=\"policies\"\n                  [hostPropertiesMap]=\"hostPropertiesMap\"\n                  [affinitySiteAvailable]=\"affinitySiteAvailable\"\n                  [availableDomains]=\"availableDomains\"\n                  [smbAbeSupported]=\"smbAbeSupported\"\n                  [isFileAnalyticsEnabledOnCluster]=\"fileServiceConfig.isFileAnalyticsEnabled\">\n            </file-share-basic-details>\n         </clr-tab-content>\n      </ng-template>\n   </clr-tab>\n   <clr-tab *ngIf=\"showFileAnalyticsDetails\">\n      <button id=\"file-analytics-tab-btn\" clrTabLink>\n         {{\"vsan.fileservices.shares.grid.details.tab.analytics\" | localized}}\n      </button>\n      <ng-template [(clrIfActive)]=\"analyticsTabActive\">\n         <clr-tab-content>\n            <file-share-analytics-details\n                  [share]=\"share\"\n                  [perfServiceEnabled]=\"fileServiceConfig.isPerformanceServiceEnabled\"\n                  [hasEditPermission]=\"hasEditPermission\">\n            </file-share-analytics-details>\n         </clr-tab-content>\n      </ng-template>\n   </clr-tab>\n   <clr-tab>\n      <button id=\"physical-placement-tab-btn\" clrTabLink>\n         {{\"vsan.fileservices.shares.grid.details.tab.placement\" | localized}}\n      </button>\n      <ng-template [(clrIfActive)]=\"placementTabActive\">\n         <clr-tab-content>\n            <file-share-placement-details [share]=\"share\" (onError)=\"onError.emit($event)\"></file-share-placement-details>\n         </clr-tab-content>\n      </ng-template>\n   </clr-tab>\n   <clr-tab>\n      <button id=\"performance-tab-btn\" clrTabLink>\n         {{\"vsan.fileservices.shares.grid.details.tab.performance\" | localized}}\n      </button>\n      <ng-template [(clrIfActive)]=\"perfTabActive\">\n         <clr-tab-content>\n            <file-share-performance-details\n                  [share]=\"share\"\n                  [smbProtocolSupported]=\"smbProtocolSupported\"\n                  [smbProtocolLayerPerformanceSupported]=\"smbProtocolLayerPerformanceSupported\"\n                  [clusterRef]=\"clusterRef\"\n                  (onError)=\"onError.emit($event)\">\n            </file-share-performance-details>\n         </clr-tab-content>\n      </ng-template>\n   </clr-tab>\n   <clr-tab *ngIf=\"snapshotAvailable\">\n      <button id=\"snapshot-tab-btn\" clrTabLink>\n         {{\"vsan.fileservices.shares.grid.details.tab.snapshot\" | localized}}\n      </button>\n      <ng-template [(clrIfActive)]=\"snapshotsTabActive\">\n         <clr-tab-content>\n            <vsan-file-service-snapshots id=\"share-snapshots\" [share]=\"share\">\n            </vsan-file-service-snapshots>\n         </clr-tab-content>\n      </ng-template>\n   </clr-tab>\n</clr-tabs>\n","/* Copyright 2020-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, ElementRef, EventEmitter ,Input, Output, ViewChild} from \"@angular/core\";\n\n/**\n * Use this component to show a tooltip message after copying sth with ngx-clipboard\n */\n@Component({\n   selector: \"vsan-balloon-tooltip\",\n   templateUrl: \"./balloon-tooltip.html\",\n   styleUrls: [\"balloon-tooltip.scss\"]\n})\nexport class BalloonTooltipComponent {\n   private _tooltipElement: ElementRef;\n\n   @ViewChild(\"vsan_balloon_tooltip\")\n   set tooltipElement(element: ElementRef) {\n      if (!element) {\n         return;\n      }\n      this._tooltipElement = element;\n      this.focusTooltip();\n   }\n\n   get tooltipElement(): ElementRef {\n      return this._tooltipElement;\n   }\n\n   @Input()\n   visible: boolean;\n\n   @Input()\n   isWide: boolean;\n\n   @Output()\n   visibleChange: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n   hideBalloonTooltip = () => {\n      this.visible = false;\n      this.visibleChange.emit(this.visible);\n   };\n\n   private focusTooltip = () => {\n      const tooltipDiv: HTMLElement = this.tooltipElement.nativeElement;\n      // Set the focus to the div element, and later we can hide the balloon with the onblur event\n      setTimeout(() => {\n         tooltipDiv.focus();\n      });\n   };\n}\n","/* Copyright 2020 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, Input, OnInit} from \"@angular/core\";\nimport {ManagedObject} from \"@service/managed-object\";\nimport {VsanFileServiceConfigService} from \"@generated/vsan-file-service-config-service\";\nimport {VsanFileServiceSnapshotService} from \"@generated/vsan-file-service-snapshot-service\";\nimport {VsanFileShareSnapshotQuerySpec} from \"@generated/vsan-file-share-snapshot-query-spec\";\nimport {Logger} from \"@util/logger\";\nimport {VsanFileShareSnapshot} from \"@generated/vsan-file-share-snapshot\";\nimport {TaskMonitorService} from \"@service/task-monitor-service\";\nimport {Privileges} from \"@generated/privileges\";\nimport {PermissionService} from \"@generated/permission-service\";\nimport {ObjectFilter} from \"@component/datagrid/filter/object-filter\";\nimport {VsanFileShareSnapshotNameComparator} from \"../comparators/snapshot-name-comparator\";\nimport {PipeComparator} from \"@component/datagrid/comparator/pipe-comparator\";\nimport {VsanDateFormatterPipe} from \"@pipe/VsanDateFormatterPipe\";\nimport {PipeFilter} from \"@component/datagrid/filter/pipe-filter\";\nimport {FileSizePipe} from \"@pipe/FileSizePipe\";\nimport {NumericComparator} from \"@component/datagrid/comparator/numeric-comparator\";\nimport {VsanFileShareSnapshotQueryResult} from \"@generated/vsan-file-share-snapshot-query-result\";\nimport {ModalBuilder} from \"@util/modal-builder\";\nimport {FileServiceDeleteSnapshotModalContext} from \"./delete-snapshot-modal-context.data\";\nimport {VsanFileServiceShare} from \"@generated/vsan-file-service-share\";\nimport {FileServiceCreateSnapshotModalContext} from \"./create-snapshot-modal-context.data\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\n\n@Component({\n   selector: \"vsan-file-service-snapshots\",\n   templateUrl: \"snapshot-list.html\",\n   styleUrls: [\"snapshot-list.scss\"],\n})\nexport class SnapshotListComponent implements OnInit {\n   private readonly MAX_SNAPSHOT: number = 32;\n   private readonly NAME_FIELD: string = \"config.name\";\n   private readonly CAPACITY_FIELD: string = \"usedCapacity\";\n   private readonly CREATION_TIME_FIELD: string = \"creationTime\";\n\n   private _share: VsanFileServiceShare;\n\n   @Input()\n   set share(val: VsanFileServiceShare) {\n      this._share = val;\n      this.fetch();\n   }\n\n   get share(): VsanFileServiceShare {\n      return this._share;\n   }\n\n   totalSnapshots: number;\n   snapshots: VsanFileShareSnapshot[];\n   selectedSnapshots: VsanFileShareSnapshot[] = [];\n\n   loading: boolean;\n   error: string;\n   hasEditPermission: boolean;\n\n   nameFilter: ObjectFilter<any> = new ObjectFilter<any>(this.NAME_FIELD);\n   nameComparator: VsanFileShareSnapshotNameComparator = new VsanFileShareSnapshotNameComparator();\n\n   capacityFilter: PipeFilter<any> = new PipeFilter<any>(new FileSizePipe(), this.CAPACITY_FIELD);\n   capacityComparator: NumericComparator<any> = new NumericComparator<any>(this.CAPACITY_FIELD);\n\n   creationTimeFilter: PipeFilter<any> = new PipeFilter<any>(new VsanDateFormatterPipe(), this.CREATION_TIME_FIELD);\n   creationTimeComparator: PipeComparator<any> =\n         new PipeComparator<any>(new VsanDateFormatterPipe(), this.CREATION_TIME_FIELD);\n\n   constructor(private fileServiceConfigService: VsanFileServiceConfigService,\n         private snapshotService: VsanFileServiceSnapshotService,\n         private permissionService: PermissionService,\n         private taskMonitor: TaskMonitorService) {}\n\n   async ngOnInit(): Promise<void> {\n      try {\n         this.hasEditPermission =\n               await this.permissionService.hasPermissions(ManagedObject.contextObject, [Privileges.CONFIG_STORAGE()]);\n      } catch (err) {\n         Logger.error(err);\n      }\n   }\n\n   private async fetch(): Promise<void> {\n      const spec: VsanFileShareSnapshotQuerySpec = VsanFileShareSnapshotQuerySpec.Factory.create(\n            this.share.uuid,\n            1,\n      );\n      try {\n         this.loading = true;\n         const result: VsanFileShareSnapshotQueryResult =\n               await this.snapshotService.queryShareSnapshots(ManagedObject.contextObject, spec);\n         this.snapshots = result.snapshots;\n         this.totalSnapshots = result.total;\n      } catch (err) {\n         Logger.error(err);\n         this.error = err;\n      } finally {\n         this.loading = false;\n      }\n   }\n\n   onAdd = () => {\n      const context: FileServiceCreateSnapshotModalContext = {\n         share: this.share,\n         existingSnapshots: this.snapshots.map(snapshot => snapshot.config.name),\n      } as FileServiceCreateSnapshotModalContext;\n      new ModalBuilder(\"fileServiceShares/createSnapshot\")\n            .setDimensions([600, 250])\n            .open(context)\n            .then(this.onSuccess);\n   };\n\n   onDelete = () => {\n      const context: FileServiceDeleteSnapshotModalContext = {\n         share: this.share,\n         snapshots: this.selectedSnapshots,\n      } as FileServiceDeleteSnapshotModalContext;\n      const dialogHeight: number = this.selectedSnapshots.length === 1 ? 250 : 350;\n      new ModalBuilder(\"fileServiceShares/deleteSnapshot\")\n            .setDimensions([600, dialogHeight])\n            .open(context)\n            .then(this.onSuccess);\n   };\n\n   private onSuccess = async (taskRef: ManagedObject | ManagedObject[]): Promise<void> => {\n      await this.awaitTask(taskRef);\n      this.fetch();\n   };\n\n   private async awaitTask(taskRef: ManagedObject | ManagedObject[]): Promise<void> {\n      if (!taskRef) {\n         return;\n      }\n      try {\n         if (Array.isArray(taskRef)) {\n            await Promise.all(taskRef.map(task => this.taskMonitor.getAwaitResult(task)));\n         } else {\n            await this.taskMonitor.getAwaitResult(taskRef);\n         }\n      } catch (err) {\n         this.error = err;\n      }\n   }\n\n   get addSnapshotAvailable(): boolean {\n      return this.hasEditPermission && this.totalSnapshots < this.MAX_SNAPSHOT;\n   }\n\n   get deleteSnapshotEnabled(): boolean {\n      // The latest snapshot cannot be deleted due to backend limitation\n      // UI should disable the delete button if user selects the latest snapshot\n      return this.hasEditPermission\n            && !this.selectedSnapshots\n                  .some(snapshot => this.snapshots[this.snapshots.length - 1].config.name === snapshot.config.name);\n   }\n\n   get addButtonTitle(): string {\n      if (this.addSnapshotAvailable) {\n         return VsanUiUtils.getString(\"vsan.fileservices.shares.grid.details.tab.snapshot.create\");\n      } else if (!this.hasEditPermission) {\n         return VsanUiUtils.getString(\"vsan.common.nopermissions\");\n      }\n      return VsanUiUtils.getString(\"vsan.fileservices.shares.grid.details.tab.snapshot.create.max\");\n   }\n\n   get deleteButtonTitle(): string {\n      if (this.deleteSnapshotEnabled) {\n         return VsanUiUtils.getString(\"vsan.fileservices.shares.grid.details.tab.snapshot.delete.title\");\n      }\n      return VsanUiUtils.getString(\"vsan.fileservices.shares.grid.details.tab.snapshot.delete.disable.title\");\n   }\n}\n","/* Copyright 2019-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {FormsModule, ReactiveFormsModule} from \"@angular/forms\";\nimport {ClarityModule} from \"@clr/angular\";\nimport {ClipboardModule} from \"ngx-clipboard\";\nimport {VsanCommonModule} from \"../common/vsan-common.module\";\nimport {BalloonTooltipModule} from \"@component/balloon-tooltip/balloon-tooltip.module\";\nimport {RouterModule, Routes} from \"@angular/router\";\nimport {FileServicesSharesComponent} from \"./shares/shares.component\";\nimport {DeleteShareComponent} from \"./delete-share/delete-share.component\";\nimport {FileShareLoaderFactory} from \"./shares/loader/file-share-loader-factory\";\nimport {MasterDetailModule} from \"@component/master-detail/master-detail.module\";\nimport {PlacementDetailsModule} from \"@component/placement-details/placement-details.module\";\nimport {ShareNameFilterComponent} from \"./shares/filters/file-share-name-filter.component\";\nimport {FileSharePerfModule} from \"@component/file-share-perf/file-share-perf.module\";\nimport {SnapshotListComponent} from \"./shares/snapshot/snapshot-list.component\";\nimport {CreateSnapshotComponent} from \"./shares/snapshot/create-snapshot.component\";\nimport {DeleteSnapshotComponent} from \"./shares/snapshot/delete-snapshot.component\";\nimport {UnavailableViewModule} from \"@component/unavailable-view/unavailable-view.module\";\nimport {FileDashboardModule} from \"../file-analytics/file-dashboard/file-dashboard.module\";\nimport {FileSharesListComponent} from \"./shares/shares-list.component\";\nimport {ShareDetailComponent} from \"./shares/detail/share-detail.component\";\nimport {ShareBasicDetailsComponent} from \"./shares/detail/share-basic-details.component\";\nimport {ShareAnalyticsDetailsComponent} from \"./shares/detail/share-analytics-details.component\";\nimport {SharePlacementDetailsComponent} from \"./shares/detail/share-placement-details.component\";\nimport {SharePerformanceDetailsComponent} from \"./shares/detail/share-performance-details.component\";\nimport {FileServicesCommonModule} from \"./shared/file-services-common.module\";\n\nconst fileServicesRoutes: Routes = [\n   {\n      path: \"\",\n      component: FileServicesSharesComponent,\n   },\n   {\n      path: \"deleteShare\",\n      component: DeleteShareComponent,\n   },\n   {\n      path: \"createSnapshot\",\n      component: CreateSnapshotComponent,\n   },\n   {\n      path: \"deleteSnapshot\",\n      component: DeleteSnapshotComponent,\n   },\n];\n\n@NgModule({\n   imports: [\n      CommonModule,\n      FormsModule,\n      ReactiveFormsModule,\n      ClarityModule,\n      ClipboardModule,\n      VsanCommonModule,\n      MasterDetailModule,\n      BalloonTooltipModule,\n      PlacementDetailsModule,\n      FileSharePerfModule,\n      FileServicesCommonModule,\n      RouterModule.forChild(fileServicesRoutes),\n      FileDashboardModule,\n      UnavailableViewModule,\n   ],\n   declarations: [\n      FileServicesSharesComponent,\n      FileSharesListComponent,\n      ShareDetailComponent,\n      ShareBasicDetailsComponent,\n      ShareAnalyticsDetailsComponent,\n      SharePlacementDetailsComponent,\n      SharePerformanceDetailsComponent,\n      DeleteShareComponent,\n      DeleteSnapshotComponent,\n      CreateSnapshotComponent,\n      ShareNameFilterComponent,\n      SnapshotListComponent,\n   ],\n   providers: [\n      FileShareLoaderFactory,\n   ],\n})\nexport class FileServicesModule {\n}\n","<!--Copyright 2017-2021 VMware, Inc. All rights reserved. -- VMware Confidential-->\n<vsan-slide-panel [(activePane)]=\"activePane\" [detailsPaneSize]=\"DETAIL_PANEL_WIDTH_PERCENT\">\n   <div leftPane class=\"master-view\">\n      <clr-datagrid id=\"shares\"\n                    (clrDgRefresh)=\"refresh($event)\"\n                    [clrDgLoading]=\"loading\"\n                    [(clrDgSelected)]=\"selectedItems\">\n         <clr-dg-column class=\"info-column\"></clr-dg-column>\n         <clr-dg-column class=\"name-column\"\n                        [clrDgSortBy]=\"paginationSupported ? null : nameComparator\">\n            {{\"vsan.fileservices.shares.col.name\" | localized}}\n            <clr-dg-string-filter *ngIf=\"!paginationSupported else partial_name_filter\"\n                                  [clrDgStringFilter]=\"nameFilter\">\n            </clr-dg-string-filter>\n            <ng-template #partial_name_filter>\n               <clr-dg-filter>\n                  <vsan-file-share-name-filter [allShares]=\"shareConfigs\"></vsan-file-share-name-filter>\n               </clr-dg-filter>\n            </ng-template>\n         </clr-dg-column>\n         <clr-dg-column [clrDgSortBy]=\"paginationSupported ? null : ownerTypeComparator\">\n            {{\"vsan.fileservices.shares.col.owner.type\" | localized}}\n            <clr-dg-string-filter *ngIf=\"!paginationSupported\" [clrDgStringFilter]=\"ownerTypeFilter\">\n            </clr-dg-string-filter>\n         </clr-dg-column>\n         <clr-dg-column [clrDgSortBy]=\"paginationSupported ? null : protocolComparator\">\n            {{\"vsan.fileservices.shares.col.protocol\" | localized}}\n            <clr-dg-filter *ngIf=\"paginationSupported\">\n               <vsan-enumerated-filter vsanDgField=\"config.protocol\">\n                  <vsan-enumerated-filter-item\n                        [label]=\"'vsan.fileservices.shares.create.protocol.nfs3' | localized\"\n                        [iconVisible]=\"false\"\n                        [value]=\"VsanFileShareProtocol.NFSv3\">\n                  </vsan-enumerated-filter-item>\n                  <vsan-enumerated-filter-item\n                        [label]=\"'vsan.fileservices.shares.create.protocol.nfs41' | localized\"\n                        [iconVisible]=\"false\"\n                        [value]=\"VsanFileShareProtocol.NFSv4\">\n                  </vsan-enumerated-filter-item>\n                  <vsan-enumerated-filter-item\n                        [label]=\"'vsan.fileservices.shares.create.protocol.nfsv3_and_nfsv41' | localized\"\n                        [iconVisible]=\"false\"\n                        [value]=\"VsanFileShareProtocol.NFSV3_AND_NFSV4\">\n                  </vsan-enumerated-filter-item>\n                  <vsan-enumerated-filter-item\n                        *ngIf=\"smbProtocolSupported\"\n                        [iconVisible]=\"false\"\n                        [label]=\"'vsan.fileservices.shares.create.protocol.smb' | localized\"\n                        [value]=\"VsanFileShareProtocol.SMB\">\n                  </vsan-enumerated-filter-item>\n               </vsan-enumerated-filter>\n            </clr-dg-filter>\n         </clr-dg-column>\n         <clr-dg-column *ngIf=\"isAffinitySiteSupported && isStretchedCluster\">\n            {{\"vsan.fileservices.shares.grid.details.host\" | localized}}\n         </clr-dg-column>\n         <clr-dg-column *ngIf=\"isAffinitySiteSupported && isStretchedCluster\">\n            {{\"vsan.fileservices.shares.col.affinity\" | localized}}\n         </clr-dg-column>\n         <clr-dg-column id=\"labelColumn\">\n            <ng-container *clrDgHideableColumn=\"{hidden: true}\">\n               {{\"vsan.fileservices.shares.col.label\" | localized}}\n            </ng-container>\n            <clr-dg-string-filter *ngIf=\"!paginationSupported\" [clrDgStringFilter]=\"labelsFilter\">\n            </clr-dg-string-filter>\n         </clr-dg-column>\n         <clr-dg-column *ngIf=\"hasReadPolicyPermission\"\n                        [clrDgSortBy]=\"paginationSupported ? null : policyComparator\">\n            {{\"vsan.fileservices.shares.col.policy\" | localized}}\n            <clr-dg-string-filter *ngIf=\"!paginationSupported\" [clrDgStringFilter]=\"policyFilter\">\n            </clr-dg-string-filter>\n         </clr-dg-column>\n         <clr-dg-column [clrDgSortBy]=\"paginationSupported ? null : softQuotaComparator\">\n            <ng-container *clrDgHideableColumn=\"{hidden: true}\">\n               {{\"vsan.fileservices.shares.col.warningThreshold\" | localized}}\n            </ng-container>\n            <clr-dg-string-filter *ngIf=\"!paginationSupported\" [clrDgStringFilter]=\"softQuotaFilter\">\n            </clr-dg-string-filter>\n         </clr-dg-column>\n         <clr-dg-column [clrDgSortBy]=\"paginationSupported ? null : quotaComparator\">\n            <ng-container *clrDgHideableColumn=\"{hidden: true}\">\n               {{\"vsan.fileservices.shares.col.hardQuota\" | localized}}\n            </ng-container>\n            <clr-dg-string-filter *ngIf=\"!paginationSupported\" [clrDgStringFilter]=\"quotaFilter\">\n            </clr-dg-string-filter>\n         </clr-dg-column>\n         <clr-dg-column [clrDgSortBy]=\"paginationSupported ? null : usageComparator\">\n            {{\"vsan.fileservices.shares.col.overQuota\" | localized}}\n         </clr-dg-column>\n         <clr-dg-column [clrDgSortBy]=\"paginationSupported ? null : capacityComparator\">\n            {{\"vsan.fileservices.shares.col.actualUsage\" | localized}}\n            <clr-dg-string-filter *ngIf=\"!paginationSupported\" [clrDgStringFilter]=\"usedCapacityFilter\">\n            </clr-dg-string-filter>\n         </clr-dg-column>\n         <clr-dg-column *ngIf=\"fileServiceConfig.isFileAnalyticsEnabled\">\n            {{\"vsan.fileservices.shares.col.fileAnalytics\" | localized}}\n         </clr-dg-column>\n\n         <!-- Content -->\n         <clr-dg-row class=\"signpost-row-height-fix\"\n                     *ngFor=\"let share of fileShares\"\n                     [clrDgItem]=\"share\">\n            <clr-dg-cell class=\"pointer info-column\" (click)=\"toggle(share)\">\n               <clr-icon [attr.shape]=\"Icon.DETAIL_VIEW\"\n                         [attr.title]=\"'vsan.common.details' | localized\"\n                         [ngClass]=\"{'is-solid': isSelected(share)}\"\n                         size=\"18\">\n               </clr-icon>\n            </clr-dg-cell>\n            <clr-dg-cell vsan-show-title class=\"name-column\">\n               <clr-icon [attr.shape]=\"VsanFileShareUtils.getShareIcon(share)\"\n                         [attr.title]=\"getOwnerTypeLabel(share.managedBy)\">\n               </clr-icon>\n               <a href=\"javascript://\" (click)=\"navigateToVirtualObjects(share)\">{{share.config.name}}</a>\n            </clr-dg-cell>\n            <clr-dg-cell vsan-show-title>\n               {{getOwnerTypeLabel(share.managedBy)}}\n            </clr-dg-cell>\n            <clr-dg-cell vsan-show-title>\n               {{getProtocolLabel(share.config.protocol)}}\n            </clr-dg-cell>\n            <clr-dg-cell *ngIf=\"isAffinitySiteSupported && isStretchedCluster\"\n                         class=\"icon-name-container\"\n                         vsan-show-title>\n               <clr-icon [attr.shape]=\"hostPropertiesMap.get(share.host).iconShape\"></clr-icon>\n               <a href=\"javascript://\" (click)=\"navigateToHost(share)\">{{getHostNameWithDomain(share)}}</a>\n            </clr-dg-cell>\n            <clr-dg-cell *ngIf=\"isAffinitySiteSupported && isStretchedCluster\"\n                         class=\"icon-name-container\"\n                         vsan-show-title>\n               <clr-icon [attr.shape]=\"getAffinityLocationStateIconShape(share)\"\n                         class=\"is-solid\"\n                         [ngClass]=\"getAffinityLocationStateIconClass(share)\"\n                         [attr.title]=\"getAffinityLocationStateIconTitle(share)\">\n               </clr-icon>\n               <span>{{getAffinitySite(share.config.affinityLocation)}}</span>\n            </clr-dg-cell>\n            <clr-dg-cell>\n               <label-cell [entityLabels]=\"share.config?.labels\"\n                           [showSeeAllButton]=\"true\">\n               </label-cell>\n            </clr-dg-cell>\n            <clr-dg-cell *ngIf=\"hasReadPolicyPermission\" vsan-show-title>\n               <storage-policy-cell [storagePolicyId]=\"share.config.policyId\"\n                                    [storagePolicyName]=\"getPolicyName(share.config.policyId)\">\n               </storage-policy-cell>\n            </clr-dg-cell>\n            <clr-dg-cell>\n               <ng-container *ngIf=\"share.config.softQuotaSize && share.config.softQuota\">\n                  {{getQuotaLabel(share.config.softQuota, share.config.softQuotaSize)}}\n               </ng-container>\n               <ng-container *ngIf=\"!share.config.softQuotaSize || !share.config.softQuota\">\n                  {{\"vsan.na.label\"|localized}}\n               </ng-container>\n            </clr-dg-cell>\n            <clr-dg-cell>\n               <ng-container *ngIf=\"share.config.quota && share.config.quotaSize\">\n                  {{getQuotaLabel(share.config.quota, share.config.quotaSize)}}\n               </ng-container>\n               <ng-container *ngIf=\"!share.config.quota || !share.config.quotaSize\">\n                  {{\"vsan.na.label\"|localized}}\n               </ng-container>\n            </clr-dg-cell>\n            <clr-dg-cell>\n               <div class=\"progress-static labeled\"\n                    *ngIf=\"share?.config?.quota; else noquota\"\n                    [title]=\"VsanFileShareUtils.getProgressTitle(share)\">\n                  <div class=\"progress-meter {{VsanFileShareUtils.getProgressClass(share)}}\"\n                       [attr.data-value]=\"share.usageOverQuota\"></div>\n                  <span>\n                     {{\"vsan.fileservices.shares.quotaPercent\" | localized :share.usageOverQuota}}\n                  </span>\n               </div>\n               <ng-template #noquota>\n                  {{\"vsan.na.label\"|localized}}\n               </ng-template>\n            </clr-dg-cell>\n            <clr-dg-cell>{{share.usedCapacity | fileSize}}</clr-dg-cell>\n            <clr-dg-cell *ngIf=\"fileServiceConfig.isFileAnalyticsEnabled\">\n               {{ServiceUtils.enabledStateLabel(share.config.isFileAnalyticsEnabled)}}\n            </clr-dg-cell>\n         </clr-dg-row>\n         <!-- Footer -->\n         <clr-dg-footer>\n            <clr-dg-pagination #pagination\n                               [clrDgPageSize]=\"defaultPageSize\"\n                               [hidden]=\"!totalCount\"\n                               [clrDgTotalItems]=\"totalCount\">\n               <div vsan-show-title>{{getPaginationLabel(pagination)}}</div>\n            </clr-dg-pagination>\n         </clr-dg-footer>\n      </clr-datagrid>\n   </div>\n   <div detailsTitle class=\"detail-title\">\n      <ng-container *ngIf=\"detailItem\">\n         <clr-icon [attr.shape]=\"VsanFileShareUtils.getShareIcon(detailItem)\"\n                   [attr.title]=\"getOwnerTypeLabel(detailItem.managedBy)\">\n         </clr-icon>\n         <span id=\"details-title\">\n            {{detailItem?.config.name}}\n         </span>\n      </ng-container>\n   </div>\n   <vsan-file-share-detail rightPane\n                           [share]=\"detailItem\"\n                           [policies]=\"policies\"\n                           [fileServiceConfig]=\"fileServiceConfig\"\n                           [hostPropertiesMap]=\"hostPropertiesMap\"\n                           [hasEditPermission]=\"hasEditPermission\"\n                           [smbProtocolSupported]=\"smbProtocolSupported\"\n                           [smbProtocolLayerPerformanceSupported]=\"smbProtocolLayerPerformanceSupported\"\n                           [availableDomains]=\"availableDomains\"\n                           [affinitySiteAvailable]=\"isAffinitySiteSupported && isStretchedCluster\"\n                           [smbAbeSupported]=\"smbAbeSupported\"\n                           [snapshotAvailable]=\"isSnapshotSupported\"\n                           [activeTab]=\"preselectTab\"\n                           (onError)=\"handleError($event)\">\n   </vsan-file-share-detail>\n</vsan-slide-panel>\n","\nexport interface FileShareFilter {\n\n   key: string;\n   value: string[];\n} //class FileShareFilter\n\nexport module FileShareFilter{\nexport class Factory {\n\n   static create = (key: string, value: string[]): FileShareFilter => {\n      return { key: key, value: value, };\n   }\n\n\n} //class Factory\n\n} //module FileShareFilter\n","/* Copyright 2020 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, OnInit} from \"@angular/core\";\nimport {ManagedObject} from \"@service/managed-object\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {VsanFileShareSnapshot} from \"@generated/vsan-file-share-snapshot\";\nimport {FileServiceDeleteSnapshotModalContext} from \"./delete-snapshot-modal-context.data\";\nimport {VsanFileServiceSnapshotService} from \"@generated/vsan-file-service-snapshot-service\";\nimport {VsanFileServiceShare} from \"@generated/vsan-file-service-share\";\nimport {FileSizePipe} from \"@pipe/FileSizePipe\";\nimport {ShareSnapshotRemoveResult} from \"@generated/share-snapshot-remove-result\";\n\n@Component({\n   templateUrl: \"delete-snapshot.html\",\n   selector: \"vsan-file-service-delete-snapshot\",\n   styleUrls: [\"delete-snapshot.scss\"],\n   providers: [FileSizePipe],\n})\nexport class DeleteSnapshotComponent implements OnInit {\n   clusterRef: ManagedObject;\n   snapshots: VsanFileShareSnapshot[];\n   share: VsanFileServiceShare;\n   errors: string[];\n   totalReleasedCapacity: string;\n\n   constructor(private snapshotService: VsanFileServiceSnapshotService, private fileSizePipe: FileSizePipe) {\n   }\n\n   ngOnInit(): void {\n      const context: FileServiceDeleteSnapshotModalContext =\n            VsanUiUtils.getModalContext() as FileServiceDeleteSnapshotModalContext;\n      this.snapshots = context.snapshots;\n      this.share = context.share;\n      this.clusterRef = ManagedObject.contextObject;\n\n      const capacity: number = this.snapshots.reduce((sum, snapshot) => sum += snapshot.usedCapacity, 0);\n      this.totalReleasedCapacity = this.fileSizePipe.transform(capacity);\n   }\n\n   async confirm(): Promise<void> {\n      this.errors = null;\n      const snapshotNames: string[] = this.snapshots.map(snapshot => snapshot.config.name);\n      try {\n         const result: ShareSnapshotRemoveResult =\n               await this.snapshotService.removeShareSnapshot(this.clusterRef, this.share.uuid, snapshotNames);\n         if (VsanUiUtils.isEmpty(result.errors)) {\n            VsanUiUtils.closeModalDialog(result.taskRefs);\n         } else {\n            this.errors = [VsanUiUtils.getString(\"vsan.fileservices.snapshot.delete.dialog.error\")];\n         }\n      } catch (err) {\n         this.errors = [err];\n      }\n   }\n\n   get dialogTitle(): string {\n      if (this.snapshots.length === 1) {\n         return VsanUiUtils.getString(\"vsan.fileservices.snapshot.delete.dialog.title.single\");\n      }\n      return VsanUiUtils.getString(\"vsan.fileservices.snapshot.delete.dialog.title.plural\");\n   }\n\n   getDialogDescText(): string {\n      if (!VsanUiUtils.isEmpty(this.snapshots) && this.snapshots.length === 1) {\n         return VsanUiUtils.getString(\"vsan.fileservices.snapshot.delete.dialog.desc.single\",\n               this.snapshots[0].config.name,\n               this.share.config.name,\n               this.totalReleasedCapacity);\n      }\n      return VsanUiUtils.getString(\"vsan.fileservices.snapshot.delete.dialog.desc.plural\",\n            this.share.config.name,\n            this.totalReleasedCapacity);\n   }\n\n   getSummaryDescText(): string {\n      if (this.snapshots.length === 1) {\n         return VsanUiUtils.getString(\"vsan.fileservices.snapshot.delete.dialog.summarize.single\");\n      }\n      return VsanUiUtils.getString(\"vsan.fileservices.snapshot.delete.dialog.summarize.plural\", this.snapshots.length);\n   }\n}\n","<!--Copyright 2020-2022 VMware, Inc. All rights reserved. -- VMware Confidential-->\n<vsan-delete-prompt\n      [title]=\"dialogTitle\"\n      [(alertMessages)]=\"errors\"\n      (onConfirm)=\"confirm()\">\n   <div [innerHTML]=\"getDialogDescText()\"></div>\n   <div *ngIf=\"snapshots?.length > 1\" class=\"selected-snapshots-summary\">\n      {{getSummaryDescText()}}\n   </div>\n   <ul *ngIf=\"snapshots?.length > 1\">\n      <li *ngFor=\"let snapshot of snapshots\" class=\"snapshot-info\">\n         <span>\n            {{snapshot.config.name}}\n         </span>\n         <span>\n            {{snapshot.usedCapacity | fileSize}}\n         </span>\n      </li>\n   </ul>\n</vsan-delete-prompt>\n","\nexport interface VsanFileShareQueryProperties {\n\n   includeBasic: boolean;\n   includeAllLabels: boolean;\n   includeUsedCapacity: boolean;\n   includeVsanObjectUuids: boolean;\n} //class VsanFileShareQueryProperties\n\nexport module VsanFileShareQueryProperties{\nexport class Factory {\n\n   static create = (includeBasic: boolean, includeAllLabels: boolean, includeUsedCapacity: boolean, includeVsanObjectUuids: boolean): VsanFileShareQueryProperties => {\n      return { includeBasic: includeBasic, includeAllLabels: includeAllLabels, includeUsedCapacity: includeUsedCapacity, includeVsanObjectUuids: includeVsanObjectUuids, };\n   }\n\n\n} //class Factory\n\n} //module VsanFileShareQueryProperties\n","<!--Copyright 2020-2021 VMware, Inc. All rights reserved. -- VMware Confidential-->\n<file-share-perf-details [clusterRef]=\"clusterRef\"\n                         [volumePerfData]=\"volumePerfData\"\n                         (queryPerformanceData)=\"queryPerformanceData()\">\n</file-share-perf-details>","/* Copyright 2019-2022 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {StoragePolicyData} from \"@generated/storage-policy-data\";\nimport {Reflection} from \"@util/reflection\";\nimport {VsanUiUtils} from '@util/vsan-util';\nimport {VsanFileServiceShare} from \"@generated/vsan-file-service-share\";\nimport {VsanFileShareUtils} from \"../file-share-util\";\nimport {ObjectFilter} from \"@component/datagrid/filter/object-filter\";\n\n/**\n * Extends BaseFilter by allowing the consumer to filter the hierarchical data field.\n * It tries to find the final string value of the data field by visiting the attribute hirarchy.\n */\nexport class PolicyFilter extends ObjectFilter<VsanFileServiceShare> {\n   constructor(private policies: StoragePolicyData[]) {\n      super(VsanFileShareUtils.POLICY_FIELD);\n   }\n\n   protected stringify(data: VsanFileServiceShare): string  {\n      if (!data) {\n         return \"\";\n      }\n      const value: any = Reflection.getFieldValue(data, this.dataField);\n      const policy: StoragePolicyData = this.policies.find(p => p.id === value);\n      return policy && policy.name ? policy.name : VsanUiUtils.getString(\"vsan.na.label\");\n   }\n}\n","<!--Copyright 2020-2022 VMware, Inc. All rights reserved. -- VMware Confidential-->\n<virtual-objects-placement-details-flat\n      [virtualObjects]=\"getVirtualObjects()\"\n      [data]=\"placementData.get(share.uuid)\"\n      [reducedColumns]=\"true\">\n</virtual-objects-placement-details-flat>\n<button id=\"virtual-objects-navigation-btn\"\n        class=\"btn btn-sm btn-link no-spacing\"\n        (click)=\"navigateToVirtualObjects()\">\n   {{\"cns.volumes.container.grid.details.tab.physicalPlacement.navigateToVirtualObjects.label\" | localized}}\n</button>","/* Copyright 2019-2020 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {BaseComparator} from \"@component/datagrid/comparator/base-comparator\";\nimport {VsanFileShareUtils} from \"../file-share-util\";\nimport {VsanFileShareOwnerType} from \"@generated/vsan-file-share-owner-type\";\nimport {VsanFileServiceShare} from \"@generated/vsan-file-service-share\";\n\n/**\n * Comparator for file share owner type\n */\nexport class VsanFileShareOwnerTypeComparator extends BaseComparator<VsanFileServiceShare> {\n   protected compareValue(a: VsanFileServiceShare, b: VsanFileServiceShare): number {\n      const dataField: string = VsanFileShareUtils.OWNER_TYPE_FIELD;\n      const ownerTypeText1: string = this.stringify(a, dataField);\n      const ownerTypeText2: string = this.stringify(b, dataField);\n      const ownerType1: string = VsanFileShareUtils.getShareOwnerType(ownerTypeText1 as VsanFileShareOwnerType);\n      const ownerType2: string = VsanFileShareUtils.getShareOwnerType(ownerTypeText2 as VsanFileShareOwnerType);\n      return ownerType1.localeCompare(ownerType2);\n   }\n}\n","/* Copyright 2020 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {BaseComparator} from \"@component/datagrid/comparator/base-comparator\";\nimport {VsanFileShareUtils} from \"../file-share-util\";\nimport {VsanFileShareSnapshot} from \"@generated/vsan-file-share-snapshot\";\n\n/**\n * Comparator for file share snapshot name\n */\nexport class VsanFileShareSnapshotNameComparator extends BaseComparator<VsanFileShareSnapshot> {\n   protected compareValue(a: VsanFileShareSnapshot, b: VsanFileShareSnapshot): number {\n      const dataField = VsanFileShareUtils.NAME_FIELD;\n      return this.stringify(a, dataField).localeCompare(this.stringify(b, dataField));\n   }\n}\n","<!--Copyright 2017-2021 VMware, Inc. All rights reserved. -- VMware Confidential-->\n<h5 vsan-auto-focus>\n   {{\"vsan.fileservices.shares.title\" | localized}}\n</h5>\n<div class=\" spinner central-spinner\" *ngIf=\"loading\"></div>\n\n<vsan-validation id=\"error\"\n                 *ngIf=\"error && !loading\"\n                 [alert]=\"error\"\n                 (onClosed)=\"error=null\">\n</vsan-validation>\n\n<ng-container *ngIf=\"!loading && !!fileServiceConfig\">\n   <section id=\"domain\">\n      <div id=\"domain-name\">\n         {{\"vsan.fileservices.shares.info.domain\" | localized : fileServiceConfig.domainConfig.name}}\n      </div>\n   </section>\n\n   <section *ngIf=\"paginationSupported\" id=\"share-type-filter\">\n      <clr-select-container class=\"horizontal-layout\">\n         <label class=\"share-type-filter-label\">\n            {{\"vsan.fileservices.shares.filter.type.label\" | localized}}\n         </label>\n         <select clrSelect\n                 id=\"share-type-filter-select\"\n                 [(ngModel)]=\"shareTypeFilter\"\n                 (change)=\"loadFileShares(state)\">\n            <option *ngFor=\"let opt of shareTypeFilterOptions\" [ngValue]=\"opt.value\">\n               {{opt.label}}\n            </option>\n         </select>\n      </clr-select-container>\n   </section>\n\n   <div class=\"btn-group\">\n      <clr-button-group vsan-button-group class=\"btn-link\">\n         <clr-button id=\"add\"\n                     name=\"add\"\n                     class=\"btn btn-sm\"\n                     (click)=\"onAdd()\"\n                     [disabled]=\"!hasEditPermission\"\n                     [class.disabled]=\"!hasEditPermission\">\n            {{\"vsan.fileservices.shares.action.add\" | localized}}\n         </clr-button>\n         <clr-button id=\"edit\"\n                     name=\"edit\"\n                     class=\"btn btn-sm\"\n                     *ngIf=\"isSelectedShareManagedByUser()\"\n                     (click)=\"onEdit()\"\n                     [disabled]=\"!hasEditPermission\"\n                     [class.disabled]=\"!hasEditPermission\">\n            {{\"vsan.fileservices.shares.action.edit\" | localized}}\n         </clr-button>\n         <clr-button id=\"delete\"\n                     name=\"delete\"\n                     class=\"btn btn-sm\"\n                     *ngIf=\"areSelectedSharesManagedByUser()\"\n                     (click)=\"onDelete()\"\n                     [disabled]=\"!hasEditPermission\"\n                     [class.disabled]=\"!hasEditPermission\">\n            {{\"vsan.fileservices.shares.action.delete\" | localized}}\n         </clr-button>\n         <clr-button id=\"use-mmc-copy-command\"\n                     *ngIf=\"isSmbShareSelected()\"\n                     ngxClipboard\n                     class=\"btn btn-sm\"\n                     (cbOnSuccess)=\"copyMmcCommandTooltipVisible = true;\"\n                     [cbContent]=\"smbShareMmc\">\n            {{\"vsan.fileservices.shares.action.mmc\" | localized}}\n         </clr-button>\n         <clr-button id=\"snapshots-shortcut\"\n                     *ngIf=\"snapshotSupported && selectedShares?.length === 1\"\n                     (click)=\"showSnapshots.next()\"\n                     class=\"btn btn-sm\">\n            {{\"vsan.fileservices.shares.action.shortcut.snapshots\" | localized}}\n         </clr-button>\n         <clr-button id=\"analytics-shortcut\"\n                     *ngIf=\"fileServiceConfig.isFileAnalyticsEnabled && isSelectedShareManagedByUser()\"\n                     (click)=\"showAnalytics.next()\"\n                     class=\"btn btn-sm\">\n            {{\"vsan.fileservices.shares.action.shortcut.analytics\" | localized}}\n         </clr-button>\n      </clr-button-group>\n\n      <vsan-balloon-tooltip *ngIf=\"copyMmcCommandTooltipVisible\"\n                            id=\"mmc-command-tooltip\"\n                            class=\"mmc-tooltip\"\n                            [(visible)]=\"copyMmcCommandTooltipVisible\"\n                            [isWide]=\"true\">\n         <div>{{'vsan.fileservices.shares.action.mmc.copied' | localized}}</div>\n         <div class=\"mmc-command\">{{smbShareMmc}}</div>\n         <div>{{'vsan.fileservices.shares.smb.mmc.desc' | localized}}</div>\n         <div>{{'vsan.fileservices.shares.smb.mmc.steps.introduce' | localized}}</div>\n         <ul class=\"list\">\n            <li>{{'vsan.fileservices.shares.smb.mmc.steps.1' | localized}}</li>\n            <li>\n               {{'vsan.fileservices.shares.smb.mmc.steps.2' | localized}}\n            </li>\n         </ul>\n      </vsan-balloon-tooltip>\n\n      <clr-dropdown id=\"copy-url\"\n                    name=\"copy-url\"\n                    *ngIf=\"selectedShares?.length === 1\">\n         <button class=\"dropdown-toggle btn btn-sm btn-link\" clrDropdownToggle>\n            {{'vsan.fileservices.shares.action.copyUrl' | localized}}\n            <clr-icon shape=\"caret down\"></clr-icon>\n         </button>\n         <clr-dropdown-menu\n               clrPosition=\"bottom-left\"\n               [attr.aria-label]=\"'vsan.common.srMessage.dropdownMenu.expanded.label' | localized:\n                     ('vsan.fileservices.shares.action.copyUrl' | localized)\">\n            <ng-container *ngFor=\"let point of selectedShares[0].accessPoints | keyvalue\">\n               <!-- The class of the button is for QE to easy locate this element in automation tests -->\n               <!-- We cannot add id to this button because clarity doesn't support it in the dropdown menu item -->\n               <button clrDropdownItem\n                     ngxClipboard\n                     class=\"copy-url-btn-{{point.key}}\"\n                     (cbOnSuccess)=\"onCopiedSuccess($event)\"\n                     [cbContent]=\"point.value\">\n                  {{getProtocolLabel(point.key)}}\n               </button>\n            </ng-container>\n         </clr-dropdown-menu>\n      </clr-dropdown>\n      <vsan-balloon-tooltip *ngIf=\"copyUrlTooltipVisible\"\n                            [(visible)]=\"copyUrlTooltipVisible\">\n         {{\"vsan.fileservices.shares.url.copied\" | localized}}\n         <div class=\"tooltip-content\">{{copiedUrl}}</div>\n      </vsan-balloon-tooltip>\n   </div>\n\n   <vsan-file-shares-list\n         id=\"shares-list\"\n         [fileShares]=\"fileShares\"\n         [showSnapshots]=\"showSnapshots.asObservable()\"\n         [showFileAnalytics]=\"showAnalytics.asObservable()\"\n         [loading]=\"loadingShares\"\n         [policies]=\"policies\"\n         [totalCount]=\"totalCount\"\n         [paginationSupported]=\"paginationSupported\"\n         [smbProtocolSupported]=\"smbProtocolSupported\"\n         [smbProtocolLayerPerformanceSupported]=\"smbProtocolLayerPerformanceSupported\"\n         [smbAbeSupported]=\"smbAbeSupported\"\n         [hasReadPolicyPermission]=\"hasReadPolicyPermission\"\n         [hasEditPermission]=\"hasEditPermission\"\n         [shareConfigs]=\"shareConfigs\"\n         [hostPropertiesMap]=\"hostPropertiesMap\"\n         [availableDomains]=\"availableDomains\"\n         [isStretchedCluster]=\"isStretchedCluster\"\n         [fileServiceConfig]=\"fileServiceConfig\"\n         [isSnapshotSupported]=\"snapshotSupported\"\n         [isAffinitySiteSupported]=\"affinitySiteSupported\"\n         (shareDataRefresh)=\"loadFileShares($event)\"\n         [(selectedItems)]=\"selectedShares\"\n         (onError)=\"error = $event\"\n         [showPreselectedItemDetails]=\"showPreselectedItemDetails\">\n   </vsan-file-shares-list>\n</ng-container>\n","/* Copyright 2019-2020 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {BaseComparator} from \"@component/datagrid/comparator/base-comparator\";\nimport {VsanFileServiceShareSize} from \"@generated/vsan-file-service-share-size\";\nimport {Logger} from \"@util/logger\";\nimport {VsanFileServiceShare} from \"@generated/vsan-file-service-share\";\n\n/**\n * Comparator for file share quota/softQuota\n */\nexport class VsanFileShareQuotaComparator extends BaseComparator<VsanFileServiceShare> {\n   constructor(private quotaField: string, private quotaSizeField: string) {\n      super();\n   }\n\n   protected compareValue(a: VsanFileServiceShare, b: VsanFileServiceShare): number {\n      const quota1: number = parseFloat(this.stringify(a, this.quotaField));\n      const quotaSize1: VsanFileServiceShareSize = this.stringify(a, this.quotaSizeField) as VsanFileServiceShareSize;\n\n      const quota2: number = parseFloat(this.stringify(b, this.quotaField));\n      const quotaSize2: VsanFileServiceShareSize = this.stringify(b, this.quotaSizeField) as VsanFileServiceShareSize;\n      return this.parseSize(quota1, quotaSize1) - this.parseSize(quota2, quotaSize2);\n   }\n\n   private parseSize(quota: number, unitType: VsanFileServiceShareSize): number {\n      if (!quota) {\n         return 0;\n      }\n      switch(unitType) {\n         case VsanFileServiceShareSize.MB:\n            return quota * Math.pow(1024, 2);\n         case VsanFileServiceShareSize.GB:\n            return quota * Math.pow(1024, 3);\n         case VsanFileServiceShareSize.TB:\n            return quota * Math.pow(1024, 4);\n         default:\n            Logger.warn(\"Not supported quota size type: \", unitType);\n            return null;\n      }\n   }\n}\n","/* Copyright 2020-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, EventEmitter, Input, Output} from \"@angular/core\";\nimport {VsanFileServiceShare} from \"@generated/vsan-file-service-share\";\nimport {StoragePolicyData} from \"@generated/storage-policy-data\";\nimport {DomainOrHostData} from \"@generated/domain-or-host-data\";\nimport {VsanFileServiceCommonConfig} from \"@generated/vsan-file-service-common-config\";\nimport {ShareDetailsTab} from \"./share-details-tab\";\nimport {ManagedObject} from \"@service/managed-object\";\n\n@Component({\n   selector: \"vsan-file-share-detail\",\n   templateUrl: \"share-detail.html\",\n   styleUrls: [\"share-detail.scss\"],\n})\nexport class ShareDetailComponent {\n\n   @Input()\n   share: VsanFileServiceShare;\n\n   @Input()\n   policies: StoragePolicyData[];\n\n   @Input()\n   hostPropertiesMap: Map<string, any>;\n\n   @Input()\n   smbProtocolSupported: boolean;\n\n   @Input()\n   smbProtocolLayerPerformanceSupported: boolean;\n\n   @Input()\n   availableDomains: DomainOrHostData[];\n\n   @Input()\n   affinitySiteAvailable: boolean;\n\n   @Input()\n   smbAbeSupported: boolean;\n\n   @Input()\n   snapshotAvailable: boolean;\n\n   @Input()\n   fileServiceConfig: VsanFileServiceCommonConfig;\n\n   @Input()\n   hasEditPermission: boolean;\n\n   @Input()\n   set activeTab(tab: ShareDetailsTab) {\n      this.resetTabs();\n      this.openTab(tab);\n   }\n\n   @Output()\n   onError: EventEmitter<string> = new EventEmitter<string>();\n\n   clusterRef: ManagedObject = ManagedObject.contextObject;\n\n   basicTabActive: boolean;\n   analyticsTabActive: boolean;\n   placementTabActive: boolean;\n   perfTabActive: boolean;\n   snapshotsTabActive: boolean;\n\n   get showFileAnalyticsDetails(): boolean {\n      return this.fileServiceConfig\n            && this.fileServiceConfig.isFileAnalyticsEnabled;\n   }\n\n   private resetTabs(): void {\n      this.basicTabActive = false;\n      this.analyticsTabActive = false;\n      this.placementTabActive = false;\n      this.perfTabActive = false;\n      this.snapshotsTabActive = false;\n   }\n\n   private openTab(tab: ShareDetailsTab): void {\n      if (tab === null || tab === undefined) {\n         this.basicTabActive = true;\n         return;\n      }\n      switch (tab) {\n         case ShareDetailsTab.BASIC:\n            this.basicTabActive = true;\n            break;\n         case ShareDetailsTab.FILE_ANALYTICS:\n            this.analyticsTabActive = true;\n            break;\n         case ShareDetailsTab.PERFORMANCE:\n            this.perfTabActive = true;\n            break;\n         case ShareDetailsTab.PHYSICAL_PLACEMENT:\n            this.placementTabActive = true;\n            break;\n         case ShareDetailsTab.SNAPSHOTS:\n            this.snapshotsTabActive = true;\n            break;\n      }\n   }\n}\n","<!--Copyright 2017-2022 VMware, Inc. All rights reserved. -- VMware Confidential-->\n<vsan-delete-prompt\n      [title]=\"'vsan.fileservices.shares.delete.title'|localized\"\n      [(alertMessages)]=\"errors\"\n      [blockButton]=\"loading\"\n      (onConfirm)=\"confirm()\">\n   <span *ngIf=\"shares.length === 1\">\n      {{'vsan.fileservices.shares.delete.text.single' | localized}}\n   </span>\n   <span *ngIf=\"shares.length !== 1\">\n      {{'vsan.fileservices.shares.delete.text.multiple' | localized: shares.length }}\n   </span>\n   <ul class=\"list\">\n      <li *ngFor=\"let share of shares\">{{share.config.name}}</li>\n   </ul>\n   {{'vsan.common.confirm.question' | localized}}\n</vsan-delete-prompt>\n","/* Copyright 2019-2022 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {ContentChildren, Directive, ElementRef, Input} from \"@angular/core\";\nimport {ClrButton} from \"@clr/angular\";\nimport {ButtonTitleDirective} from \"./button-title.directive\";\n\n/**\n * Attribute directive used to dynamically arrange child buttons, align some horizontally and\n * put the others into the drop-down list, this directive also add title attribute to the buttons.\n * It can only used on clr-button-group and there should be clr-button in the button group.\n * @maximumInlineActions - The maximum value of inline buttons.\n */\n@Directive({\n   selector: \"clr-button-group[vsan-button-group]\",\n})\nexport class ButtonGroupDirective {\n\n   private static readonly TOGGLE_MENU_BUTTON_SELECTOR: string = \"button.btn.dropdown-toggle\";\n   private static readonly VISIBLE_BUTTON_ELEMENTS_SELECTOR: string = \"button\";\n   private static readonly IN_MENU_BUTTON_ELEMENTS_SELECTOR: string = \"div.clr-button-group-menu > button\";\n\n   // Set the maximum value to 10 to display all buttons inline when there is enough space.\n   private _maximumInlineActions: number = 10;\n\n   @Input(\"vsan-button-group\")\n   set maximumInlineActions(value: number) {\n      if (!!value) {\n         this._maximumInlineActions = value;\n      }\n   }\n\n   private _buttonTitleDirectives: ButtonTitleDirective[] = [];\n\n   @ContentChildren(ButtonTitleDirective, {descendants: true})\n   set buttons(value: ButtonTitleDirective[]) {\n      this._buttonTitleDirectives = value;\n      this._buttonTitleDirectives.forEach(titleDirective => {\n         // Update button title when its title in directive changes.\n         titleDirective.titleChangeEvent.subscribe(() => {\n            setTimeout(this.updateButtonTitles);\n         });\n      });\n\n      // when action buttons with directive are changed (added / removed) some of them may go to the menu with\n      // additional actions. There is no other way found to handle toggle menu event, but click on the toggle button.\n      this.subscribeToggleButtonClick();\n   }\n\n   private _btns: ClrButton[];\n\n   @ContentChildren(ClrButton, {descendants: true})\n   set clrButtons(btns: ClrButton[]) {\n      this._btns = btns;\n      this.updateInMenuButtons();\n   }\n\n   constructor(private elRef: ElementRef) {\n   }\n\n   private updateInMenuButtons(): void {\n      const groupWithMenu: boolean = this._btns.length > this._maximumInlineActions;\n      this._btns.forEach((btn, index) => {\n         if (groupWithMenu) {\n            // When the number of buttons exceeds the maximum and the button overflows, place the button in the menu.\n            btn.inMenu = index >= this._maximumInlineActions - 1;\n         } else {\n            btn.inMenu = false;\n         }\n      });\n   }\n\n   private updateButtonTitles = (): void => {\n      const allButtons: HTMLButtonElement[] = this.getVisibleButtons().concat(this.getInMenuButtons());\n      if (!allButtons.length) {\n         return;\n      }\n\n      // if there is a rendered button for the directive - update its title.\n      this._buttonTitleDirectives.forEach(titleDirective => {\n         allButtons.forEach((button: HTMLElement) => {\n            if (button.getAttribute(\"name\") === titleDirective.host.name) {\n               button.title = titleDirective.title;\n            }\n         });\n      });\n   };\n\n   private subscribeToggleButtonClick(): void {\n      // If there is menu with additional buttons, find the toggle button and update button names on click.\n      setTimeout(() => {\n         const toggleButton: HTMLElement | null = this.getToggleButton();\n\n         // if there is a toggle button set function to handle the click event only once.\n         if (toggleButton && !toggleButton.onclick) {\n            toggleButton.onclick = this.updateButtonTitles;\n         }\n      });\n   }\n\n   // the buttons are visible buttons in button group, toggle menu button\n   private getVisibleButtons(): HTMLButtonElement[] {\n      return Array.from(this.elRef.nativeElement.querySelectorAll(\n            ButtonGroupDirective.VISIBLE_BUTTON_ELEMENTS_SELECTOR));\n   }\n\n   // inMenu buttons are rendered outside of the elRef, get them directly from the document\n   private getInMenuButtons(): HTMLButtonElement[] {\n      return Array.from(this.elRef.nativeElement.ownerDocument.querySelectorAll(\n            ButtonGroupDirective.IN_MENU_BUTTON_ELEMENTS_SELECTOR));\n   }\n\n   private getToggleButton(): HTMLElement | null {\n      return this.elRef.nativeElement.querySelector(ButtonGroupDirective.TOGGLE_MENU_BUTTON_SELECTOR);\n   }\n}","/* Copyright 2020-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, EventEmitter, Input, Output} from \"@angular/core\";\nimport {VsanFileServiceShare} from \"@generated/vsan-file-service-share\";\nimport {FileSharePerfData} from \"@component/file-share-perf/file-share-perf-data\";\nimport {VsanPerfPropertyProvider} from \"@generated/vsan-perf-property-provider\";\nimport {PerfMonitorCommonPropsData} from \"@generated/perf-monitor-common-props-data\";\nimport {ManagedObject} from \"@service/managed-object\";\nimport {VolumePerfData} from \"@component/file-share-perf/volume-perf-data\";\n\n@Component({\n   selector: \"file-share-performance-details\",\n   templateUrl: \"share-performance-details.html\",\n   styleUrls: [\"share-performance-details.scss\"],\n})\nexport class SharePerformanceDetailsComponent {\n\n   @Input()\n   share: VsanFileServiceShare;\n\n   @Input()\n   smbProtocolSupported: boolean;\n\n   @Input()\n   smbProtocolLayerPerformanceSupported: boolean;\n\n   @Input()\n   clusterRef: ManagedObject;\n\n   @Output()\n   onError: EventEmitter<string> = new EventEmitter<string>();\n\n   volumePerfData: VolumePerfData;\n\n   constructor(private perfProvider: VsanPerfPropertyProvider) {}\n\n   async ngOnChanges(): Promise<void> {\n      if (!this.share) {\n         return;\n      }\n      await this.queryPerformanceData();\n   }\n\n   async queryPerformanceData(): Promise<void> {\n      try {\n         this.volumePerfData = null;\n         const commonPerfData: PerfMonitorCommonPropsData = await this.perfProvider.getPerfMonitorCommonPropsData(\n               ManagedObject.contextObject);\n\n         const fileSharePerfData: FileSharePerfData = new FileSharePerfData(this.share, this.smbProtocolSupported,\n               this.smbProtocolLayerPerformanceSupported);\n         this.volumePerfData = new VolumePerfData(commonPerfData, fileSharePerfData);\n      } catch (err) {\n         this.onError.emit(err);\n      }\n   }\n\n}\n","<!--Copyright 2020-2021 VMware, Inc. All rights reserved. -- VMware Confidential-->\n<div *ngFor=\"let exportPath of share.accessPoints | keyvalue; let index = index;\"\n     class=\"clr-row\">\n   <label class=\"clr-col-3 clr-control-label\">\n      {{VsanFileShareUtils.getExportPathLabel(exportPath.key)}}\n   </label>\n   <div class=\"copy-icon-entry\">\n      <span>\n         {{exportPath.value}}\n      </span>\n      <vsan-clipboard-icon [content]=\"exportPath.value\"></vsan-clipboard-icon>\n   </div>\n</div>\n\n<div *ngIf=\"share.protocol === VsanFileShareProtocol.SMB\"\n     class=\"clr-row\">\n   <label class=\"clr-col-3 clr-control-label\">\n      {{\"vsan.fileservices.shares.grid.details.mmcCommand\" | localized}}\n   </label>\n   <div class=\"copy-icon-entry\">\n      <span>\n         {{VsanFileShareUtils.getMmcCommand(share)}}\n      </span>\n      <vsan-clipboard-icon [content]=\"VsanFileShareUtils.getMmcCommand(share)\"></vsan-clipboard-icon>\n   </div>\n</div>\n<div class=\"clr-row\">\n   <label class=\"clr-col-3 clr-control-label\">\n      {{\"vsan.fileservices.shares.col.owner.type\" | localized}}\n   </label>\n   <span>{{VsanFileShareUtils.getShareOwnerType(share.managedBy)}}</span>\n</div>\n<div class=\"clr-row\">\n   <label class=\"clr-col-3 clr-control-label\">{{\"vsan.fileservices.shares.grid.details.protocol\" | localized}}</label>\n   <span>{{VsanFileShareUtils.getShareProtocolLabel(share.protocol)}}</span>\n</div>\n<div class=\"clr-row\">\n   <label class=\"clr-col-3 clr-control-label\">\n      {{\"vsan.fileservices.shares.grid.details.host\" | localized}}\n   </label>\n   <div class=\"icon-name-container\">\n      <clr-icon [attr.shape]=\"hostPropertiesMap.get(share.host).iconShape\"></clr-icon>\n      <a href=\"javascript://\" (click)=\"navigateToHost()\">{{share.host}}</a>\n   </div>\n</div>\n<div class=\"clr-row\">\n   <label class=\"clr-col-3 clr-control-label\">\n      {{\"vsan.fileservices.shares.grid.details.container\" | localized}}\n   </label>\n   <span *ngIf=\"share.fileServerFqdn else file_server_ip_only\">\n      {{\"vsan.fileservices.shares.grid.details.fileServer\" | localized: share.fileServerFqdn : share.serverIpAddress}}\n   </span>\n   <ng-template #file_server_ip_only>\n      <span>{{share.serverIpAddress}}</span>\n   </ng-template>\n</div>\n<div *ngIf=\"share.protocol !== VsanFileShareProtocol.SMB else smb_option\"\n     class=\"clr-row\">\n   <label class=\"clr-col-3 clr-control-label\">\n      {{\"vsan.fileservices.shares.grid.details.securityMode\" | localized}}\n   </label>\n   <span *ngIf=\"share.config.securityType === VsanFileShareNfsSecurityType.AUTH_SYS else kerberos\">\n      {{\"vsan.services.fileservices.wizard.activeDirectoryPage.security.authSys\" | localized}}\n   </span>\n   <ng-template #kerberos>\n      <span>{{VsanFileShareUtils.getKerberosText(share.config.securityType)}}</span>\n   </ng-template>\n</div>\n<ng-template #smb_option>\n   <div class=\"clr-row\">\n      <label class=\"clr-col-3 clr-control-label\">\n         {{\"vsan.fileservices.shares.grid.details.smbEncryption\" | localized}}\n      </label>\n      <clr-signpost\n            [vsan-signpost-title]=\"'vsan.fileservices.shares.grid.details.smbEncryption.signpost.label' | localized\">\n         <clr-signpost-content *clrIfOpen clrPosition=\"top-right\">\n            {{\"vsan.fileservices.shares.create.protocol.smb.mandatory.desc\" | localized}}\n         </clr-signpost-content>\n      </clr-signpost>\n      <span>{{VsanFileShareUtils.getSmbEncryptionText(share.smbEncryptionOption)}}</span>\n   </div>\n</ng-template>\n<div *ngIf=\"share.protocol === VsanFileShareProtocol.SMB && smbAbeSupported\"\n     class=\"clr-row\">\n   <label class=\"clr-col-3 clr-control-label\">\n      {{\"vsan.fileservices.shares.create.protocol.smb.abe\" | localized}}\n   </label>\n   <span>{{VsanFileShareUtils.getSmbAbeOptionText(share.config.smbShareOptions.accessBasedEnumeration)}}</span>\n</div>\n<div *ngIf=\"affinitySiteAvailable\"\n     class=\"clr-row\">\n   <label class=\"clr-col-3 clr-control-label\">\n      {{\"vsan.fileservices.affinitySite.label\" | localized}}\n   </label>\n   <span>{{getAffinitySite(share.config.affinityLocation)}}</span>\n</div>\n<div class=\"clr-row\">\n   <label class=\"clr-col-3 clr-control-label\">\n      {{\"vsan.fileservices.shares.grid.details.policy\" | localized}}\n   </label>\n   <storage-policy-cell [storagePolicyId]=\"share.config.policyId\" [storagePolicyName]=\"getPolicyName()\">\n   </storage-policy-cell>\n</div>\n<div class=\"clr-row\">\n   <label class=\"clr-col-3 clr-control-label\">\n      {{\"vsan.fileservices.shares.col.label\" | localized}}\n   </label>\n   <div id=\"labels\" *ngIf=\"share.config.labels?.length else general_empty_label\">\n      <div *ngFor=\"let label of share.config.labels\" class=\"label label-light-blue\">\n         <span>{{label.key}}</span>\n         <span class=\"badge badge-light-blue\">{{label.value}}</span>\n      </div>\n   </div>\n</div>\n<div class=\"clr-row\">\n   <label class=\"clr-col-3 clr-control-label\">\n      {{\"vsan.fileservices.shares.grid.details.warningThreshold\" | localized}}\n   </label>\n   <span *ngIf=\"share.config.softQuotaSize && share.config.softQuota else general_empty_label\">\n      {{\"vsan.fileservices.shares.quota\" | localized: getLocalizedNumber(share.config.softQuota)\n         : VsanFileShareUtils.getSizeLabel(share.config.softQuotaSize)}}\n   </span>\n</div>\n<div class=\"clr-row\">\n   <label class=\"clr-col-3 clr-control-label\">\n      {{\"vsan.fileservices.shares.grid.details.hardQuota\" | localized}}\n   </label>\n   <span *ngIf=\"share.config.quota && share.config.quotaSize else general_empty_label\">\n      {{\"vsan.fileservices.shares.quota\" | localized: getLocalizedNumber(share.config.quota)\n         : VsanFileShareUtils.getSizeLabel(share.config.quotaSize)}}\n   </span>\n</div>\n<div class=\"clr-row\">\n   <label class=\"clr-col-3 clr-control-label\">\n      {{\"vsan.fileservices.shares.grid.details.acutalUsage\" | localized}}\n   </label>\n   {{share.usedCapacity | fileSize}}\n</div>\n<div class=\"clr-row\">\n   <label class=\"clr-col-3 clr-control-label\">\n      {{\"vsan.fileservices.shares.grid.details.overQuota\" | localized}}\n   </label>\n   <div class=\"progress progress-static labeled\"\n        *ngIf=\"share?.config?.quota; else general_empty_label\"\n        [title]=\"VsanFileShareUtils.getProgressTitle(share)\">\n      <div class=\"progress-meter\"\n           [ngClass]=\"VsanFileShareUtils.getProgressClass(share)\"\n           [attr.data-value]=\"share.usageOverQuota\">\n      </div>\n      <span>{{\"vsan.fileservices.shares.quotaPercent\" | localized: share.usageOverQuota}}</span>\n   </div>\n</div>\n<div *ngIf=\"share.protocol !== VsanFileShareProtocol.SMB\"\n     class=\"clr-row\">\n   <label class=\"clr-col-3 clr-control-label\">\n      {{\"vsan.fileservices.shares.create.page.netAccessControl.title\" | localized}}\n   </label>\n   <vsan-file-share-net-permission [shareConfig]=\"share.config\"></vsan-file-share-net-permission>\n</div>\n<div *ngIf=\"isFileAnalyticsEnabledOnCluster\"\n     class=\"clr-row\">\n   <label class=\"clr-col-3 clr-control-label\">\n      {{\"vsan.fileservices.shares.col.fileAnalytics\" | localized}}\n   </label>\n   <span>{{getFileAnalyticsStatus()}}</span>\n</div>\n\n<ng-template #general_empty_label>\n   <span>{{\"vsan.na.label\" | localized}}</span>\n</ng-template>\n","/* Copyright 2019-2020 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {BaseComparator} from \"@component/datagrid/comparator/base-comparator\";\nimport {VsanFileServiceShare} from \"@generated/vsan-file-service-share\";\n\n/**\n * Comparator for file share usage\n */\nexport class VsanFileShareUsageComparator extends BaseComparator<VsanFileServiceShare> {\n   constructor(private dataField: string) {\n      super();\n   }\n\n   protected compareValue(a: VsanFileServiceShare, b: VsanFileServiceShare): number {\n      const value1: string = this.stringify(a, this.dataField);\n      const value2: string = this.stringify(b, this.dataField);\n      if (!isNaN(parseInt(value1)) && !isNaN(parseInt(value2))) {\n         return parseInt(value1) - parseInt(value2);\n      } else if (!isNaN(parseInt(value1))) {\n         return 1;\n      } else if (!isNaN(parseInt(value2))) {\n         return -1;\n      }\n      return 0;\n   }\n}\n","/* Copyright 2017-2022 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, OnInit} from \"@angular/core\";\nimport {ManagedObject} from \"@service/managed-object\";\nimport {VsanFileServiceConfigService} from \"@generated/vsan-file-service-config-service\";\nimport {VsanFileServiceShare} from \"@generated/vsan-file-service-share\";\nimport {Logger} from \"@util/logger\";\nimport {ModalBuilder} from \"@util/modal-builder\";\nimport {RefreshHandler} from \"@service/global-refresh.service\";\nimport {VsanFileServiceCommonConfig} from \"@generated/vsan-file-service-common-config\";\nimport {VsanFileServiceDomain} from \"@generated/vsan-file-service-domain\";\nimport {PermissionService} from \"@generated/permission-service\";\nimport {Privileges} from \"@generated/privileges\";\nimport {FileServicesCreateShareWizardModalContext} from \"../create-share/create-share-modal-context.data\";\nimport {FileServicesDeleteShareWizardModalContext} from \"../delete-share/delete-share-modal-context.data\";\nimport {PbmDataProvider} from \"@generated/pbm-data-provider\";\nimport {StoragePolicyData} from \"@generated/storage-policy-data\";\nimport {TaskMonitorService} from \"@service/task-monitor-service\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {VsanFileServiceHostIpSettings} from \"@generated/vsan-file-service-host-ip-settings\";\nimport {SharesContext} from \"@navigation/context/shares-context\";\nimport {VsanCapabilityProvider} from \"@generated/vsan-capability-provider\";\nimport {VsanCapabilityData} from \"@generated/vsan-capability-data\";\nimport {VsanFileShareOwnerType} from \"@generated/vsan-file-share-owner-type\";\nimport {VsanFileShareProtocol} from \"@generated/vsan-file-share-protocol\";\nimport {FileSharesPaginationResult} from \"@generated/file-shares-pagination-result\";\nimport {ClrDatagridStateInterface} from \"@clr/angular\";\nimport {FileShareLoaderFactory} from \"./loader/file-share-loader-factory\";\nimport {IFileShareLoader} from \"./loader/file-share-loader\";\nimport {VsanFileShareUtils} from \"./file-share-util\";\nimport {SelectOption} from \"../select-option\";\nimport {ComputeInventoryService} from \"@generated/compute-inventory-service\";\nimport {InventoryEntryData} from \"@generated/inventory-entry-data\";\nimport {FileServiceFeature} from \"@generated/file-service-feature\";\nimport {FileShareTypeFilterOptions} from \"./filters/file-share-type-filter-options\";\nimport {FilterContextKey} from \"@generated/filter-context-key\";\nimport {VsanStretchedClusterService} from \"@generated/vsan-stretched-cluster-service\";\nimport {DomainOrHostData} from \"@generated/domain-or-host-data\";\nimport {FileServiceUtil} from \"../file-service-util\";\nimport {Subject} from \"rxjs\";\nimport {LoadingIndicator} from \"@service/flow/loading-indicator.decorator\";\nimport {ErrorMessage} from \"@service/flow/error-message.decorator\";\nimport {Loader} from \"@service/flow/loader.decorator\";\nimport {SrMessageType} from \"@service/screen-reader-announcer.service\";\n\n@Component({\n   templateUrl: \"shares.html\",\n   styleUrls: [\"shares.scss\"],\n   selector: \"vsan-file-service-shares\",\n})\nexport class FileServicesSharesComponent implements OnInit {\n   private static readonly SHARES_LOADER: string = \"shares-loader\";\n   private static readonly FETCH_LOADER: string = \"fetch-loader\";\n\n   private sharesLoader: IFileShareLoader;\n\n   clusterRef: ManagedObject;\n\n   @LoadingIndicator({name: FileServicesSharesComponent.FETCH_LOADER})\n   loading: boolean;\n\n   policies: StoragePolicyData[];\n   fileShares: VsanFileServiceShare[];\n   shareConfigs: VsanFileServiceShare[]; // This only contains share names, and it is beyond the pagination limit\n   totalCount: number = 0;\n\n   @LoadingIndicator({name: FileServicesSharesComponent.SHARES_LOADER})\n   loadingShares: boolean;\n\n   selectedShares: VsanFileServiceShare[];\n   preselectedShareName: string;\n\n   @ErrorMessage({\n      name: [\n         FileServicesSharesComponent.FETCH_LOADER, FileServicesSharesComponent.SHARES_LOADER],\n   })\n   error: string;\n\n   domainConfig: VsanFileServiceDomain;\n   hasEditPermission: boolean;\n   hasReadPolicyPermission: boolean;\n   fileServiceConfig: VsanFileServiceCommonConfig;\n   vcCapabilityData: VsanCapabilityData;\n   paginationSupported: boolean;\n   smbProtocolSupported: boolean;\n   smbProtocolLayerPerformanceSupported: boolean;\n   kerberosSupported: boolean;\n   snapshotSupported: boolean;\n   affinitySiteSupported: boolean;\n   smbAbeSupported: boolean;\n\n   copiedUrl: string;\n   copyUrlTooltipVisible: boolean;\n\n   copyMmcCommandTooltipVisible: boolean;\n\n   VsanFileShareUtils: typeof VsanFileShareUtils = VsanFileShareUtils;\n   state: ClrDatagridStateInterface;\n\n   shareTypeFilter: FileShareTypeFilterOptions = FileShareTypeFilterOptions.FILE_SHARE;\n\n   shareTypeFilterOptions: SelectOption<FileShareTypeFilterOptions>[] = [\n      {\n         value: FileShareTypeFilterOptions.FILE_SHARE,\n         label: VsanUiUtils.getString(\"vsan.fileservices.shares.filter.type.user\"),\n      } as SelectOption<FileShareTypeFilterOptions>,\n      {\n         value: FileShareTypeFilterOptions.CNS_VOLUME,\n         label: VsanUiUtils.getString(\"vsan.fileservices.shares.filter.type.cns\"),\n      } as SelectOption<FileShareTypeFilterOptions>,\n      {\n         value: FileShareTypeFilterOptions.ALL,\n         label: VsanUiUtils.getString(\"vsan.fileservices.shares.filter.type.all\"),\n      } as SelectOption<FileShareTypeFilterOptions>,\n   ];\n\n   hostPropertiesMap: Map<string, any> = new Map<string, any>();\n   availableDomains: DomainOrHostData[];\n   isStretchedCluster: boolean;\n   showSnapshots: Subject<void> = new Subject<void>();\n   showAnalytics: Subject<void> = new Subject<void>();\n\n   constructor(private fileServicesConfigService: VsanFileServiceConfigService,\n         private shareLoaderFactory: FileShareLoaderFactory,\n         private permissionService: PermissionService,\n         private spbmService: PbmDataProvider,\n         private taskMonitor: TaskMonitorService,\n         private inventoryService: ComputeInventoryService,\n         private stretchedClusterService: VsanStretchedClusterService,\n         private capabilityProvider: VsanCapabilityProvider) {\n   }\n\n   async ngOnInit(): Promise<void> {\n      this.clusterRef = ManagedObject.contextObject;\n      const context: SharesContext = VsanUiUtils.getNavigationData();\n      if (context && context.preselectedShareName) {\n         this.preselectedShareName = context.preselectedShareName;\n         this.shareTypeFilter = context.shareTypeFilter;\n      }\n      await this.fetch();\n   }\n\n   @RefreshHandler\n   @Loader({\n      name: FileServicesSharesComponent.FETCH_LOADER,\n      srMessage: \"vsan.fileservices.shares.title\",\n      srMessageType: SrMessageType.PAGE_TITLE,\n   })\n   private async fetch(): Promise<void> {\n      await Promise.all([\n         this.getFileServiceConfig(),\n         this.getEditPermission(),\n         this.getReadPolicyPermission(),\n         this.getSpbmPolicyPermission(),\n         this.getVcCapabilities(),\n         this.getHostsData(),\n         this.getSupportedRuntimeFeatures(),\n         this.getAvailableDomains(),\n         this.getIsStretchedCluster(),\n      ]);\n\n      if (this.domainConfig) {\n         this.sharesLoader = this.shareLoaderFactory.createLoader(\n               this.paginationSupported,\n               this.domainConfig.name);\n      }\n   }\n\n   private async getFileServiceConfig(): Promise<void> {\n      const config: VsanFileServiceCommonConfig = await this.fileServicesConfigService.getConfig(this.clusterRef);\n      this.fileServiceConfig = config;\n      if (!!this.fileServiceConfig) {\n         this.domainConfig = config.domainConfig;\n      }\n   }\n\n   private async getEditPermission(): Promise<void> {\n      this.hasEditPermission = await this.permissionService\n            .hasPermissions(this.clusterRef, [Privileges.CONFIG_STORAGE()]);\n   }\n\n   private async getReadPolicyPermission(): Promise<void> {\n      this.hasReadPolicyPermission = await this.permissionService\n            .hasVcPermissions(ManagedObject.contextObject, [Privileges.READ_POLICIES()]);\n   }\n\n   private async getSpbmPolicyPermission(): Promise<void> {\n      this.policies = await this.spbmService.getStoragePolicies(this.clusterRef);\n   }\n\n   private async getVcCapabilities(): Promise<void> {\n      this.vcCapabilityData = await this.capabilityProvider.getVcCapabilityData(this.clusterRef);\n   }\n\n   private async getHostsData(): Promise<void> {\n      const filterContext: any = {};\n      filterContext[FilterContextKey.CONTEXT_REF.toString()] = ManagedObject.contextObject;\n      const hostsData: InventoryEntryData[] = await this.inventoryService.getNodeChildren(\n            ManagedObject.contextObject, filterContext);\n      hostsData.forEach(host => this.hostPropertiesMap.set(host.name, host));\n   }\n\n   private async getSupportedRuntimeFeatures(): Promise<void> {\n      try {\n         const result: any[] = await this.fileServicesConfigService.isFeatureSupportedOnRuntime(\n               this.clusterRef,\n               [\n                  FileServiceFeature.PAGINATION,\n                  FileServiceFeature.SMB,\n                  FileServiceFeature.KERBEROS,\n                  FileServiceFeature.SNAPSHOT,\n                  FileServiceFeature.AFFINITY_SITE,\n                  FileServiceFeature.SMB_PERFORMANCE,\n                  FileServiceFeature.SMB_ABE,\n               ]);\n         this.paginationSupported = result[FileServiceFeature.PAGINATION];\n         this.smbProtocolSupported = result[FileServiceFeature.SMB];\n         this.kerberosSupported = result[FileServiceFeature.KERBEROS];\n         this.snapshotSupported = result[FileServiceFeature.SNAPSHOT];\n         this.affinitySiteSupported = result[FileServiceFeature.AFFINITY_SITE];\n         this.smbProtocolLayerPerformanceSupported = result[FileServiceFeature.SMB_PERFORMANCE];\n         this.smbAbeSupported = result[FileServiceFeature.SMB_ABE];\n         if (this.paginationSupported) {\n            this.shareConfigs = await this.fileServicesConfigService.getFileShareAttributes(\n                  this.clusterRef, [FileServiceUtil.SHARE_NAME_PROPERTY]);\n         }\n      } catch (error) {\n         Logger.warn(\"Failed to query file service runtime features. \", error);\n         this.paginationSupported = false;\n         this.smbProtocolSupported = false;\n         this.kerberosSupported = false;\n         this.snapshotSupported = false;\n         this.affinitySiteSupported = false;\n         this.smbProtocolLayerPerformanceSupported = false;\n         this.smbAbeSupported = false;\n      }\n   }\n\n   private async getAvailableDomains(): Promise<void> {\n      this.availableDomains = await this.stretchedClusterService.getAvailableDomains(this.clusterRef);\n   }\n\n   private async getIsStretchedCluster(): Promise<void> {\n      this.isStretchedCluster = await this.stretchedClusterService.getIsVsanStretchedCluster(this.clusterRef);\n   }\n\n   @Loader({\n      name: FileServicesSharesComponent.SHARES_LOADER,\n      srMessage: \"vsan.fileservices.shares.title\",\n      srMessageType: SrMessageType.DATA,\n   })\n   async loadFileShares(state: ClrDatagridStateInterface): Promise<void> {\n      this.state = state;\n      const fileSharesPaginatedResult: FileSharesPaginationResult =\n            await this.sharesLoader.load(state, this.getTypeFilterValue());\n      this.totalCount = fileSharesPaginatedResult.total;\n      this.fileShares = fileSharesPaginatedResult.shares;\n      // re-select the selected shares\n      this.selectShares();\n   }\n\n   private getTypeFilterValue = (): string => {\n      if (!this.paginationSupported || this.shareTypeFilter === FileShareTypeFilterOptions.ALL) {\n         return \"\";\n      }\n      return this.shareTypeFilter.toString();\n   };\n\n   /**\n    * If we have selected share object before fetching the list again,\n    * we need to reset them in case the share was updated.\n    */\n   private selectShares = () => {\n      if (!VsanUiUtils.isEmpty(this.selectedShares)) {\n         this.selectedShares = this.fileShares\n               .filter(share => this.selectedShares.some(item => item.uuid === share.uuid));\n      } else if (this.preselectedShareName) {\n         this.selectedShares = this.fileShares\n               .filter(share => share.config.name === this.preselectedShareName);\n      }\n   };\n\n   onAdd(): void {\n      new ModalBuilder(\"createFileShare\")\n            .setDimensions(ModalBuilder.WIZARD_XL)\n            .open(this.getShareContext(null))\n            .then(this.awaitTask);\n   }\n\n   onEdit(): void {\n      new ModalBuilder(\"createFileShare\")\n            .setDimensions(ModalBuilder.WIZARD_XL)\n            .open(this.getShareContext(this.selectedShares[0]))\n            .then(this.awaitTask);\n   }\n\n   getShareContext(share: VsanFileServiceShare): FileServicesCreateShareWizardModalContext {\n      return {\n         clusterRef: this.clusterRef,\n         share: share ? share.config : null,\n         shareUuid: share ? share.uuid : null,\n         domain: this.domainConfig,\n         policies: this.policies,\n         vcCapabilityData: this.vcCapabilityData,\n         isFileAnalyticsEnabledOnCluster: this.fileServiceConfig.isFileAnalyticsEnabled,\n         isAffinitySiteSupported: this.affinitySiteSupported && this.isStretchedCluster,\n         isKerberosSupported: this.kerberosSupported,\n         isSmbProtocolSupported: this.smbProtocolSupported,\n         isSmbAbeSupported: this.smbAbeSupported,\n      };\n   }\n\n   onDelete(): void {\n      const context: FileServicesDeleteShareWizardModalContext = {\n         clusterRef: this.clusterRef,\n         domain: this.domainConfig,\n         shares: this.selectedShares,\n      };\n      new ModalBuilder(\"fileServiceShares/deleteShare\")\n            .setSize(580, 260)\n            .open(context)\n            .then((task) => {\n               this.selectedShares = [];\n               this.awaitTask(task);\n            });\n   }\n\n   onCopiedSuccess = (event: any) => {\n      this.copiedUrl = event.content;\n      this.copyUrlTooltipVisible = true;\n   };\n\n   private awaitTask = (taskRef: ManagedObject | ManagedObject[]) => {\n      if (Array.isArray(taskRef)) {\n         Promise.all(taskRef.map(task => this.taskMonitor.getAwaitResult(task)))\n               .then(this.fetch.bind(this))\n               .catch(err => this.error = err);\n         return;\n      }\n      this.taskMonitor.getAwaitResult(taskRef)\n            .then(this.fetch.bind(this))\n            .catch(err => this.error = err);\n   };\n\n   get defaultIp(): string {\n      if (this.domainConfig) {\n         const defaultIp: VsanFileServiceHostIpSettings =\n               this.domainConfig.ipSettings.find(ipSetting => ipSetting.isDefault);\n         if (defaultIp) {\n            return defaultIp.address;\n         }\n      }\n      return \"\";\n   }\n\n   areSelectedSharesManagedByUser(): boolean {\n      return !VsanUiUtils.isEmpty(this.selectedShares)\n            && this.selectedShares.every(share => share.managedBy === VsanFileShareOwnerType.USER);\n   }\n\n   isSelectedShareManagedByUser(): boolean {\n      return VsanUiUtils.isSingleElement(this.selectedShares)\n            && this.selectedShares[0].managedBy === VsanFileShareOwnerType.USER;\n   }\n\n   isSmbShareSelected(): boolean {\n      return !VsanUiUtils.isEmpty(this.selectedShares)\n            && this.selectedShares.length === 1\n            && this.selectedShares[0].protocol === VsanFileShareProtocol.SMB;\n   }\n\n   get smbShareMmc(): string {\n      if (VsanUiUtils.isEmpty(this.selectedShares)) {\n         return null;\n      }\n      return VsanFileShareUtils.getMmcCommand(this.selectedShares[0]);\n   }\n\n   getProtocolLabel(protocol: string): string {\n      return VsanFileShareUtils.getExportPathMenuLabel(protocol);\n   }\n\n   get showPreselectedItemDetails(): boolean {\n      return !!this.preselectedShareName;\n   }\n}\n","/* Copyright 2019-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {FormsModule} from \"@angular/forms\";\nimport {ClarityModule} from \"@clr/angular\";\nimport {ValidationModule} from \"@component/validation/validation.module\";\nimport {CommonPipeModule} from \"@pipe/common-pipe.module\";\nimport {CommonDirectiveModule} from \"@directive/common-directive.module\";\nimport {HealthStatusCell} from \"@component/cell/health-status-cell.component\";\nimport {LabelCell} from \"@component/cell/label-cell.component\";\nimport {StoragePolicyCell} from \"@component/cell/storage-policy-cell.component\";\nimport {MorCell} from \"@component/cell/mor-cell.component\";\nimport {IconItemComponent} from \"@component/cell/icon-item.component\";\nimport {HealthStateItemComponent} from \"@component/cell/health-state-item.component\";\nimport {ListCell} from \"@component/cell/list-cell.component\";\nimport {PspHealthStateItemComponent} from \"@component/cell/psp-health-state-item.component\";\nimport {HealthTestValueComponent} from \"@component/cell/health-test-value.component\";\nimport {HealthLinkCellComponent} from \"@component/cell/health-link-cell.component\";\nimport {HealthMorCellComponent} from \"@component/cell/health-mor-cell.component\";\n\n@NgModule({\n   imports: [\n      CommonModule,\n      FormsModule,\n      ClarityModule,\n      ValidationModule,\n      CommonPipeModule,\n      CommonDirectiveModule,\n   ],\n   // TODO: (vasilevd) Move health specific components to a separate common health module\n   declarations: [\n      HealthStatusCell,\n      HealthTestValueComponent,\n      LabelCell,\n      StoragePolicyCell,\n      MorCell,\n      HealthMorCellComponent,\n      ListCell,\n      IconItemComponent,\n      HealthStateItemComponent,\n      PspHealthStateItemComponent,\n      HealthLinkCellComponent,\n   ],\n   exports: [\n      HealthStatusCell,\n      HealthTestValueComponent,\n      LabelCell,\n      StoragePolicyCell,\n      MorCell,\n      HealthMorCellComponent,\n      ListCell,\n      IconItemComponent,\n      HealthStateItemComponent,\n      PspHealthStateItemComponent,\n      HealthLinkCellComponent,\n   ],\n})\nexport class CommonCellsModule {\n}\n","/* Copyright 2017-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, OnInit} from \"@angular/core\";\nimport {ManagedObject} from \"@service/managed-object\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {FileServicesDeleteShareWizardModalContext} from \"./delete-share-modal-context.data\";\nimport {VsanFileSharesService} from \"@generated/vsan-file-shares-service\";\nimport {VsanFileServiceDomain} from \"@generated/vsan-file-service-domain\";\nimport {VsanFileServiceShare} from \"@generated/vsan-file-service-share\";\n\n@Component({\n   templateUrl: \"delete-share.html\",\n   selector: \"vsan-file-service-delete-share\",\n   styleUrls: [\"delete-share.scss\"],\n})\nexport class DeleteShareComponent implements OnInit {\n\n   clusterRef: ManagedObject;\n   domain: VsanFileServiceDomain;\n   shares: VsanFileServiceShare[];\n   errors: string[];\n   loading: boolean;\n\n   constructor(private fileServiceShareService: VsanFileSharesService) {\n   }\n\n   ngOnInit(): void {\n      const context: FileServicesDeleteShareWizardModalContext =\n            VsanUiUtils.getModalContext() as FileServicesDeleteShareWizardModalContext;\n      this.clusterRef = context.clusterRef;\n      this.domain = context.domain;\n      this.shares = context.shares;\n   }\n\n   async confirm(): Promise<void> {\n      this.errors = null;\n      const shareUuids: string[] = this.shares.map(share => share.uuid);\n      try {\n         this.loading = true;\n         const taskRefs: ManagedObject[] = await this.fileServiceShareService.deleteShares(this.clusterRef, shareUuids);\n         VsanUiUtils.closeModalDialog(taskRefs);\n      } catch (error) {\n         this.errors  = [error];\n      } finally {\n         this.loading = false;\n      }\n   }\n}\n","/* Copyright 2020-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, OnInit} from \"@angular/core\";\nimport {ManagedObject} from \"@service/managed-object\";\nimport {VsanFileServiceSnapshotService} from \"@generated/vsan-file-service-snapshot-service\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {VsanFileShareSnapshotConfig} from \"@generated/vsan-file-share-snapshot-config\";\nimport {\n   AbstractControl,\n   FormBuilder,\n   FormControl,\n   FormGroup,\n   ValidationErrors,\n   ValidatorFn,\n} from \"@angular/forms\";\nimport {VsanFileShareUtils} from \"../file-share-util\";\nimport {FileServiceCreateSnapshotModalContext} from \"./create-snapshot-modal-context.data\";\nimport {ReactiveFormUtil} from \"@util/reactive-form-util\";\n\n@Component({\n   selector: \"vsan-file-service-create-snapshot\",\n   templateUrl: \"create-snapshot.html\",\n   styleUrls: [\"create-snapshot.scss\"],\n})\nexport class CreateSnapshotComponent implements OnInit {\n   private readonly MAX_NAME_LENGTH: number = 100;\n\n   private shareUuid: string;\n   private existingSnapshots: string[];\n   private clusterRef: ManagedObject;\n\n   SNAPSHOT_NAME_CONTROL_NAME: string = \"name\";\n   nameValidateError: string;\n   processing: boolean;\n   errorMessage: string[];\n\n   snapshotConfigGroup: FormGroup;\n\n   constructor(private snapshotService: VsanFileServiceSnapshotService, private formBuilder: FormBuilder) {}\n\n   ngOnInit(): void {\n      const context: FileServiceCreateSnapshotModalContext =\n            VsanUiUtils.getModalContext() as FileServiceCreateSnapshotModalContext;\n      this.shareUuid = context.share.uuid;\n      this.existingSnapshots = context.existingSnapshots;\n\n      this.clusterRef = ManagedObject.contextObject;\n\n      this.snapshotConfigGroup = this.formBuilder.group({\n         name: new FormControl(\"\", [this.nameValidator]),\n      });\n   }\n\n   nameValidator: ValidatorFn = (control: AbstractControl): ValidationErrors => {\n      if (!control.touched) {\n         return;\n      }\n      this.nameValidateError = this.validateName(control.value);\n      if (this.nameValidateError) {\n         return {nameInvalid: {value: control.value}};\n      }\n      return null;\n   };\n\n   validateName(name: string): string {\n      if (VsanUiUtils.isEmpty(name.trim())) {\n         return VsanUiUtils.getString(\"vsan.fileservices.snapshot.create.dialog.name.empty\");\n      } else if (VsanUiUtils.getUtf8Length(name) > this.MAX_NAME_LENGTH) {\n         return VsanUiUtils.getString(\"vsan.fileservices.snapshot.create.dialog.name.max.length.exceed\");\n      } else if (VsanFileShareUtils.INVALID_CHARS.test(name)) {\n         return VsanUiUtils.getString(\"vsan.fileservices.snapshot.create.dialog.name.invalid.chars\");\n      } else if (this.existingSnapshots.indexOf(name) !== -1) {\n         return VsanUiUtils.getString(\"vsan.fileservices.snapshot.create.dialog.name.existing\");\n      }\n      return null;\n   }\n\n   get hasErrors(): boolean {\n      return !VsanUiUtils.isEmpty(this.errorMessage) || !VsanUiUtils.isEmpty(this.nameValidateError);\n   }\n\n   ok = async () => {\n      ReactiveFormUtil.validateAllFormFields(this.snapshotConfigGroup);\n      if (!VsanUiUtils.isEmpty(this.nameValidateError)) {\n         return;\n      }\n      try {\n         this.processing = true;\n         const configSpec: VsanFileShareSnapshotConfig = VsanFileShareSnapshotConfig.Factory.create(\n               this.snapshotConfigGroup.get(this.SNAPSHOT_NAME_CONTROL_NAME).value, this.shareUuid);\n         const task: ManagedObject = await this.snapshotService.createShareSnapshot(this.clusterRef, configSpec);\n         VsanUiUtils.closeModalDialog(task);\n      } catch (err) {\n         this.errorMessage = [err];\n      } finally {\n         this.processing = false;\n      }\n   };\n\n   cancel = () => {\n      VsanUiUtils.closeModalDialog();\n   };\n}\n","/* Copyright 2020 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {BaseComparator} from \"@component/datagrid/comparator/base-comparator\";\nimport {VsanFileShareUtils} from \"../file-share-util\";\nimport {VsanFileShareProtocol} from \"@generated/vsan-file-share-protocol\";\nimport {VsanFileServiceShare} from \"@generated/vsan-file-service-share\";\n\n/**\n * Comparator for file share protocol\n */\nexport class VsanFileShareProtocolComparator extends BaseComparator<VsanFileServiceShare> {\n   protected compareValue(a: VsanFileServiceShare, b: VsanFileServiceShare): number {\n      const dataField: string = VsanFileShareUtils.PROTOCOL_FIELD;\n      const protocolText1: string = this.stringify(a, dataField);\n      const protocolText2: string = this.stringify(b, dataField);\n      const protocol1: string = VsanFileShareUtils.getShareProtocolLabel(VsanFileShareProtocol[protocolText1]);\n      const protocol2: string = VsanFileShareUtils.getShareProtocolLabel(VsanFileShareProtocol[protocolText2]);\n      return protocol1.localeCompare(protocol2);\n   }\n}\n","/* Copyright 2020-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, Input} from \"@angular/core\";\nimport {VsanFileServiceShare} from \"@generated/vsan-file-service-share\";\nimport {VsanFileShareProtocol} from \"@generated/vsan-file-share-protocol\";\nimport {VsanFileShareUtils} from \"../file-share-util\";\nimport {VsanFileShareNfsSecurityType} from \"@generated/vsan-file-share-nfs-security-type\";\nimport {StoragePolicyData} from \"@generated/storage-policy-data\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {NavigationService, PlatformExtension} from \"@navigation/navigation.service\";\nimport {AffinitySiteLocation} from \"@generated/affinity-site-location\";\nimport {FileServiceUtil} from \"../../file-service-util\";\nimport {ServiceUtils} from \"../../../services/service.utils\";\nimport {DomainOrHostData} from \"@generated/domain-or-host-data\";\n\n@Component({\n   selector: \"file-share-basic-details\",\n   templateUrl: \"share-basic-details.html\",\n   styleUrls: [\"share-basic-details.scss\"],\n})\nexport class ShareBasicDetailsComponent {\n   VsanFileShareProtocol: typeof VsanFileShareProtocol = VsanFileShareProtocol;\n   VsanFileShareUtils: typeof VsanFileShareUtils = VsanFileShareUtils;\n   VsanFileShareNfsSecurityType: typeof VsanFileShareNfsSecurityType = VsanFileShareNfsSecurityType;\n\n   @Input()\n   share: VsanFileServiceShare;\n\n   @Input()\n   policies: StoragePolicyData[];\n\n   @Input()\n   hostPropertiesMap: Map<string, any>;\n\n   @Input()\n   availableDomains: DomainOrHostData[];\n\n   @Input()\n   affinitySiteAvailable: boolean;\n\n   @Input()\n   smbAbeSupported: boolean;\n\n   @Input()\n   isFileAnalyticsEnabledOnCluster: boolean;\n\n   constructor(private navigationService: NavigationService) {}\n\n   getPolicyName(): string {\n      let policy: StoragePolicyData;\n      if (this.policies) {\n         policy = this.policies.find(policyItem => policyItem.id === this.share.config.policyId);\n      }\n      return policy ? policy.name : null;\n   }\n\n   getLocalizedNumber(number: number): string {\n      return VsanUiUtils.localizeNumber(number);\n   }\n\n   getAffinitySite(site: AffinitySiteLocation): string {\n      return FileServiceUtil.getAffinitySiteLabel(site, this.availableDomains);\n   }\n\n   getFileAnalyticsStatus(): string {\n      return ServiceUtils.enabledStateLabel(this.share.config.isFileAnalyticsEnabled);\n   }\n\n   navigateToHost(): void {\n      this.navigationService.navigateTo(\n            PlatformExtension.HOST_SUMMARY,\n            this.hostPropertiesMap.get(this.share.host).nodeRef);\n   }\n}\n","/* Copyright 2020-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, ElementRef, HostListener, Input, ViewChild} from \"@angular/core\";\nimport {ClrDatagridFilter, ClrDatagridFilterInterface} from \"@clr/angular\";\nimport {Subject} from \"rxjs\";\nimport {VsanFileServiceShare} from \"@generated/vsan-file-service-share\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\n\n@Component ({\n   selector: \"vsan-file-share-name-filter\",\n   templateUrl: \"file-share-name-filter.html\",\n   styleUrls: [\"file-share-name-filter.scss\"],\n})\nexport class ShareNameFilterComponent implements ClrDatagridFilterInterface<any> {\n   @Input()\n   private allShares: VsanFileServiceShare[];\n\n   @ViewChild(\"fileShareDropdownElement\")\n   private fileShareDropdownElement: ElementRef;\n\n   // This is for generating the share query spec when the filter is activated\n   vsanDgField: string = \"config.name\";\n\n   selectedFilterValues: string[];\n\n   isDropdownOpened: boolean;\n\n   matchedShares: VsanFileServiceShare[];\n\n   private _search: string;\n\n   set search(val: string) {\n      this._search = val;\n      if (VsanUiUtils.isEmpty(val)) {\n         this.matchedShares = [];\n         if (!VsanUiUtils.isEmpty(this.selectedFilterValues)) {\n            this.startFilter();\n         }\n         return;\n      }\n      if (VsanUiUtils.isEmpty(this.allShares)) {\n         this.isDropdownOpened = false;\n         return;\n      }\n      this.openDropdown();\n   }\n\n   get search(): string {\n      return this._search;\n   }\n\n   // overrides parent\n   changes: Subject<string[]> = new Subject<string[]>();\n\n   constructor(private filterContainer: ClrDatagridFilter) {\n      filterContainer.setFilter(this);\n   }\n\n   private openDropdown(): void {\n      this.matchedShares = this.allShares.filter(share =>\n            share.config.name.toLowerCase().indexOf(this.search.trim().toLowerCase()) > -1);\n      this.isDropdownOpened = true;\n   }\n\n   isActive(): boolean {\n      return !VsanUiUtils.isEmpty(this.search);\n   }\n\n   // overrides parent\n   accepts(item: VsanFileServiceShare): boolean {\n      return item.config.name.toLowerCase().includes(this.search.trim());\n   }\n\n   selectShare(share: VsanFileServiceShare): void {\n      this.search = share.config.name;\n      this.isDropdownOpened = false;\n      this.matchedShares = [share];\n      this.startFilter();\n   }\n\n   startFilter(): void {\n      this.selectedFilterValues = [];\n      if (!VsanUiUtils.isEmpty(this.matchedShares)) {\n         this.selectedFilterValues = this.matchedShares.map(share => share.config.name);\n      }\n      this.changes.next(this.selectedFilterValues);\n   }\n\n   @HostListener(\"click\", [\"$event\"])\n   clickout(event: Event): void {\n      // close the dropdown if user clicks outside of the dropdown element\n      if (this.isDropdownOpened &&\n            !this.fileShareDropdownElement.nativeElement.contains(event.target)) {\n         this.isDropdownOpened = false;\n      }\n   }\n}\n","<!--Copyright 2020-2022 VMware, Inc. All rights reserved. -- VMware Confidential-->\n<vsan-edit-prompt\n      [title]=\"'vsan.fileservices.snapshot.create.dialog.title' | localized\"\n      [cancelText]=\"'vsan.common.cancel' | localized\"\n      [confirmText]=\"'vsan.common.create' | localized\"\n      [blockButton]=\"processing || hasErrors\"\n      [(alertMessages)]=\"errorMessage\"\n      (onConfirm)=\"ok()\"\n      (onCancel)=\"cancel()\">\n   <form *ngIf=\"snapshotConfigGroup\"\n         clrForm\n         clrLayout=\"horizontal\"\n         [formGroup]=\"snapshotConfigGroup\">\n      <clr-input-container class=\"control-full-width\">\n         <label class=\"clr-col-md-4\">\n            {{\"vsan.fileservices.snapshot.create.dialog.name.label\" | localized}}\n         </label>\n         <input clrInput\n                vsan-auto-focus\n                id=\"snapshot-name\"\n                class=\"clr-col-md-8\"\n                name=\"snapshot-name\"\n                [formControlName]=\"SNAPSHOT_NAME_CONTROL_NAME\"/>\n         <clr-control-error *clrIfError=\"'nameInvalid'\">\n            {{nameValidateError}}\n         </clr-control-error>\n      </clr-input-container>\n   </form>\n</vsan-edit-prompt>\n","/* Copyright 2020 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {ClrDatagridStateInterface} from \"@clr/angular\";\nimport {FileShareLoader} from \"./file-share-loader\";\nimport {FileSharesPaginationResult} from \"@generated/file-shares-pagination-result\";\nimport {VsanFileServiceShare} from \"@generated/vsan-file-service-share\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {ObjectFilter} from \"@component/datagrid/filter/object-filter\";\nimport {BaseComparator} from \"@component/datagrid/comparator/base-comparator\";\nimport {FileSharesPaginationSpec} from \"@generated/file-shares-pagination-spec\";\nimport {FileShareFilter} from \"@generated/file-share-filter\";\nimport {VsanFileShareQueryProperties} from \"@generated/vsan-file-share-query-properties\";\n\n/**\n * File share loader used when pagination is NOT supported\n */\nexport class FileShareLegacyLoader extends FileShareLoader {\n   private cachedPaginationResult: FileSharesPaginationResult;\n\n   load(state: ClrDatagridStateInterface): Promise<FileSharesPaginationResult> {\n      return new Promise<FileSharesPaginationResult>((accept, reject) => {\n         if (this.cachedPaginationResult) {\n            const clonedResult: FileSharesPaginationResult = JSON.parse(JSON.stringify(this.cachedPaginationResult));\n            this.clientSideFilterAndSort(state, clonedResult);\n            accept(clonedResult);\n            return;\n         }\n         this.loadShares(state, false)\n               .then(result => {\n                  this.cachedPaginationResult = result;\n                  accept(result);\n               })\n               .catch(reject);\n      });\n   }\n\n   prepareQuerySpec = (state: ClrDatagridStateInterface): FileSharesPaginationSpec => {\n      return FileSharesPaginationSpec.Factory.create(\n            state.page.size,\n            null,\n            this.domainName,\n            null,\n            null,\n            null);\n   };\n\n   /**\n    * Do browser side filter and sort, only works when pagination is not supported\n    * @param state\n    * @param paginationResult\n    */\n   private clientSideFilterAndSort(state: ClrDatagridStateInterface, paginationResult: FileSharesPaginationResult) {\n      if (VsanUiUtils.isEmpty(this.cachedPaginationResult.shares)) {\n         return;\n      }\n      if (state.filters) {\n         paginationResult.shares = this.cachedPaginationResult.shares.filter(share =>\n               state.filters.every(filter => (filter.filterFn as ObjectFilter<VsanFileServiceShare>)\n                     .accepts(share, filter.value)));\n      } else {\n         paginationResult.shares = this.cachedPaginationResult.shares;\n      }\n      paginationResult.total = paginationResult.shares.length;\n\n      if (state.sort) {\n         paginationResult.shares.sort(\n               (a: VsanFileServiceShare, b: VsanFileServiceShare) =>\n                     (state.sort.by as BaseComparator<VsanFileServiceShare>).compare(a, b));\n         if (state.sort.reverse) {\n            paginationResult.shares.reverse();\n         }\n      }\n   }\n}\n","/* Copyright 2020-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Injectable} from \"@angular/core\";\nimport {FileShareLoader} from \"./file-share-loader\";\nimport {ManagedObject} from \"@service/managed-object\";\nimport {FileShareLegacyLoader} from \"./file-share-legacy-loader\";\nimport {VsanFileSharesService} from \"@generated/vsan-file-shares-service\";\n\n@Injectable()\nexport class FileShareLoaderFactory {\n   constructor(private shareService: VsanFileSharesService) {}\n\n   createLoader(isPaginationSupported: boolean, domainName: string): FileShareLoader {\n      if (isPaginationSupported) {\n         return new FileShareLoader(domainName, ManagedObject.contextObject, this.shareService);\n      }\n      return new FileShareLegacyLoader(domainName, ManagedObject.contextObject, this.shareService);\n   }\n}\n","<!--Copyright 2020-2021 VMware, Inc. All rights reserved. -- VMware Confidential-->\n<div *ngIf=\"loading\" class=\"spinner central-spinner\"></div>\n<vsan-validation id=\"validation-message\"\n                 *ngIf=\"errorMessage\"\n                 [alert]=\"errorMessage\"\n                 [allowClose]=\"false\"\n                 [isSmall]=\"true\">\n</vsan-validation>\n<vsan-unavailable-view *ngIf=\"!perfServiceEnabled\"\n                       [unavailableViewSpec]=\"UnavailableViewSpec.PERF_DISABLED_ON_ANALYTICS_VIEW\"\n                       [dialogContext]=\"shareContext\"\n                       [hasEditPrivilege]=\"hasEditPermission\">\n</vsan-unavailable-view>\n<ng-container *ngIf=\"perfServiceEnabled\">\n   <vsan-unavailable-view *ngIf=\"!isFileAnalyticsEnabled\"\n                          [unavailableViewSpec]=\"UnavailableViewSpec.FILE_ANALYTICS_ON_SHARE_NOT_ENABLED\"\n                          [dialogContext]=\"shareContext\"\n                          [hasEditPrivilege]=\"hasEditPermission\">\n   </vsan-unavailable-view>\n\n   <ng-container *ngIf=\"isFileAnalyticsEnabled\">\n      <file-analytics-last-scan (scanInfoReceived)=\"update($event)\"\n                                (onError)=\"this.errorMessage = $event\">\n      </file-analytics-last-scan>\n      <ng-container *ngIf=\"!loading\">\n         <vsan-unavailable-view *ngIf=\"!scanStatus\" [unavailableViewSpec]=\"UnavailableViewSpec.FILE_ANALYTICS_NO_DATA\">\n         </vsan-unavailable-view>\n         <vsan-file-dashboard *ngIf=\"scanStatus\" [fileShares]=\"fileShares\"></vsan-file-dashboard>\n      </ng-container>\n   </ng-container>\n</ng-container>\n","/* Copyright 2017-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, EventEmitter, Input, Output} from \"@angular/core\";\nimport {ClrDatagridPagination, ClrDatagridStateInterface} from \"@clr/angular\";\nimport {LabelCellService} from \"@component/cell/label-cell.service\";\nimport {ObjectFilter} from \"@component/datagrid/filter/object-filter\";\nimport {PipeFilter} from \"@component/datagrid/filter/pipe-filter\";\nimport {PaneType} from \"@component/master-detail/slide-panel.component\";\nimport {VirtualObjectsTypeUtil} from \"@component/virtual-objects-table/virtual-objects-type.util\";\nimport {AffinitySiteLocation} from \"@generated/affinity-site-location\";\nimport {DisplayObjectType} from \"@generated/display-object-type\";\nimport {DomainOrHostData} from \"@generated/domain-or-host-data\";\nimport {StoragePolicyData} from \"@generated/storage-policy-data\";\nimport {VirtualObjectType} from \"@generated/virtual-object-type\";\nimport {VsanFileServiceCommonConfig} from \"@generated/vsan-file-service-common-config\";\nimport {VsanFileServiceShare} from \"@generated/vsan-file-service-share\";\nimport {VsanFileServiceShareSize} from \"@generated/vsan-file-service-share-size\";\nimport {VsanFileShareOwnerType} from \"@generated/vsan-file-share-owner-type\";\nimport {VsanFileShareProtocol} from \"@generated/vsan-file-share-protocol\";\nimport {VirtualObjectsContext} from \"@navigation/context/virtual-objects-context\";\nimport {NavigationService, PlatformExtension} from \"@navigation/navigation.service\";\nimport {FileSizePipe} from \"@pipe/FileSizePipe\";\nimport {Icon} from \"@util/icon\";\nimport {ReferenceWatcher} from \"@util/reference-watcher\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {Observable} from \"rxjs\";\nimport {ServiceUtils} from \"../../services/service.utils\";\nimport {FileServiceUtil} from \"../file-service-util\";\nimport {VsanFileShareNameComparator} from \"./comparators/name-comparator\";\nimport {VsanFileShareOwnerTypeComparator} from \"./comparators/owner-type-comparator\";\nimport {VsanFileSharePolicyComparator} from \"./comparators/policy-comparator\";\nimport {VsanFileShareProtocolComparator} from \"./comparators/protocol-comparator\";\nimport {VsanFileShareQuotaComparator} from \"./comparators/quota-comparator\";\nimport {VsanFileShareUsageComparator} from \"./comparators/usage-comparator\";\nimport {ShareDetailsTab} from \"./detail/share-details-tab\";\nimport {VsanFileShareUtils} from \"./file-share-util\";\nimport {OwnerTypeFilter} from \"./filters/owner-type-filter\";\nimport {PolicyFilter} from \"./filters/policy-filter\";\n\n@Component({\n   templateUrl: \"shares-list.html\",\n   selector: \"vsan-file-shares-list\",\n   styleUrls: [\"shares-list.scss\"],\n   providers: [LabelCellService, ReferenceWatcher],\n})\nexport class FileSharesListComponent {\n   Icon: typeof Icon = Icon;\n   readonly DEFAULT_ITEMS_PER_PAGE: number = 20;\n   readonly DEFAULT_ITEMS_PER_PAGE_NO_PAGINATION: number = 50;\n   readonly DETAIL_PANEL_WIDTH_PERCENT: number = 75;\n\n   private _policies: StoragePolicyData[];\n\n   @Input()\n   set policies(policies: StoragePolicyData[]) {\n      this._policies = policies;\n      this.policyFilter = new PolicyFilter(this.policies);\n      this.policyComparator = new VsanFileSharePolicyComparator(this.policies);\n   }\n\n   get policies(): StoragePolicyData[] {\n      return this._policies;\n   }\n\n   @Input()\n   fileShares: VsanFileServiceShare[];\n\n   @Input()\n   loading: boolean;\n\n   @Input()\n   totalCount: number;\n\n   @Input()\n   paginationSupported: boolean;\n\n   @Input()\n   smbProtocolSupported: boolean;\n\n   @Input()\n   smbProtocolLayerPerformanceSupported: boolean;\n\n   @Input()\n   smbAbeSupported: boolean;\n\n   @Input()\n   shareConfigs: VsanFileServiceShare[];\n\n   @Input()\n   hasReadPolicyPermission: boolean;\n\n   @Input()\n   hasEditPermission: boolean;\n\n   @Input()\n   hostPropertiesMap: Map<string, any>;\n\n   @Input()\n   availableDomains: DomainOrHostData[];\n\n   @Input()\n   isStretchedCluster: boolean;\n\n   @Input()\n   isSnapshotSupported: boolean;\n\n   @Input()\n   fileServiceConfig: VsanFileServiceCommonConfig;\n\n   @Input()\n   isAffinitySiteSupported: boolean;\n\n   private _selectedItems: VsanFileServiceShare[];\n\n   @Input()\n   set selectedItems(val: VsanFileServiceShare[]) {\n      this._selectedItems = val || [];\n      this.selectedItemsChange.emit(val);\n      this.showDetailsForPreselectedItem();\n   }\n\n   get selectedItems(): VsanFileServiceShare[] {\n      return this._selectedItems;\n   }\n\n   private _showPreselectedItemDetails: boolean;\n\n   @Input()\n   set showPreselectedItemDetails(value: boolean) {\n      this._showPreselectedItemDetails = value;\n      this.showDetailsForPreselectedItem();\n   }\n\n   @Input()\n   set showSnapshots(event: Observable<void>) {\n      this.refWatcher.watchSubscriptionRef(event.subscribe(() => {\n         if (!this.selectedItems || this.selectedItems.length !== 1) {\n            return;\n         }\n         this.openDetailsTab(this.selectedItems[0], ShareDetailsTab.SNAPSHOTS);\n      }));\n   }\n\n   @Input()\n   set showFileAnalytics(event: Observable<void>) {\n      this.refWatcher.watchSubscriptionRef(event.subscribe((s) => {\n         if (!this.selectedItems || this.selectedItems.length !== 1) {\n            return;\n         }\n         this.openDetailsTab(this.selectedItems[0], ShareDetailsTab.FILE_ANALYTICS);\n      }));\n   }\n\n   @Output()\n   selectedItemsChange: EventEmitter<VsanFileServiceShare[]> = new EventEmitter();\n\n   @Output()\n   shareDataRefresh: EventEmitter<ClrDatagridStateInterface> = new EventEmitter<ClrDatagridStateInterface>(true);\n\n   @Output()\n   onError: EventEmitter<string> = new EventEmitter<string>();\n\n   detailItem: VsanFileServiceShare;\n   preselectTab: ShareDetailsTab = ShareDetailsTab.BASIC;\n\n   nameFilter: ObjectFilter<any> = new ObjectFilter<any>(VsanFileShareUtils.NAME_FIELD);\n   labelsFilter: ObjectFilter<any> = new ObjectFilter<any>(VsanFileShareUtils.LABELS_FIELD);\n   quotaFilter: ObjectFilter<any> = new ObjectFilter<any>(VsanFileShareUtils.QUOTA_FIELD);\n   softQuotaFilter: ObjectFilter<any> = new ObjectFilter<any>(VsanFileShareUtils.SOFT_QUOTA_FIELD);\n   usedCapacityFilter: PipeFilter<any> =\n         new PipeFilter<any>(new FileSizePipe(), VsanFileShareUtils.USED_CAPACITY_FIELD);\n\n   ownerTypeFilter: OwnerTypeFilter = new OwnerTypeFilter();\n   policyFilter: PolicyFilter = null;\n\n   nameComparator: VsanFileShareNameComparator = new VsanFileShareNameComparator();\n   quotaComparator: VsanFileShareQuotaComparator =\n         new VsanFileShareQuotaComparator(VsanFileShareUtils.QUOTA_FIELD, VsanFileShareUtils.QUOTA_SIZE_FIELD);\n   softQuotaComparator: VsanFileShareQuotaComparator =\n         new VsanFileShareQuotaComparator(\n               VsanFileShareUtils.SOFT_QUOTA_FIELD,\n               VsanFileShareUtils.SOFT_QUOTA_SIZE_FIELD);\n   protocolComparator: VsanFileShareProtocolComparator = new VsanFileShareProtocolComparator();\n   policyComparator: VsanFileSharePolicyComparator = null;\n   usageComparator: VsanFileShareUsageComparator =\n         new VsanFileShareUsageComparator(VsanFileShareUtils.USAGE_OVER_QUOTA_FIELD);\n   capacityComparator: VsanFileShareUsageComparator =\n         new VsanFileShareUsageComparator(VsanFileShareUtils.USED_CAPACITY_FIELD);\n   ownerTypeComparator: VsanFileShareOwnerTypeComparator = new VsanFileShareOwnerTypeComparator();\n\n   private showDetailPanel: boolean;\n\n   VsanUiUtils: typeof VsanUiUtils = VsanUiUtils;\n   VsanFileShareUtils: typeof VsanFileShareUtils = VsanFileShareUtils;\n   VsanFileShareProtocol: typeof VsanFileShareProtocol = VsanFileShareProtocol;\n   ServiceUtils: typeof ServiceUtils = ServiceUtils;\n\n   constructor(private navigationService: NavigationService, private refWatcher: ReferenceWatcher) {\n   }\n\n   refresh(state: ClrDatagridStateInterface): void {\n      this.shareDataRefresh.emit(state);\n   }\n\n   isSelected(item: VsanFileServiceShare): boolean {\n      return this.detailItem === item && this.showDetailPanel;\n   }\n\n   get activePane(): PaneType {\n      return this.showDetailPanel ? PaneType.RIGHT : PaneType.LEFT;\n   }\n\n   set activePane(pane: PaneType) {\n      this.showDetailPanel = pane === PaneType.RIGHT;\n   }\n\n   toggle(item: VsanFileServiceShare): void {\n      if (this.detailItem === item) {\n         this.showDetailPanel = !this.showDetailPanel;\n      } else {\n         this.openDetailsTab(item);\n      }\n   }\n\n   openDetailsTab(item: VsanFileServiceShare, tab: ShareDetailsTab = this.preselectTab): void {\n      this.detailItem = item;\n      this.preselectTab = tab;\n      this.activePane = PaneType.RIGHT;\n   }\n\n   navigateToVirtualObjects(share: VsanFileServiceShare): void {\n      const filter: VirtualObjectType = share.managedBy === VsanFileShareOwnerType.CNS ?\n            VirtualObjectsTypeUtil.getVirtualObjectTypeFilter(DisplayObjectType.FILE_VOLUME)\n            : VirtualObjectsTypeUtil.getVirtualObjectTypeFilter(DisplayObjectType.FILE_SHARE);\n      const virtualObjectsContext: VirtualObjectsContext = {\n         presentVirtualObjectUuids: share.objectUuids,\n         filterTypes: [filter],\n      };\n      this.navigationService.navigateTo(PlatformExtension.VIRTUAL_OBJECTS, null, virtualObjectsContext);\n   }\n\n   navigateToHost(share: VsanFileServiceShare): void {\n      this.navigationService.navigateTo(\n            PlatformExtension.HOST_SUMMARY,\n            this.hostPropertiesMap.get(share.host).nodeRef);\n   }\n\n   getPolicyName(policyId: string): string {\n      let policy: StoragePolicyData = null;\n\n      if (this.policies) {\n         policy = this.policies.find(p => p.id === policyId);\n      }\n\n      return policy ? policy.name : null;\n   }\n\n   getQuotaLabel(quota: number, quotaSize: VsanFileServiceShareSize): string {\n      return VsanUiUtils.getString(\"vsan.fileservices.shares.quota\",\n            VsanUiUtils.localizeNumber(quota),\n            VsanFileShareUtils.getSizeLabel(quotaSize));\n   }\n\n   getOwnerTypeLabel(managedBy: VsanFileShareOwnerType): string {\n      return VsanFileShareUtils.getShareOwnerType(managedBy);\n   }\n\n   getProtocolLabel(protocol: VsanFileShareProtocol): string {\n      return VsanFileShareUtils.getShareProtocolLabel(protocol);\n   }\n\n   getHostNameWithDomain(share: VsanFileServiceShare): string {\n      const site: DomainOrHostData = this.findDomainByShare(share);\n      return site?.isPreferred\n            ? VsanUiUtils.getString(\"vsan.fileservices.affinitySite.preferred.label\", share.host)\n            : VsanUiUtils.getString(\"vsan.fileservices.affinitySite.nonPreferred.label\", share.host);\n   }\n\n   getAffinityLocationStateIconShape(share: VsanFileServiceShare): string {\n      return this.isShareInExpectedDomain(share)\n            ? Icon.CLR_SUCCESS_STANDARD_ICON_SHAPE\n            : Icon.CLR_WARN_STANDARD_ICON_SHAPE;\n   }\n\n   getAffinityLocationStateIconClass(share: VsanFileServiceShare): string {\n      return Icon.clrIconShapeClassMap[this.getAffinityLocationStateIconShape(share)];\n   }\n\n   getAffinityLocationStateIconTitle(share: VsanFileServiceShare): string {\n      return this.isShareInExpectedDomain(share)\n            ? this.getAffinitySite(share.config.affinityLocation)\n            : VsanUiUtils.getString(\"vsan.fileservices.shares.col.affinity.mismatch\");\n   }\n\n   getAffinitySite(site: AffinitySiteLocation): string {\n      return FileServiceUtil.getAffinitySiteLabel(site, this.availableDomains);\n   }\n\n   get defaultPageSize(): number {\n      return this.paginationSupported\n            ? this.DEFAULT_ITEMS_PER_PAGE\n            : this.DEFAULT_ITEMS_PER_PAGE_NO_PAGINATION;\n   }\n\n   handleError(error: string): void {\n      this.onError.emit(error);\n   }\n\n   private showDetailsForPreselectedItem(): void {\n      if (!this._showPreselectedItemDetails || !VsanUiUtils.isSingleElement(this.selectedItems)) {\n         return;\n      }\n\n      this.openDetailsTab(this.selectedItems[0]);\n      this._showPreselectedItemDetails = false;\n   }\n\n   getPaginationLabel(pagination: ClrDatagridPagination): string {\n      return VsanUiUtils.getDatagridPaginatedFooterLabel(pagination.totalItems, pagination.firstItem,\n            pagination.lastItem, this.defaultPageSize,\n            \"vsan.fileservices.shares.grid.fileshare\",\n            \"vsan.fileservices.shares.grid.fileshares\",\n            \"vsan.fileservices.shares.grid.page\");\n   }\n\n   private isShareInExpectedDomain(share: VsanFileServiceShare): boolean {\n      // The share can be on any domain, both preferred & secondary are expected\n      if (share.config.affinityLocation === AffinitySiteLocation.NONE) {\n         return true;\n      }\n      const site: DomainOrHostData = this.findDomainByShare(share);\n      if (!site) {\n         return false;\n      }\n      if (share.config.affinityLocation === AffinitySiteLocation.PREFERRED_DOMAIN) {\n         // The share is expected to be on preferred domain, we have to check if the site is preferred site\n         return site.isPreferred;\n      }\n      return !site.isPreferred;\n   }\n\n   private findDomainByShare(share: VsanFileServiceShare): DomainOrHostData {\n      return this.availableDomains.find(domain => domain.children.some(child => child.label === share.host));\n   }\n}\n"]}