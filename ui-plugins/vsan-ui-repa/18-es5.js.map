{"version":3,"sources":["webpack:///src/app/vsan/common/component/datetime-picker/datetime-picker.html","webpack:///src/app/vsan/common/component/datetime-picker/picker-type.ts","webpack:///src/app/vsan/common/component/datetime-picker/date-range-picker.component.ts","webpack:///src/app/vsan/common/component/datetime-picker/datetime-picker.component.ts"],"names":["PickerType","DateRangePickerComponent","DateRangePickerState","enabled","pickerType","BOTH","changeRange","_dayInterval","updateCurrentDateRange","startTime","createStartDate","currentDateRange","createDateRange","Date","setHours","getHours","dayInterval","setSeconds","setMilliseconds","createEndDate","createNoSecondsDate","endTime","endDate","currentPickerState","LAST_X_HOURS","getTime","DAY_IN_MILLISECONDS","DateRangeData","validateDate","fromDateError","toDateError","invalidInterval","fromDate","getString","toDate","currentTime","onRangeLastXDaysClick","onRangeCustomClick","CUSTOM_RANGE","onRefreshBtnClick","emit","value","_fromDate","_toDate","_currentPickerState","currentStateLabel","error","from","to","Math","ceil","today","applyFormatting","DAY_ONLY","DatetimePickerComponent","dateTimeAdapter","selectMode","DateTimeSelectMode","SINGLE","stepMinute","datetimeChange","isOpen","setLocale","getLocaleForDecimal","datetimeValue","val","RANGE","Array","createDateRangeData","placeholder","TIMER","dates","length","target","click","setTimeout"],"mappings":"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","file":"18-es5.js","sourcesContent":["<!--Copyright 2017-2021 VMware, Inc. All rights reserved. -- VMware Confidential-->\n<!-- Label and input filed -->\n<div class=\"horizontal-layout\">\n   <label id=\"datetime-picker-label-{{label}}\"\n          *ngIf=\"label\"\n          for=\"{{label}}\"\n          class=\"clr-control-label datetime-picker-label\">\n      {{label}}\n   </label>\n   <div class=\"clr-control-container\" [class.clr-error]=\"errorMessage\">\n      <div class=\"clr-input-wrapper\">\n         <input clrInput\n                id=\"{{label}}\"\n                ngDefaultControl\n                [(ngModel)]=\"datetime\"\n                [owlDateTime]=\"picker\"\n                [owlDateTimeTrigger]=\"picker\"\n                [selectMode]=\"selectMode\"\n                [placeholder]=\"placeholder\"\n                [attr.aria-describedby]=\"label+'-error'\"\n                (keyup.enter)=\"onEnter($event.target)\"\n                [min]=\"min\"\n                [max]=\"max\"/>\n         <clr-icon class=\"clr-validate-icon\"\n                   shape=\"exclamation-circle\"\n                   title=\"{{'vsan.common.srMessage.error' | localized}}\"\n                   [attr.aria-label]=\"'vsan.common.srMessage.error' | localized\">\n         </clr-icon>\n      </div>\n      <span id=\"{{label}}-error\" class=\"clr-subtext\" *ngIf=\"errorMessage\">{{errorMessage}}</span>\n   </div>\n</div>\n<!-- Data and time picker -->\n<!-- Setting the startAt is needed because of an issue in the owl-date-time component. Initially if no datetime has been\nspecified and the component is opened the visualized time is the max time. But when the component and closed(with OK)\nwithout any change, it doesn't set the shown date(which was the max time) but sets the current time, which could be\nbigger than the max time. -->\n<owl-date-time #picker ngDefaultControl\n               [disabled]=\"disabled\"\n               [pickerType]=\"pickerType\"\n               [stepMinute]=\"stepMinute\"\n               (afterPickerClosed)=\"togglePicker(false)\"\n               (afterPickerOpen)=\"togglePicker(true)\"\n               [startAt]=\"datetime ? datetime : max\">\n</owl-date-time>\n","/* Copyright 2020 VMware, Inc. All rights reserved. -- VMware Confidential */\n/**\n* Available date time picker types.\n*/\nexport enum PickerType {\n   TIMER = \"timer\",\n   CALENDAR = \"calendar\",\n   BOTH = \"both\",\n}","/* Copyright 2018-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, EventEmitter, Input, OnInit, Output} from \"@angular/core\";\nimport {Logger} from \"@util/logger\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {VsanDateTimeUtils} from \"@util/vsan-dateteime-util\";\nimport {PickerType} from \"@component/datetime-picker/picker-type\";\nimport {DateFormat} from \"@util/date-time\";\n\n@Component({\n   selector: \"vsan-date-range-picker\",\n   templateUrl: \"date-range-picker.html\",\n   styleUrls: [\"date-range-picker.scss\"],\n})\nexport class DateRangePickerComponent implements OnInit {\n   DateRangePickerState: typeof DateRangePickerState = DateRangePickerState;\n\n   @Input()\n   private enabled: boolean = true;\n\n   @Input()\n   signpostContent: string;\n\n   @Input()\n   pickerType: PickerType = PickerType.BOTH;\n\n   @Output()\n   changeRange: EventEmitter<DateRangeData> = new EventEmitter<DateRangeData>(true);\n\n   currentStateLabel: string;\n   currentDateRange: DateRangeData;\n\n   invalidInterval: boolean;\n\n   private _dayInterval: number = 1;\n\n   get dayInterval(): number {\n      return this._dayInterval;\n   }\n\n   @Input()\n   set dayInterval(value: number) {\n      this._dayInterval = value;\n      this.validateDate();\n   }\n\n   fromDateError: string;\n   private _fromDate: Date;\n\n   get fromDate(): Date {\n      return this._fromDate;\n   }\n\n   set fromDate(value: Date) {\n      this._fromDate = value;\n      this.validateDate();\n   }\n\n   toDateError: string;\n   private _toDate: Date;\n\n   get toDate(): Date {\n      return this._toDate;\n   }\n\n   set toDate(value: Date) {\n      this._toDate = value;\n      this.validateDate();\n   }\n\n   private _currentPickerState: DateRangePickerState;\n\n   get currentPickerState(): DateRangePickerState {\n      return this._currentPickerState;\n   }\n\n   set currentPickerState(value: DateRangePickerState) {\n      if (this._currentPickerState === value) {\n         return;\n      }\n\n      this._currentPickerState = value;\n      switch (value) {\n         case DateRangePickerState.LAST_X_HOURS:\n            this.currentStateLabel = VsanUiUtils.getString(\"vsan.date.range.picker.last.label\");\n            break;\n         case DateRangePickerState.CUSTOM_RANGE:\n            this.currentStateLabel = VsanUiUtils.getString(\"vsan.date.range.picker.custom.label\");\n            break;\n         default:\n            Logger.error(\"Unknown DateRangePickerState: \" + value);\n      }\n\n      this.validateDate();\n   }\n\n   ngOnInit(): void {\n      if (!this.currentPickerState) {\n         this.currentPickerState = DateRangePickerState.LAST_X_HOURS;\n      }\n      this.fromDate = this.createStartDate();\n      this.toDate = this.createEndDate();\n      this.updateCurrentDateRange();\n      this.changeRange.emit(this.currentDateRange);\n   }\n\n   updateCurrentDateRange = () => {\n      const startTime: Date = this.createStartDate();\n      this.currentDateRange = this.createDateRange(startTime);\n   };\n\n   private createStartDate = (): Date => {\n      const startTime: Date = new Date();\n      startTime.setHours(startTime.getHours() - this.dayInterval * 24);\n      startTime.setSeconds(0);\n      startTime.setMilliseconds(0);\n      return startTime;\n   };\n\n   private createEndDate = (): Date => {\n      return VsanDateTimeUtils.createNoSecondsDate();\n   };\n\n   private createDateRange = (startTime: Date, endTime?: Date): DateRangeData => {\n      let endDate: number;\n      if (this.currentPickerState === DateRangePickerState.LAST_X_HOURS || !endTime) {\n         endDate = startTime.getTime() + VsanDateTimeUtils.DAY_IN_MILLISECONDS * this.dayInterval;\n      } else {\n         endDate = endTime.getTime();\n      }\n      return new DateRangeData(startTime.getTime(), endDate);\n   };\n\n   private validateDate = () => {\n      this.fromDateError = \"\";\n      this.toDateError = \"\";\n      this.invalidInterval = false;\n\n      if (this.currentPickerState === DateRangePickerState.LAST_X_HOURS) {\n         if (this.dayInterval <= 0 || this.dayInterval > 30) {\n            this.invalidInterval = true;\n            return;\n         } else {\n            this.invalidInterval = false;\n         }\n      } else {\n         if (!this.fromDate) {\n            this.fromDateError = VsanUiUtils.getString(\"vsan.date.range.picker.custom.startTime.empty.error\");\n            return;\n         }\n\n         if (!this.toDate) {\n            this.toDateError = VsanUiUtils.getString(\"vsan.date.range.picker.custom.endTime.empty.error\");\n            return;\n         }\n\n         const currentTime: number = VsanDateTimeUtils.createNoSecondsDate().getTime();\n         const startTime: number = this.fromDate.getTime();\n         const endTime: number = this.toDate.getTime();\n         if (endTime - currentTime > 0) {\n            // The end time can not be greater than the current time.\n            this.toDateError = VsanUiUtils.getString(\"vsan.date.range.picker.custom.endTime.error\");\n         } else if (endTime - startTime <= 0) {\n            // The end time should be greater than the start time.\n            this.fromDateError = VsanUiUtils.getString(\"vsan.date.range.picker.custom.startTime.error\");\n         } else if ((endTime - startTime) / VsanDateTimeUtils.DAY_IN_MILLISECONDS > 30) {\n            this.fromDateError = this.toDateError = VsanUiUtils.getString(\"vsan.date.range.picker.interval.error\");\n         }\n      }\n   };\n\n   onRangeLastXDaysClick = () => {\n      this.currentPickerState = DateRangePickerState.LAST_X_HOURS;\n   };\n\n   onRangeCustomClick = () => {\n      this.currentPickerState = DateRangePickerState.CUSTOM_RANGE;\n   };\n\n   get disableRefresh(): boolean {\n      return !this.enabled || !!this.fromDateError || !!this.toDateError || this.invalidInterval;\n   }\n\n   onRefreshBtnClick = () => {\n      if (this.currentPickerState === DateRangePickerState.CUSTOM_RANGE) {\n         const startTime: Date = new Date(this.fromDate);\n         const endTime: Date = new Date(this.toDate);\n         this.currentDateRange = this.createDateRange(startTime, endTime);\n      } else if (this.currentPickerState === DateRangePickerState.LAST_X_HOURS) {\n         /**\n          * have to reset the current time range because the time range is not correct\n          * if user clicks the query button 30 minutes later after the page opened.\n          */\n         this.updateCurrentDateRange();\n      }\n\n      this.changeRange.emit(this.currentDateRange);\n   };\n}\n\n/**\n * date range picker states enum to indicate what option is selected\n */\nexport enum DateRangePickerState {\n   LAST_X_HOURS,\n   CUSTOM_RANGE,\n}\n\nexport class DateRangeData {\n   constructor(public from: number, public to: number) {\n      this.from = from;\n      this.to = to;\n   }\n\n   getNumberOfDays(): number {\n      return Math.ceil((this.to - this.from) / VsanDateTimeUtils.DAY_IN_MILLISECONDS);\n   }\n\n   isStartingFromToday(): boolean {\n      const today: Date =  new Date();\n      return VsanDateTimeUtils.applyFormatting(today, DateFormat.DAY_ONLY) ===\n            VsanDateTimeUtils.applyFormatting(this.to, DateFormat.DAY_ONLY);\n   }\n}\n","/* Copyright 2017-2021 VMware, Inc. All rights reserved. -- VMware Confidential */\nimport {Component, EventEmitter, Input, OnInit, Output, ViewChild} from \"@angular/core\";\nimport {VsanUiUtils} from \"@util/vsan-util\";\nimport {DateTimeAdapter, OwlDateTimeComponent} from \"ng-pick-datetime\";\nimport {DateRangeData} from \"@component/datetime-picker/date-range-picker.component\";\nimport {Logger} from \"@util/logger\";\nimport {PickerType} from \"@component/datetime-picker/picker-type\";\n\n@Component({\n   selector: 'vsan-datetime-picker',\n   styleUrls: ['datetime-picker.scss'],\n   templateUrl: 'datetime-picker.html',\n})\nexport class DatetimePickerComponent implements OnInit {\n\n   @ViewChild(\"picker\")\n   picker: OwlDateTimeComponent<any>;\n\n   @Input()\n   selectMode: DateTimeSelectMode = DateTimeSelectMode.SINGLE;\n\n   /**\n    * Optional label to display in front of the datetime picker input field\n    */\n   @Input()\n   label: string;\n\n   @Input()\n   disabled: boolean;\n\n   @Input()\n   placeholder: string;\n\n   @Input()\n   errorMessage: string;\n\n   @Input()\n   pickerType: PickerType = PickerType.BOTH;\n\n   @Input()\n   stepMinute: number = 1;\n\n   private datetimeValue: Date | Date[];\n\n   @Input()\n   min: Date;\n\n   @Input()\n   max: Date;\n\n   @Input()\n   set datetime(val: Date | Date[] | DateRangeData) {\n      // validate input value\n      if (this.selectMode === DateTimeSelectMode.SINGLE && val && !(val instanceof Date)) {\n         Logger.error(\"Expected input of type date\");\n         return;\n      }\n      if (this.selectMode === DateTimeSelectMode.RANGE && val && !(val instanceof DateRangeData) &&\n            !(val instanceof Array)) {\n         Logger.error(\"Expected input of type date array or DateRangeData\");\n         return;\n      }\n\n      if (val === this.datetimeValue) {\n         return;\n      }\n      if (!val) {\n         this.datetimeValue = null;\n      }\n      if (val instanceof DateRangeData) {\n         val = [new Date(val.from), new Date(val.to)];\n      }\n\n      this.datetimeValue = val;\n      if (val instanceof Array) {\n         this.datetimeChange.emit(this.createDateRangeData(val));\n      } else {\n         this.datetimeChange.emit(val);\n      }\n   }\n\n   get datetime(): Date | Date[] | DateRangeData {\n      return this.datetimeValue;\n   }\n\n   /**\n    * Triggered when new datetime is picked by the user\n    */\n   @Output()\n   datetimeChange: EventEmitter<Date | DateRangeData> = new EventEmitter<Date | DateRangeData>();\n\n   private isOpen: boolean = false;\n\n   constructor(dateTimeAdapter: DateTimeAdapter<any>) {\n      // Set time picker language.\n      dateTimeAdapter.setLocale(VsanUiUtils.getLocaleForDecimal());\n   }\n\n   ngOnInit(): void {\n      if (!this.placeholder) {\n         if (this.pickerType === PickerType.TIMER) {\n            this.placeholder = VsanUiUtils.getString(\"vsan.common.time.format\");\n         } else {\n            this.placeholder = this.selectMode === DateTimeSelectMode.SINGLE ?\n                  VsanUiUtils.getString(\"vsan.common.custom.date.format\") :\n                  VsanUiUtils.getString(\"vsan.common.range.date.format\");\n         }\n      }\n   }\n\n   private createDateRangeData(dates: Date[]): DateRangeData {\n      const from: number = (dates && dates.length > 0 && dates[0]) ? dates[0].getTime() : null;\n      const to: number = (dates && dates.length > 1 && dates[1]) ? dates[1].getTime() : null;\n      return new DateRangeData(from, to);\n   }\n\n   /**\n    * Open datetime picker when enter key is pressed on the input\n    */\n   onEnter(target: HTMLElement): void {\n      if (!this.isOpen) {\n         target.click();\n      }\n   }\n\n   /**\n    * Picker events for open/close are triggered before handling enter key. We need to delay setting\n    * the related isOpened variable in order to properly handle it in enter event.\n    */\n   togglePicker(isOpen: boolean): void {\n      setTimeout(() => this.isOpen = isOpen, 300);\n   }\n}\n\n/**\n * Available date time picker modes\n */\nexport enum DateTimeSelectMode {\n   // ref https://daniel-projects.firebaseapp.com/owlng/date-time-picker\n   SINGLE = \"single\",\n   RANGE = \"range\",\n}"]}